
function b64ToUint6(a){return a>64&&91>a?a-65:a>96&&123>a?a-71:a>47&&58>a?a+4:43===a?62:47===a?63:0}function base64DecToArr(a,b){for(var c,d,e=a.replace(/[^A-Za-z0-9\+\/]/g,""),f=e.length,g=b?Math.ceil((3*f+1>>2)/b)*b:3*f+1>>2,h=new Uint8Array(g),i=0,j=0,k=0;f>k;k++)if(d=3&k,i|=b64ToUint6(e.charCodeAt(k))<<18-6*d,3===d||f-k===1){for(c=0;3>c&&g>j;c++,j++)h[j]=i>>>(16>>>c&24)&255;i=0}return h}function uint6ToB64(a){return 26>a?a+65:52>a?a+71:62>a?a-4:62===a?43:63===a?47:65}function base64EncArr(a){for(var b=2,c="",d=a.length,e=0,f=0;d>f;f++)b=f%3,f>0&&4*f/3%76===0&&(c+="\r\n"),e|=a[f]<<(16>>>b&24),(2===b||a.length-f===1)&&(c+=String.fromCharCode(uint6ToB64(e>>>18&63),uint6ToB64(e>>>12&63),uint6ToB64(e>>>6&63),uint6ToB64(63&e)),e=0);return c.substr(0,c.length-2+b)+(2===b?"":1===b?"=":"==")}function UTF8ArrToStr(a){for(var b,c="",d=a.length,e=0;d>e;e++)b=a[e],c+=String.fromCharCode(b>251&&254>b&&d>e+5?1073741824*(b-252)+(a[++e]-128<<24)+(a[++e]-128<<18)+(a[++e]-128<<12)+(a[++e]-128<<6)+a[++e]-128:b>247&&252>b&&d>e+4?(b-248<<24)+(a[++e]-128<<18)+(a[++e]-128<<12)+(a[++e]-128<<6)+a[++e]-128:b>239&&248>b&&d>e+3?(b-240<<18)+(a[++e]-128<<12)+(a[++e]-128<<6)+a[++e]-128:b>223&&240>b&&d>e+2?(b-224<<12)+(a[++e]-128<<6)+a[++e]-128:b>191&&224>b&&d>e+1?(b-192<<6)+a[++e]-128:b);return c}function strToUTF8Arr(a){for(var b,c,d=a.length,e=0,f=0;d>f;f++)c=a.charCodeAt(f),e+=128>c?1:2048>c?2:65536>c?3:2097152>c?4:67108864>c?5:6;b=new Uint8Array(e);for(var g=0,h=0;e>g;h++)c=a.charCodeAt(h),128>c?b[g++]=c:2048>c?(b[g++]=192+(c>>>6),b[g++]=128+(63&c)):65536>c?(b[g++]=224+(c>>>12),b[g++]=128+(c>>>6&63),b[g++]=128+(63&c)):2097152>c?(b[g++]=240+(c>>>18),b[g++]=128+(c>>>12&63),b[g++]=128+(c>>>6&63),b[g++]=128+(63&c)):67108864>c?(b[g++]=248+(c>>>24),b[g++]=128+(c>>>18&63),b[g++]=128+(c>>>12&63),b[g++]=128+(c>>>6&63),b[g++]=128+(63&c)):(b[g++]=252+c/1073741824,b[g++]=128+(c>>>24&63),b[g++]=128+(c>>>18&63),b[g++]=128+(c>>>12&63),b[g++]=128+(c>>>6&63),b[g++]=128+(63&c));return b}(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W={}.hasOwnProperty,X=function(a,b){return function(){return a.apply(b,arguments)}},Y=[].slice,Z=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};if(null==window.Nimbus&&(window.Nimbus={}),r=window.Nimbus,r.realtime={},r.realtime.handle_initialization=null,r.loaded=!1,window.handleClientLoad=function(){return console.log("loaded CALLED"),r.loaded=!0,r.gapi_loaded=!1,r.gapi_loaded_callback=function(){return console.log("the orginal gapi callback")},gapi.load("auth:client,drive-realtime,drive-share",function(){return log("gapi for everything loaded"),r.gapi_loaded=!0,r.gapi_loaded_callback()}),r.gdrive_initialized?r.Auth.initialize():void 0},K=document.getElementsByTagName("head")[0],Q=document.createElement("script"),Q.type="text/javascript",Q.src="https://apis.google.com/js/client.js?onload=handleClientLoad",K.appendChild(Q),i=function(){function a(a){this.client=new j(a)}return a}(),i.ApiError=function(){function a(a,b,c){var d,e;if(this.method=b,this.url=c,this.status=a.status,e=a.responseType?a.response||a.responseText:a.responseText)try{this.responseText=e.toString(),this.response=JSON.parse(e)}catch(f){d=f,this.response=null}else this.responseText="(no response)",this.response=null}return a.prototype.toString=function(){return"Dropbox API error "+this.status+" from "+this.method+" "+this.url+" :: "+this.responseText},a.prototype.inspect=function(){return this.toString()},a}(),"undefined"!=typeof window&&null!==window?window.atob&&window.btoa?(y=function(a){return window.atob(a)},E=function(a){return window.btoa(a)}):(A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F=function(a,b,c){var d,e;for(e=3-b,a<<=8*e,d=3;d>=e;)c.push(A.charAt(a>>6*d&63)),d-=1;for(d=b;3>d;)c.push("="),d+=1;return null},z=function(a,b,c){var d,e;for(e=4-b,a<<=6*e,d=2;d>=e;)c.push(String.fromCharCode(a>>8*d&255)),d-=1;return null},E=function(a){var b,c,d,e,f,g;for(e=[],b=0,c=0,d=f=0,g=a.length;g>=0?g>f:f>g;d=g>=0?++f:--f)b=b<<8|a.charCodeAt(d),c+=1,3===c&&(F(b,c,e),b=c=0);return c>0&&F(b,c,e),e.join("")},y=function(a){var b,c,d,e,f,g,h;for(f=[],b=0,d=0,e=g=0,h=a.length;(h>=0?h>g:g>h)&&(c=a.charAt(e),"="!==c);e=h>=0?++g:--g)b=b<<6|A.indexOf(c),d+=1,4===d&&(z(b,d,f),b=d=0);return d>0&&z(b,d,f),f.join("")}):(y=function(a){var b,c;return b=new Buffer(a,"base64"),function(){var a,d,e;for(e=[],c=a=0,d=b.length;d>=0?d>a:a>d;c=d>=0?++a:--a)e.push(String.fromCharCode(b[c]));return e}().join("")},E=function(a){var b,c;return b=new Buffer(function(){var b,d,e;for(e=[],c=b=0,d=a.length;d>=0?d>b:b>d;c=d>=0?++b:--b)e.push(a.charCodeAt(c));return e}()),b.toString("base64")}),i.Client=function(){function a(a){this.sandbox=a.sandbox||!1,this.apiServer=a.server||this.defaultApiServer(),this.authServer=a.authServer||this.defaultAuthServer(),this.fileServer=a.fileServer||this.defaultFileServer(),this.oauth=new k(a),this.uid=null,this.authState=null,this.authError=null,this._credentials=null,this.setCredentials(a),this.setupUrls()}return a.prototype.authDriver=function(a){return this.driver=a,this},a.prototype.dropboxUid=function(){return this.uid},a.prototype.credentials=function(){return this._credentials||this.computeCredentials(),this._credentials},a.prototype.authenticate=function(a){var b,c;return b=null,c=function(d){return function(){var e;if(b!==d.authState&&(b=d.authState,d.driver.onAuthStateChange))return d.driver.onAuthStateChange(d,c);switch(d.authState){case j.RESET:return d.requestToken(function(a,b){var e,f;return a?(d.authError=a,d.authState=j.ERROR):(e=b.oauth_token,f=b.oauth_token_secret,d.oauth.setToken(e,f),d.authState=j.REQUEST),d._credentials=null,c()});case j.REQUEST:return e=d.authorizeUrl(d.oauth.token),d.driver.doAuthorize(e,d.oauth.token,d.oauth.tokenSecret,function(){return d.authState=j.AUTHORIZED,d._credentials=null,c()});case j.AUTHORIZED:return d.getAccessToken(function(a,b){return a?(d.authError=a,d.authState=j.ERROR):(d.oauth.setToken(b.oauth_token,b.oauth_token_secret),d.uid=b.uid,d.authState=j.DONE),d._credentials=null,c()});case j.DONE:return a(null,d);case i.SIGNED_OFF:return d.reset(),c();case j.ERROR:return a(d.authError)}}}(this),c(),this},a.prototype.signOut=function(a){var b,c;return c=this.urls.signOut,b=this.oauth.addAuthParams("POST",c,{}),i.Xhr.request("POST",c,b,null,function(b){return function(c){return c?a(c):(b.reset(),b.authState=j.SIGNED_OFF,b.driver.onAuthStateChange?b.driver.onAuthStateChange(b,function(){return a(c)}):a(c))}}(this))},a.prototype.signOff=function(a){return this.signOut(a)},a.prototype.getUserInfo=function(a){var b,c;return c=this.urls.accountInfo,b=this.oauth.addAuthParams("GET",c,{}),i.Xhr.request("GET",c,b,null,function(b,c){return a(b,i.UserInfo.parse(c),c)})},a.prototype.readFile=function(a,b,c){var d,e,f;return c||"function"!=typeof b||(c=b,b=null),f=""+this.urls.getFile+"/"+this.urlEncodePath(a),d={},e=null,b&&(b.versionTag?d.rev=b.versionTag:b.rev&&(d.rev=b.rev),b.blob&&(e="blob"),b.binary&&(e="b")),this.oauth.addAuthParams("GET",f,d),i.Xhr.request2("GET",f,d,null,null,e,function(a,b,d){return c(a,b,i.Stat.parse(d))})},a.prototype.writeFile=function(a,b,c,d){var e;return d||"function"!=typeof c||(d=c,c=null),e=i.Xhr.canSendForms&&"object"==typeof b,e?this.writeFileUsingForm(a,b,c,d):this.writeFileUsingPut(a,b,c,d)},a.prototype.writeFileUsingForm=function(a,b,c,d){var e,f,g,h,j;return h=a.lastIndexOf("/"),-1===h?(f=a,a=""):(f=a.substring(h),a=a.substring(0,h)),j=""+this.urls.postFile+"/"+this.urlEncodePath(a),g={file:f},c&&(c.noOverwrite&&(g.overwrite="false"),c.lastVersionTag?g.parent_rev=c.lastVersionTag:(c.parentRev||c.parent_rev)&&(g.parent_rev=c.parentRev||c.parent_rev)),this.oauth.addAuthParams("POST",j,g),delete g.file,e={name:"file",value:b,fileName:f,contentType:"application/octet-stream"},i.Xhr.multipartRequest(j,e,g,null,function(a,b){return d(a,i.Stat.parse(b))})},a.prototype.writeFileUsingPut=function(a,b,c,d){var e,f;return f=""+this.urls.putFile+"/"+this.urlEncodePath(a),e={},c&&(c.noOverwrite&&(e.overwrite="false"),c.lastVersionTag?e.parent_rev=c.lastVersionTag:(c.parentRev||c.parent_rev)&&(e.parent_rev=c.parentRev||c.parent_rev)),this.oauth.addAuthParams("POST",f,e),i.Xhr.request2("POST",f,e,null,b,null,function(a,b){return d(a,i.Stat.parse(b))})},a.prototype.stat=function(a,b,c){var d,e;return c||"function"!=typeof b||(c=b,b=null),e=""+this.urls.metadata+"/"+this.urlEncodePath(a),d={},b&&(null!=b.version&&(d.rev=b.version),(b.removed||b.deleted)&&(d.include_deleted="true"),b.readDir&&(d.list="true",b.readDir!==!0&&(d.file_limit=b.readDir.toString())),b.cacheHash&&(d.hash=b.cacheHash)),d.include_deleted||(d.include_deleted="false"),d.list||(d.list="false"),this.oauth.addAuthParams("GET",e,d),i.Xhr.request("GET",e,d,null,function(a,b){var d,e,f;return f=i.Stat.parse(b),d=(null!=b?b.contents:void 0)?function(){var a,c,d,f;for(d=b.contents,f=[],a=0,c=d.length;c>a;a++)e=d[a],f.push(i.Stat.parse(e));return f}():void 0,c(a,f,d)})},a.prototype.readdir=function(a,b,c){var d;return c||"function"!=typeof b||(c=b,b=null),d={readDir:!0},b&&(null!=b.limit&&(d.readDir=b.limit),b.versionTag&&(d.versionTag=b.versionTag)),this.stat(a,d,function(a,b,d){var e,f;return e=d?function(){var a,b,c;for(c=[],a=0,b=d.length;b>a;a++)f=d[a],c.push(f.name);return c}():null,c(a,e,b,d)})},a.prototype.metadata=function(a,b,c){return this.stat(a,b,c)},a.prototype.makeUrl=function(a,b,c){var d,e,f;return c||"function"!=typeof b||(c=b,b=null),a=this.urlEncodePath(a),b&&b.download?(d=!0,f=""+this.urls.media+"/"+a):(d=!1,f=""+this.urls.shares+"/"+a),e=b&&(b["long"]||b.longUrl)?{short_url:"false"}:{},this.oauth.addAuthParams("POST",f,e),i.Xhr.request("POST",f,e,null,function(a,b){return c(a,i.PublicUrl.parse(b,d))})},a.prototype.history=function(a,b,c){var d,e;return c||"function"!=typeof b||(c=b,b=null),e=""+this.urls.revisions+"/"+this.urlEncodePath(a),d={},b&&null!=b.limit&&(d.rev_limit=b.limit),this.oauth.addAuthParams("GET",e,d),i.Xhr.request("GET",e,d,null,function(a,b){var d,e;return e=b?function(){var a,c,e;for(e=[],a=0,c=b.length;c>a;a++)d=b[a],e.push(i.Stat.parse(d));return e}():void 0,c(a,e)})},a.prototype.revisions=function(a,b,c){return this.history(a,b,c)},a.prototype.thumbnailUrl=function(a,b){var c,d;return d=""+this.urls.thumbnails+"/"+this.urlEncodePath(a),c={},b&&(b.format?c.format=b.format:b.png&&(c.format="png"),b.size&&(c.size=b.size)),this.oauth.addAuthParams("GET",d,c),""+d+"?"+i.Xhr.urlEncode(c)},a.prototype.readThumbnail=function(a,b,c){var d,e;return c||"function"!=typeof b||(c=b,b=null),e=this.thumbnailUrl(a,b),d="b",b&&b.blob&&(d="blob"),i.Xhr.request2("GET",e,{},null,null,d,function(a,b,d){return c(a,b,i.Stat.parse(d))})},a.prototype.revertFile=function(a,b,c){var d,e;return e=""+this.urls.restore+"/"+this.urlEncodePath(a),d={rev:b},this.oauth.addAuthParams("POST",e,d),i.Xhr.request("POST",e,d,null,function(a,b){return c(a,i.Stat.parse(b))})},a.prototype.restore=function(a,b,c){return this.revertFile(a,b,c)},a.prototype.findByName=function(a,b,c,d){var e,f;return d||"function"!=typeof c||(d=c,c=null),f=""+this.urls.search+"/"+this.urlEncodePath(a),e={query:b},c&&(null!=c.limit&&(e.file_limit=c.limit),(c.removed||c.deleted)&&(e.include_deleted=!0)),this.oauth.addAuthParams("GET",f,e),i.Xhr.request("GET",f,e,null,function(a,b){var c,e;return e=b?function(){var a,d,e;for(e=[],a=0,d=b.length;d>a;a++)c=b[a],e.push(i.Stat.parse(c));return e}():void 0,d(a,e)})},a.prototype.search=function(a,b,c,d){return this.findByName(a,b,c,d)},a.prototype.makeCopyReference=function(a,b){var c,d;return d=""+this.urls.copyRef+"/"+this.urlEncodePath(a),c=this.oauth.addAuthParams("GET",d,{}),i.Xhr.request("GET",d,c,null,function(a,c){return b(a,i.CopyReference.parse(c))})},a.prototype.copyRef=function(a,b){return this.makeCopyReference(a,b)},a.prototype.pullChanges=function(a,b){var c,d;return b||"function"!=typeof a||(b=a,a=null),d=this.urls.delta,c={},c=a?a.cursorTag?{cursor:a.cursorTag}:{cursor:a}:{},this.oauth.addAuthParams("POST",d,c),i.Xhr.request("POST",d,c,null,function(a,c){return b(a,i.PulledChanges.parse(c))})},a.prototype.delta=function(a,b){return this.pullChanges(a,b)},a.prototype.mkdir=function(a,b){var c,d;return d=this.urls.fileopsCreateFolder,c={root:this.fileRoot,path:this.normalizePath(a)},this.oauth.addAuthParams("POST",d,c),i.Xhr.request("POST",d,c,null,function(a,c){return b(a,i.Stat.parse(c))})},a.prototype.remove=function(a,b){var c,d;return d=this.urls.fileopsDelete,c={root:this.fileRoot,path:this.normalizePath(a)},this.oauth.addAuthParams("POST",d,c),i.Xhr.request("POST",d,c,null,function(a,c){return b(a,i.Stat.parse(c))})},a.prototype.unlink=function(a,b){return this.remove(a,b)},a.prototype["delete"]=function(a,b){return this.remove(a,b)},a.prototype.copy=function(a,b,c){var d,e,f;return c||"function"!=typeof d||(c=d,d=null),e={root:this.fileRoot,to_path:this.normalizePath(b)},a instanceof i.CopyReference?e.from_copy_ref=a.tag:e.from_path=this.normalizePath(a),f=this.urls.fileopsCopy,this.oauth.addAuthParams("POST",f,e),i.Xhr.request("POST",f,e,null,function(a,b){return c(a,i.Stat.parse(b))})},a.prototype.move=function(a,b,c){var d,e,f;return c||"function"!=typeof d||(c=d,d=null),a=this.normalizePath(a),b=this.normalizePath(b),f=this.urls.fileopsMove,e={root:this.fileRoot,from_path:a,to_path:b},this.oauth.addAuthParams("POST",f,e),i.Xhr.request("POST",f,e,null,function(a,b){return c(a,i.Stat.parse(b))})},a.prototype.reset=function(){return this.uid=null,this.oauth.setToken(null,""),this.authState=j.RESET,this.authError=null,this._credentials=null,this},a.prototype.setCredentials=function(a){return this.oauth.reset(a),this.uid=a.uid||null,this.authState=a.authState?a.authState:a.token?j.DONE:j.RESET,this.authError=null,this._credentials=null,this},a.prototype.appHash=function(){return this.oauth.appHash()},a.prototype.setupUrls=function(){return this.fileRoot=this.sandbox?"sandbox":"dropbox",this.urls={requestToken:""+this.apiServer+"/1/oauth/request_token",authorize:""+this.authServer+"/1/oauth/authorize",accessToken:""+this.apiServer+"/1/oauth/access_token",signOut:""+this.apiServer+"/1/unlink_access_token",accountInfo:""+this.apiServer+"/1/account/info",getFile:""+this.fileServer+"/1/files/"+this.fileRoot,postFile:""+this.fileServer+"/1/files/"+this.fileRoot,putFile:""+this.fileServer+"/1/files_put/"+this.fileRoot,metadata:""+this.apiServer+"/1/metadata/"+this.fileRoot,delta:""+this.apiServer+"/1/delta",revisions:""+this.apiServer+"/1/revisions/"+this.fileRoot,restore:""+this.apiServer+"/1/restore/"+this.fileRoot,search:""+this.apiServer+"/1/search/"+this.fileRoot,shares:""+this.apiServer+"/1/shares/"+this.fileRoot,media:""+this.apiServer+"/1/media/"+this.fileRoot,copyRef:""+this.apiServer+"/1/copy_ref/"+this.fileRoot,thumbnails:""+this.fileServer+"/1/thumbnails/"+this.fileRoot,fileopsCopy:""+this.apiServer+"/1/fileops/copy",fileopsCreateFolder:""+this.apiServer+"/1/fileops/create_folder",fileopsDelete:""+this.apiServer+"/1/fileops/delete",fileopsMove:""+this.apiServer+"/1/fileops/move"}},a.ERROR=0,a.RESET=1,a.REQUEST=2,a.AUTHORIZED=3,a.DONE=4,a.SIGNED_OFF=5,a.prototype.urlEncodePath=function(a){return i.Xhr.urlEncodeValue(this.normalizePath(a)).replace(/%2F/gi,"/")},a.prototype.normalizePath=function(a){var b;if("/"===a.substring(0,1)){for(b=1;"/"===a.substring(b,b+1);)b+=1;return a.substring(b)}return a},a.prototype.requestToken=function(a){var b;return b=this.oauth.addAuthParams("POST",this.urls.requestToken,{}),i.Xhr.request("POST",this.urls.requestToken,b,null,a)},a.prototype.authorizeUrl=function(a){var b;return b={oauth_token:a,oauth_callback:this.driver.url()},""+this.urls.authorize+"?"+i.Xhr.urlEncode(b)},a.prototype.getAccessToken=function(a){var b;return b=this.oauth.addAuthParams("POST",this.urls.accessToken,{}),i.Xhr.request("POST",this.urls.accessToken,b,null,a)},a.prototype.defaultApiServer=function(){return"https://api.dropbox.com"},a.prototype.defaultAuthServer=function(){return this.apiServer.replace("api.","www.")},a.prototype.defaultFileServer=function(){return this.apiServer.replace("api.","api-content.")},a.prototype.computeCredentials=function(){var a;return a={key:this.oauth.key,sandbox:this.sandbox},this.oauth.secret&&(a.secret=this.oauth.secret),this.oauth.token&&(a.token=this.oauth.token,a.tokenSecret=this.oauth.tokenSecret),this.uid&&(a.uid=this.uid),this.authState!==j.ERROR&&this.authState!==j.RESET&&this.authState!==j.DONE&&this.authState!==j.SIGNED_OFF&&(a.authState=this.authState),this.apiServer!==this.defaultApiServer()&&(a.server=this.apiServer),this.authServer!==this.defaultAuthServer()&&(a.authServer=this.authServer),this.fileServer!==this.defaultFileServer()&&(a.fileServer=this.fileServer),this._credentials=a},a}(),j=i.Client,i.AuthDriver=function(){function a(){}return a.prototype.url=function(){return"https://some.url"},a.prototype.doAuthorize=function(a,b,c,d){return d("oauth-token")},a.prototype.onAuthStateChange=function(a,b){return b()},a}(),i.Drivers={},i.Drivers.Redirect=function(){function a(a){this.rememberUser=(null!=a?a.rememberUser:void 0)||!1,this.scope=(null!=a?a.scope:void 0)||"default",this.useQuery=(null!=a?a.useQuery:void 0)||!1,this.receiverUrl=this.computeUrl(a),this.tokenRe=new RegExp("(#|\\?|&)oauth_token=([^&#]+)(&|#|$)")}return a.prototype.url=function(){return this.receiverUrl},a.prototype.doAuthorize=function(a){return window.location.assign(a)},a.prototype.onAuthStateChange=function(a,b){var c;switch(this.storageKey="dropbox-auth:"+this.scope+":"+a.appHash(),a.authState){case j.RESET:return(c=this.loadCredentials())?c.authState?(c.token===this.locationToken()&&(c.authState===j.REQUEST&&(this.forgetCredentials(),c.authState=j.AUTHORIZED),a.setCredentials(c)),b()):this.rememberUser?(a.setCredentials(c),a.getUserInfo(function(c){return function(d){return d&&(a.reset(),c.forgetCredentials()),b()}}(this))):(this.forgetCredentials(),b()):b();case j.REQUEST:return this.storeCredentials(a.credentials()),b();case j.DONE:return this.rememberUser&&this.storeCredentials(a.credentials()),b();case j.SIGNED_OFF:return this.forgetCredentials(),b();case j.ERROR:return this.forgetCredentials(),b();default:return b()}},a.prototype.computeUrl=function(){var a,b,c,d;return d="_dropboxjs_scope="+encodeURIComponent(this.scope),b=i.Drivers.Redirect.currentLocation(),-1===b.indexOf("#")?a=null:(c=b.split("#",2),b=c[0],a=c[1]),this.useQuery?b+=-1===b.indexOf("?")?"?"+d:"&"+d:a="?"+d,a?b+"#"+a:b},a.prototype.locationToken=function(){var a,b,c;return a=i.Drivers.Redirect.currentLocation(),c="_dropboxjs_scope="+encodeURIComponent(this.scope)+"&",-1===("function"==typeof a.indexOf?a.indexOf(c):void 0)?null:(b=this.tokenRe.exec(a),b?decodeURIComponent(b[2]):null)},a.currentLocation=function(){return window.location.href},a.prototype.storeCredentials=function(a){return localStorage.setItem(this.storageKey,JSON.stringify(a))},a.prototype.loadCredentials=function(){var a,b;if(b=localStorage.getItem(this.storageKey),!b)return null;try{return JSON.parse(b)}catch(c){return a=c,null}},a.prototype.forgetCredentials=function(){return localStorage.removeItem(this.storageKey)},a}(),i.Drivers.Popup=function(){function a(a){this.receiverUrl=this.computeUrl(a),this.tokenRe=new RegExp("(#|\\?|&)oauth_token=([^&#]+)(&|#|$)")}return a.prototype.doAuthorize=function(a,b,c,d){return this.listenForMessage(b,d),this.openWindow(a)},a.prototype.url=function(){return this.receiverUrl},a.prototype.computeUrl=function(a){var b;if(a){if(a.receiverUrl)return a.noFragment||-1!==a.receiverUrl.indexOf("#")?a.receiverUrl:a.receiverUrl+"#";if(a.receiverFile)return b=i.Drivers.Popup.currentLocation().split("/"),b[b.length-1]=a.receiverFile,a.noFragment?b.join("/"):b.join("/")+"#"}return i.Drivers.Popup.currentLocation()},a.currentLocation=function(){return window.location.href},a.prototype.openWindow=function(a){return window.open(a,"_dropboxOauthSigninWindow",this.popupWindowSpec(980,980))},a.prototype.popupWindowSpec=function(a,b){var c,d,e,f,g,h,i,j,k,l;return g=null!=(i=window.screenX)?i:window.screenLeft,h=null!=(j=window.screenY)?j:window.screenTop,f=null!=(k=window.outerWidth)?k:document.documentElement.clientWidth,c=null!=(l=window.outerHeight)?l:document.documentElement.clientHeight,d=Math.round(g+(f-a)/2),e=Math.round(h+(c-b)/2.5),"width="+a+",height="+b+","+("left="+d+",top="+e)+"dialog=yes,dependent=yes,scrollbars=yes,location=yes"},a.prototype.listenForMessage=function(a,b){var c,d;return d=this.tokenRe,c=function(e){var f;return f=d.exec(e.data.toString()),f&&decodeURIComponent(f[2])===a?(window.removeEventListener("message",c),b()):void 0},window.addEventListener("message",c,!1)},a}(),i.Drivers.NodeServer=function(){function a(a){this.port=(null!=a?a.port:void 0)||8912,this.faviconFile=(null!=a?a.favicon:void 0)||null,this.fs=require("fs"),this.http=require("http"),this.open=require("open"),this.callbacks={},this.urlRe=new RegExp("^/oauth_callback\\?"),this.tokenRe=new RegExp("(\\?|&)oauth_token=([^&]+)(&|$)"),this.createApp()}return a.prototype.url=function(){return"http://localhost:"+this.port+"/oauth_callback"},a.prototype.doAuthorize=function(a,b,c,d){return this.callbacks[b]=d,this.openBrowser(a)},a.prototype.openBrowser=function(a){if(!a.match(/^https?:\/\//))throw new Error("Not a http/https URL: "+a);return this.open(a)},a.prototype.createApp=function(){return this.app=this.http.createServer(function(a){return function(b,c){return a.doRequest(b,c)}}(this)),this.app.listen(this.port)},a.prototype.closeServer=function(){return this.app.close()},a.prototype.doRequest=function(a,b){var c,d,e;return this.urlRe.exec(a.url)&&(d=this.tokenRe.exec(a.url),d&&(e=decodeURIComponent(d[2]),this.callbacks[e]&&(this.callbacks[e](),delete this.callbacks[e]))),c="",a.on("data",function(a){return c+=a}),a.on("end",function(c){return function(){return c.faviconFile&&"/favicon.ico"===a.url?c.sendFavicon(b):c.closeBrowser(b)}}(this))},a.prototype.closeBrowser=function(a){var b;return b='<!doctype html>\n<script type="text/javascript">window.close();</script>\n<p>Please close this window.</p>',a.writeHead(200,{"Content-Length":b.length,"Content-Type":"text/html"}),a.write(b),a.end},a.prototype.sendFavicon=function(a){return this.fs.readFile(this.faviconFile,function(b,c){return a.writeHead(200,{"Content-Length":c.length,"Content-Type":"image/x-icon"}),a.write(c),a.end})},a}(),B=function(a,b){return x(L(U(a),U(b),a.length,b.length))},C=function(a){return x(T(U(a),a.length))},("undefined"==typeof window||null===window)&&(G=require("crypto"),B=function(a,b){var c;return c=G.createHmac("sha1",b),c.update(a),c.digest("base64")},C=function(a){var b;return b=G.createHash("sha1"),b.update(a),b.digest("base64")}),L=function(a,b,c,d){var e,f,g,h;return b.length>16&&(b=T(b,d)),g=function(){var a,c;for(c=[],f=a=0;16>a;f=++a)c.push(909522486^b[f]);return c}(),h=function(){var a,c;for(c=[],f=a=0;16>a;f=++a)c.push(1549556828^b[f]);return c}(),e=T(g.concat(a),64+c),T(h.concat(e),84)},T=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;for(a[b>>2]|=1<<31-((3&b)<<3),a[(b+8>>6<<4)+15]=b<<3,r=Array(80),c=1732584193,e=-271733879,g=-1732584194,i=271733878,k=-1009589776,n=0,q=a.length;q>n;){for(d=c,f=e,h=g,j=i,l=k,o=t=0;80>t;o=++t)r[o]=16>o?a[n+o]:S(r[o-3]^r[o-8]^r[o-14]^r[o-16],1),20>o?(m=e&g|~e&i,p=1518500249):40>o?(m=e^g^i,p=1859775393):60>o?(m=e&g|e&i|g&i,p=-1894007588):(m=e^g^i,p=-899497514),s=w(w(S(c,5),m),w(w(k,r[o]),p)),k=i,i=g,g=S(e,30),e=c,c=s;c=w(c,d),e=w(e,f),g=w(g,h),i=w(i,j),k=w(k,l),n+=16}return[c,e,g,i,k]},S=function(a,b){return a<<b|a>>>32-b},w=function(a,b){var c,d;return d=(65535&a)+(65535&b),c=(a>>16)+(b>>16)+(d>>16),c<<16|65535&d},x=function(a){var b,c,d,e,f;for(e="",b=0,d=4*a.length;d>b;)c=b,f=(a[c>>2]>>(3-(3&c)<<3)&255)<<16,c+=1,f|=(a[c>>2]>>(3-(3&c)<<3)&255)<<8,c+=1,f|=a[c>>2]>>(3-(3&c)<<3)&255,e+=V[f>>18&63],e+=V[f>>12&63],b+=1,e+=b>=d?"=":V[f>>6&63],b+=1,e+=b>=d?"=":V[63&f],b+=1;return e},V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U=function(a){var b,c,d,e,f;for(b=[],d=255,c=e=0,f=a.length;f>=0?f>e:e>f;c=f>=0?++e:--e)b[c>>2]|=(a.charCodeAt(c)&d)<<(3-(3&c)<<3);return b},i.Oauth=function(){function a(a){this.key=this.k=null,this.secret=this.s=null,this.token=null,this.tokenSecret=null,this._appHash=null,this.reset(a)}return a.prototype.reset=function(a){var b,c,d,e;if(a.secret)this.k=this.key=a.key,this.s=this.secret=a.secret,this._appHash=null;else if(a.key)this.key=a.key,this.secret=null,d=y(H(this.key).split("|",2)[1]),e=d.split("?",2),b=e[0],c=e[1],this.k=decodeURIComponent(b),this.s=decodeURIComponent(c),this._appHash=null;else if(!this.k)throw new Error("No API key supplied");return a.token?this.setToken(a.token,a.tokenSecret):this.setToken(null,"")},a.prototype.setToken=function(a,b){if(a&&!b)throw new Error("No secret supplied with the user token");return this.token=a,this.tokenSecret=b||"",this.hmacKey=l.urlEncodeValue(this.s)+"&"+l.urlEncodeValue(b),null},a.prototype.authHeader=function(a,b,c){var d,e,f,g,h,i;this.addAuthParams(a,b,c),e=[];for(f in c)g=c[f],"oauth_"===f.substring(0,6)&&e.push(f);for(e.sort(),d=[],h=0,i=e.length;i>h;h++)f=e[h],d.push(l.urlEncodeValue(f)+'="'+l.urlEncodeValue(c[f])+'"'),delete c[f];return"OAuth "+d.join(",")},a.prototype.addAuthParams=function(a,b,c){return this.boilerplateParams(c),c.oauth_signature=this.signature(a,b,c),c},a.prototype.boilerplateParams=function(a){return a.oauth_consumer_key=this.k,a.oauth_nonce=this.nonce(),a.oauth_signature_method="HMAC-SHA1",this.token&&(a.oauth_token=this.token),a.oauth_timestamp=Math.floor(Date.now()/1e3),a.oauth_version="1.0",a},a.prototype.nonce=function(){return Date.now().toString(36)+Math.random().toString(36)},a.prototype.signature=function(a,b,c){var d;return d=a.toUpperCase()+"&"+l.urlEncodeValue(b)+"&"+l.urlEncodeValue(l.urlEncode(c)),B(d,this.hmacKey)},a.prototype.appHash=function(){return this._appHash?this._appHash:this._appHash=C(this.k).replace(/\=/g,"")},a}(),null==Date.now&&(Date.now=function(){return(new Date).getTime()}),k=i.Oauth,H=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;for(b?(b=[encodeURIComponent(a),encodeURIComponent(b)].join("?"),a=function(){var b,d,e;for(e=[],c=b=0,d=a.length/2;d>=0?d>b:b>d;c=d>=0?++b:--b)e.push(16*(15&a.charCodeAt(2*c))+(15&a.charCodeAt(2*c+1)));return e}()):(l=a.split("|",2),a=l[0],b=l[1],a=y(a),a=function(){var b,d,e;for(e=[],c=b=0,d=a.length;d>=0?d>b:b>d;c=d>=0?++b:--b)e.push(a.charCodeAt(c));return e}(),b=y(b)),f=function(){for(n=[],j=0;256>j;j++)n.push(j);return n}.apply(this),h=0,g=k=0;256>k;g=++k)h=(h+f[c]+a[g%a.length])%256,m=[f[h],f[g]],f[g]=m[0],f[h]=m[1];return g=h=0,e=function(){var a,c,e,j;for(j=[],i=a=0,c=b.length;c>=0?c>a:a>c;i=c>=0?++a:--a)g=(g+1)%256,h=(h+f[g])%256,e=[f[h],f[g]],f[g]=e[0],f[h]=e[1],d=f[(f[g]+f[h])%256],j.push(String.fromCharCode((d^b.charCodeAt(i))%256));return j}(),a=function(){var b,d,e;for(e=[],c=b=0,d=a.length;d>=0?d>b:b>d;c=d>=0?++b:--b)e.push(String.fromCharCode(a[c]));return e}(),[E(a.join("")),E(e.join(""))].join("|")},i.PulledChanges=function(){function a(a){var b;this.blankSlate=a.reset||!1,this.cursorTag=a.cursor,this.shouldPullAgain=a.has_more,this.shouldBackOff=!this.shouldPullAgain,this.changes=a.cursor&&a.cursor.length?function(){var c,d,e,f;for(e=a.entries,f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(i.PullChange.parse(b));return f}():[]}return a.parse=function(a){return a&&"object"==typeof a?new i.PulledChanges(a):a},a.prototype.blankSlate=void 0,a.prototype.cursorTag=void 0,a.prototype.changes=void 0,a.prototype.shouldPullAgain=void 0,a.prototype.shouldBackOff=void 0,a}(),i.PullChange=function(){function a(a){this.path=a[0],this.stat=i.Stat.parse(a[1]),this.stat?this.wasRemoved=!1:(this.stat=null,this.wasRemoved=!0)}return a.parse=function(a){return a&&"object"==typeof a?new i.PullChange(a):a},a.prototype.path=void 0,a.prototype.wasRemoved=void 0,a.prototype.stat=void 0,a}(),i.PublicUrl=function(){function a(a,b){this.url=a.url,this.expiresAt=new Date(Date.parse(a.expires)),this.isDirect=b===!0?!0:b===!1?!1:Date.now()-this.expiresAt<=864e5,this.isPreview=!this.isDirect}return a.parse=function(a,b){return a&&"object"==typeof a?new i.PublicUrl(a,b):a},a.prototype.url=void 0,a.prototype.expiresAt=void 0,a.prototype.isDirect=void 0,a.prototype.isPreview=void 0,a}(),i.CopyReference=function(){function a(a){"object"==typeof a?(this.tag=a.copy_ref,this.expiresAt=new Date(Date.parse(a.expires))):(this.tag=a,this.expiresAt=new Date)}return a.parse=function(a){return!a||"object"!=typeof a&&"string"!=typeof a?a:new i.CopyReference(a)},a.prototype.tag=void 0,a.prototype.expiresAt=void 0,a}(),i.Stat=function(){function a(a){var b,c,d,e;switch(this.path=a.path,"/"!==this.path.substring(0,1)&&(this.path="/"+this.path),b=this.path.length-1,b>=0&&"/"===this.path.substring(b)&&(this.path=this.path.substring(0,b)),c=this.path.lastIndexOf("/"),this.name=this.path.substring(c+1),this.isFolder=a.is_dir||!1,this.isFile=!this.isFolder,this.isRemoved=a.is_deleted||!1,this.typeIcon=a.icon,this.modifiedAt=(null!=(d=a.modified)?d.length:void 0)?new Date(Date.parse(a.modified)):null,this.clientModifiedAt=(null!=(e=a.client_mtime)?e.length:void 0)?new Date(Date.parse(a.client_mtime)):null,a.root){case"dropbox":this.inAppFolder=!1;break;case"app_folder":this.inAppFolder=!0;break;default:this.inAppFolder=null}this.size=a.bytes||0,this.humanSize=a.size||"",this.hasThumbnail=a.thumb_exists||!1,this.isFolder?(this.versionTag=a.hash,this.mimeType=a.mime_type||"inode/directory"):(this.versionTag=a.rev,this.mimeType=a.mime_type||"application/octet-stream")}return a.parse=function(a){return a&&"object"==typeof a?new i.Stat(a):a},a.prototype.path=null,a.prototype.name=null,a.prototype.inAppFolder=null,a.prototype.isFolder=null,a.prototype.isFile=null,a.prototype.isRemoved=null,a.prototype.typeIcon=null,a.prototype.versionTag=null,a.prototype.mimeType=null,a.prototype.size=null,a.prototype.humanSize=null,a.prototype.hasThumbnail=null,a.prototype.modifiedAt=null,a.prototype.clientModifiedAt=null,a}(),i.UserInfo=function(){function a(a){var b;this.name=a.display_name,this.email=a.email,this.countryCode=a.country||null,this.uid=a.uid.toString(),a.public_app_url?(this.publicAppUrl=a.public_app_url,b=this.publicAppUrl.length-1,b>=0&&"/"===this.publicAppUrl.substring(b)&&(this.publicAppUrl=this.publicAppUrl.substring(0,b))):this.publicAppUrl=null,this.referralUrl=a.referral_link,this.quota=a.quota_info.quota,this.privateBytes=a.quota_info.normal||0,this.sharedBytes=a.quota_info.shared||0,this.usedQuota=this.privateBytes+this.sharedBytes}return a.parse=function(a){return a&&"object"==typeof a?new i.UserInfo(a):a},a.prototype.name=null,a.prototype.email=null,a.prototype.countryCode=null,a.prototype.uid=null,a.prototype.referralUrl=null,a.prototype.publicAppUrl=null,a.prototype.quota=null,a.prototype.usedQuota=null,a.prototype.privateBytes=null,a.prototype.sharedBytes=null,a}(),"undefined"!=typeof window&&null!==window?!window.XDomainRequest||"withCredentials"in new XMLHttpRequest?(o=window.XMLHttpRequest,n=!1,m=-1===window.navigator.userAgent.indexOf("Firefox")):(o=window.XDomainRequest,n=!0,m=!1):(o=require("xmlhttprequest").XMLHttpRequest,n=!1,m=!1),i.Xhr=function(){function a(){}return a.Request=o,a.ieMode=n,a.canSendForms=m,a.request=function(a,b,c,d,e){return this.request2(a,b,c,d,null,null,e)},a.request2=function(a,b,c,d,e,f,g){var h,i,j;return i="GET"===a||null!=e||this.ieMode,i&&(j=l.urlEncode(c),0!==j.length&&(b=[b,"?",l.urlEncode(c)].join(""))),h={},d&&(h.Authorization=d),null!=e?"string"==typeof e&&(h["Content-Type"]="text/plain; charset=utf8"):i||(h["Content-Type"]="application/x-www-form-urlencoded",e=l.urlEncode(c)),l.xhrRequest(a,b,h,e,f,g)},a.multipartRequest=function(a,b,c,d,e){var f,g,h,i,j,k;return a=[a,"?",l.urlEncode(c)].join(""),h=b.value,k="object"==typeof h&&("undefined"!=typeof Blob&&null!==Blob&&b.value instanceof Blob||"undefined"!=typeof File&&null!==File&&b.value instanceof File),k?(j={},f=new FormData,f.append(b.name,h,b.fileName)):(i=b.contentType||"application/octet-stream",g=this.multipartBoundary(),j={"Content-Type":"multipart/form-data; boundary="+g},f=["--",g,"\r\n",'Content-Disposition: form-data; name="',b.name,'"; filename="',b.fileName,'"\r\n',"Content-Type: ",i,"\r\n","Content-Transfer-Encoding: binary\r\n\r\n",h,"\r\n","--",g,"--","\r\n"].join("")),d&&(j.Authorization=d),l.xhrRequest("POST",a,j,f,null,e)
},a.multipartBoundary=function(){return[Date.now().toString(36),Math.random().toString(36)].join("----")},a.xhrRequest=function(a,b,c,d,e,f){var g,h,i;if(i=new this.Request,this.ieMode?(i.onload=function(){return l.onLoad(i,a,b,f)},i.onerror=function(){return l.onError(i,a,b,f)}):i.onreadystatechange=function(){return l.onReadyStateChange(i,a,b,e,f)},i.open(a,b,!0),e&&("b"===e?i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"):i.responseType=e),!this.ieMode)for(g in c)W.call(c,g)&&(h=c[g],i.setRequestHeader(g,h));return null!=d?i.send(d):i.send(),i},a.urlEncode=function(a){var b,c,d;b=[];for(c in a)d=a[c],b.push(this.urlEncodeValue(c)+"="+this.urlEncodeValue(d));return b.sort().join("&")},a.urlEncodeValue=function(a){return encodeURIComponent(a.toString()).replace(/\!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")},a.urlDecode=function(a){var b,c,d,e,f,g;for(c={},g=a.split("&"),e=0,f=g.length;f>e;e++)d=g[e],b=d.split("="),c[decodeURIComponent(b[0])]=decodeURIComponent(b[1]);return c},a.onReadyStateChange=function(a,b,c,d,e){var f,g,h,j,k,m,n,o,p,q;if(4!==a.readyState)return!0;if(a.status<200||a.status>=300)return f=new i.ApiError(a,b,c),e(f),!0;if(n=a.getResponseHeader("x-dropbox-metadata"),null!=n?n.length:void 0)try{m=JSON.parse(n)}catch(r){j=r,m=void 0}else m=void 0;if(d){if("b"===d){for(h=null!=a.responseText?a.responseText:a.response,g=[],k=p=0,q=h.length;q>=0?q>p:p>q;k=q>=0?++p:--p)g.push(String.fromCharCode(255&h.charCodeAt(k)));o=g.join(""),e(null,o,m)}else e(null,a.response,m);return!0}switch(o=null!=a.responseText?a.responseText:a.response,a.getResponseHeader("Content-Type")){case"application/x-www-form-urlencoded":e(null,l.urlDecode(o),m);break;case"application/json":case"text/javascript":e(null,JSON.parse(o),m);break;default:e(null,o,m)}return!0},a.onLoad=function(a,b,c,d){var e;switch(e=a.responseText,a.contentType){case"application/x-www-form-urlencoded":d(null,l.urlDecode(e),void 0);break;case"application/json":case"text/javascript":d(null,JSON.parse(e),void 0);break;default:d(null,e,void 0)}return!0},a.onError=function(a,b,c,d){var e;return e=new i.ApiError(a,b,c),d(e),!0},a}(),l=i.Xhr,null!=("undefined"!=typeof module&&null!==module?module.exports:void 0))module.exports=i;else{if("undefined"==typeof window||null===window)throw new Error("This library only supports node.js and modern browsers.");window.Dropbox=i}i.atob=y,i.btoa=E,i.hmac=B,i.sha1=C,i.encodeKey=H,null==window.Nimbus&&(r=winodw.Nimbus={}),r=window.Nimbus,r.version="0.0.1",a=r.$=this.jQuery||this.Zepto||function(){return arguments[0]},r.dictModel={},N=function(a){return Array.prototype.slice.call(a,0)},M=function(a){return"[object Array]"===Object.prototype.toString.call(a)},"undefined"==typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(a){var b;for(b=0;b<this.length;){if(this[b]===a)return b;b++}return-1}),p={bind:function(a,b){var c,d,e;for(d=a.split(" "),c=this._callbacks||(this._callbacks={}),e=0;e<d.length;)(this._callbacks[d[e]]||(this._callbacks[d[e]]=[])).push(b),e++;return this},trigger:function(){var a,b,c,d,e,f;if(a=N(arguments),c=a.shift(),!(b=this._callbacks))return!1;if(!(f=this._callbacks[c]))return!1;for(d=0,e=f.length;e>d;){if(f[d].apply(this,a)===!1)return!1;d++}return!0},unbind:function(a,b){var c,d,e,f;if(!a)return this._callbacks={},this;if(!(c=this._callbacks))return this;if(!(f=c[a]))return this;if(!b)return delete this._callbacks[a],this;for(d=0,e=f.length;e>d;){if(b===f[d]){f=f.slice(),f.splice(d,1),c[a]=f;break}d++}return this}},"function"!=typeof Object.create&&(Object.create=function(a){var b;return b=function(){},b.prototype=a,new b}),P=["included","extended"],d={inherited:function(){},created:function(){},prototype:{initialize:function(){},init:function(){}},create:function(a,b){var c;return c=Object.create(this),c.parent=this,c.prototype=c.fn=Object.create(this.prototype),a&&c.include(a),b&&c.extend(b),c.created(),this.inherited(c),c},init:function(){var a;return a=Object.create(this.prototype),a.parent=this,a.initialize.apply(a,arguments),a.init.apply(a,arguments),a},proxy:function(a){var b;return b=this,function(){return a.apply(b,arguments)}},proxyAll:function(){var a,b,c;for(a=N(arguments),b=0,c=[];b<a.length;)this[a[b]]=this.proxy(this[a[b]]),c.push(b++);return c},include:function(a){var b,c;for(c in a)-1===P.indexOf(c)&&(this.fn[c]=a[c]);return b=a.included,b&&b.apply(this),this},extend:function(a){var b,c;for(c in a)-1===P.indexOf(c)&&(this[c]=a[c]);return b=a.extended,b&&b.apply(this),this}},d.prototype.proxy=d.proxy,d.prototype.proxyAll=d.proxyAll,d.inst=d.init,d.sub=d.create,r.guid=function(){var a,b,c;for(c=function(a){var b,c,d;d=r.dictModel;for(b in d)if(c=d[b],c.exists(a))return!1;return!0},b=!1;!b;)a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b,c;return b=16*Math.random()|0,c="x"===a?b:3&b|8,c.toString(16)}).toUpperCase(),b=c(a);return a},b=r.Auth=d.create(),b.extend({reinitialize:function(){var a,b,c;return log("reintialize called"),null!=localStorage.last_sync_object?(log("the service exists",localStorage.service),c=JSON.parse(localStorage.last_sync_object),null==r.Auth.sync_services?(r.Auth.sync_services={},r.Auth.sync_services.synchronous=c.synchronous):(b=r.Auth.sync_services[c.service],b.app_id!==c.app_id&&(a=c.service,c=b,c.service=a,localStorage.clear())),this.setup(c),this.initialize()):void 0},setup:function(a){var b,c,d,e;if("string"==typeof a&&(console.log("Current sync service",a),a=JSON.parse(Base64.decode(a))),this.app_name||(this.app_name=a.app_name),!this.app_name)for(b in a)if(a[b].app_name&&(this.app_name=a[b].app_name,this.app_name))break;if(null!=a.service){log("setup called on a service",a.service),log("setup object",a);for(c in a)e=a[c],this[c]=e;switch(a.synchronous=null!=r.Auth.sync_services&&null!=r.Auth.sync_services.synchronous?r.Auth.sync_services.synchronous:!0,a.app_name=this.app_name,localStorage.last_sync_object=JSON.stringify(a),a.synchronous||r.Model.Local.async_doc_setup(),this.service){case"Dropbox":this.extend(r.Auth.Dropbox_auth),this._authorize=this.proxy(this.authenticate_dropbox),this.initialize=this.proxy(this.initialize_dropbox),this.authorized=this.proxy(this.dropbox_authorized),this.logout=function(){this.proxy(this.logout_dropbox),this.clear_storage()},r.Binary.setup(this.service),log("service is dropbox");break;case"GDrive":this.extend(r.Auth.GDrive),this.init_scope(),this._authorize=this.proxy(this.authenticate_gdrive),this.initialize=this.proxy(this.initialize_gdrive),this.authorized=this.proxy(this.gdrive_authorized),this.logout=function(){this.proxy(this.logout_gdrive),this.clear_storage()},r.Binary.setup(this.service),log("service is GDrive"),r.Share.setup(this.service);break;case"Realtime":r.realtime.startRealtime(c,app_name);break;default:log("Invalid service name")}}else log("new method for setup, the service is there"),this.sync_services=a,this.models={},null!=localStorage.service?"GDrive"===localStorage.service?(d=this.sync_services.GDrive,d.service="GDrive",this.setup(d)):(d=this.sync_services.Dropbox,d.service="Dropbox",this.setup(d)):(this.extend(r.Auth.Multi),this._authorize=this.proxy(this.authenticate_service),this.initialize=this.proxy(this.initialize_service));this.authorize=function(a){var b;return this.service&&a&&a!==this.service&&(localStorage.clear(),b=this.sync_object[a],b.service=a,this.setup(b)),this._authorize(a)}},clear_storage:function(){log("Will clear localStorage or indexedDB"),localStorage.clear(),PouchDB.destroy(this.app_name)},authorized:function(){return log("authorized not yet setup")},state:function(){return localStorage.state},authorize:function(){return log("authorize not yet setup")},initialize:function(){return log("initialize not setup")},authorized_callback:function(){return log("authorized callback undefined")},app_ready_func:function(){return log("app_ready"),this.app_ready=!0},set_app_ready:function(a){var b;return log("set app ready"),null!=this.app_ready&&this.app_ready?"GDrive"===this.service?r.realtime.folder_initialize(a):a():(b=function(){return"GDrive"===this.service?r.realtime.folder_initialize(a):a()},this.app_ready_func=b)},logout:function(){return log("logout not implemented")}}),e=r.Client=d.create(),v=r.Share=d.create(),v.extend({setup:function(a){switch(a){case"GDrive":return log("share api with GDrive"),this.extend(r.Client.GDrive),this.get_users=this.proxy(this.get_shared_users),this.add_user=this.proxy(this.add_share_user),this.remove_user=this.proxy(this.remove_share_user),this.get_me=this.proxy(this.get_current_user),this.get_spaces=this.proxy(this.get_app_folders),this.switch_spaces=this.proxy(this.switch_to_app_folder),this.switch_file_real=this.proxy(this.switch_to_app_file_real);default:return log("share not supported with this service")}},get_users:function(){return log("users not implemented")},add_user:function(){return log("add a user")},remove_user:function(){return log("removed user")},get_me:function(){return log("get currently logged user")},get_spaces:function(){return log("get current spaces")},switch_spaces:function(){return log("switch space")}}),c=r.Binary=d.create(),c.extend({setup:function(a){switch(log("binary setup called"),a){case"Dropbox":return this.extend(r.Client.Dropbox.Binary),r.Client.Dropbox.Binary.binary_setup(),log("service is dropbox");case"GDrive":return this.extend(r.Client.GDrive.Binary),r.Client.GDrive.Binary.binary_setup(),log("service is GDrive");case"Realtime":return log("service is  Realtime");default:return log("Invalid service name")}},upload_blob:function(){return log("upload blob")},upload_file:function(){return log("upload blob")},read_file:function(){return log("read file")},share_link:function(){return log("share link")},direct_link:function(){return log("direct link")},delete_file:function(){return log("delete file")}}),f=r.DB=d.create(),f.extend(p),f.extend({setup_db:function(a){switch(log("setup db"),a){case"localStorage":return Storage.prototype.setItem=function(){return this===window.localStorage?log("local storage called"):_setItem.apply(this,arguments)}}}}),q=r.Model=d.create(),q.extend(p),q.extend({loaded:!1,check_loaded:function(){return this.loaded?!0:(console.log("The model is not loaded yet! Wait for the model to be done with setup."),!1)},service_setup:function(a){var b;switch(log("service setup model",a),b=a.attributes,r.Auth.service){case"Dropbox":log("extend as Dropbox"),a.extend(r.Model.general_sync),a.extend(r.Model.Dropbox),b.push("synced"),b.push("time"),a.attributes=b;break;case"GDrive":log("extend as GDrive"),a.extend(r.Model.general_sync),a.extend(r.Model.Realtime),b.push("gid"),b.push("synced"),b.push("time"),b.push("type"),a.attributes=b;break;default:log("Invalid service name")}return a},setup:function(a,b){var c,d;return log("model setup"),d=q.sub(),a&&(d.name=a),b&&(d.attributes=b),d.extend(null!=r.Auth.sync_services.synchronous&&r.Auth.sync_services.synchronous?r.Model.LocalSync:r.Model.Local),r.dictModel[a]=d,null!=r.Auth.service||null!=r.Auth.sync_services||"binary"===a||"binary_Deletion"===a?(log("model 1",d),a.indexOf("_Deletion")<0&&(d=this.service_setup(d))):(log("name:",a),log("Please setup Nimbus.Auth first before creating models")),a.indexOf("_Deletion")<0&&(c=r.Model.setup(a+"_Deletion",["deletion_id","listid"]),c.extend(r.Model.Local),c.fetch(),d.DeletionStorage=c),log(d),d.fetch(),a.indexOf("_Deletion")<0?r.dictModel[a]=d:delete r.dictModel[a],d},created:function(){return this.records={},this.attributes=this.attributes?N(this.attributes):[]},find:function(a){var b;if(b=this.records[a],!b)throw"Unknown record";return b.clone()},exists:function(a){var b;try{return this.find(a)}catch(c){return b=c,!1}},refresh:function(a){var b,c,d;for(a=this.fromJSON(a),this.records={},b=0,c=a.length;c>b;)d=a[b],d.newRecord=!1,this.records[d.id]=d,b++;return this.trigger("refresh"),this},select:function(a){var b,c;c=[];for(b in this.records)a(this.records[b])&&c.push(this.records[b]);return this.cloneArray(c)},findByAttribute:function(a,b){var c;for(c in this.records)if(this.records[c][a]===b)return this.records[c].clone()},findAllByAttribute:function(a,b){return this.select(function(c){return c[a]===b})},each:function(a){var b,c;c=[];for(b in this.records)c.push(a(this.records[b]));return c},all:function(){return this.cloneArray(this.recordsValues())},first:function(){var a;return a=this.recordsValues()[0],a&&a.clone()},last:function(){var a,b;return b=this.recordsValues(),a=b[b.length-1],a&&a.clone()},count:function(){return this.recordsValues().length},deleteAll:function(){var a,b;b=[];for(a in this.records)b.push(delete this.records[a]);return b},destroyAll:function(){var a,b;b=[];for(a in this.records)b.push(this.records[a].destroy());return b},update:function(a,b){return this.find(a).updateAttributes(b)},create:function(a){var b;return b=this.init(a),b.save()},destroy:function(a){return this.find(a).destroy()},sync:function(a){return this.bind("change",a)},fetch:function(a){return this.loaded||null==a||this.loadLocal(a),"function"==typeof a?this.bind("fetch",a):this.trigger.apply(this,["fetch"].concat(N(arguments)))},toJSON:function(){return this.recordsValues()},fromJSON:function(a){var b,c;if(a){if("string"==typeof a&&(a=JSON.parse(a)),M(a)){for(c=[],b=0;b<a.length;)c.push(this.init(a[b])),b++;return c}return this.init(a)}},recordsValues:function(){var a,b;b=[];for(a in this.records)b.push(this.records[a]);return b},cloneArray:function(a){var b,c;for(c=[],b=0;b<a.length;)c.push(a[b].clone()),b++;return c}}),q.include({model:!0,newRecord:!0,init:function(a){var b;return a&&this.load(a),b=this.parent.name,this.parent=function(){return r.dictModel[b]},this.trigger("init",this)},isNew:function(){return this.newRecord},isValid:function(){return!this.validate()},validate:function(){},load:function(a){var b,c;c=[];for(b in a)c.push(this[b]=a[b]);return c},attributes:function(){var a,b,c;for(c={},b=0;b<this.parent().attributes.length;)a=this.parent().attributes[b],c[a]=this[a],b++;return c.id=this.id,c},eql:function(a){return a&&a.id===this.id&&a.parent()===this.parent()},save:function(){var a;return(a=this.validate())?(this.trigger("error",this,a),!1):(this.trigger("beforeSave",this),this.newRecord?this.create():this.update(),this.trigger("save",this),this)},updateAttribute:function(a,b){return this[a]=b,this.save()},updateAttributes:function(a){return this.load(a),this.save()},destroy:function(){return this.trigger("beforeDestroy",this),delete this.parent().records[this.id],this.destroyed=!0,this.trigger("destroy",this),this.trigger("change",this,"destroy")},dup:function(){var a;return a=this.parent().init(this.attributes()),a.newRecord=this.newRecord,a},clone:function(){return Object.create(this)},reload:function(){var a;return this.newRecord?this:(a=this.parent().find(this.id),this.load(a.attributes()),a)},toJSON:function(){return this.attributes()},exists:function(){return this.id&&this.id in this.parent().records},update:function(){var a,b;return this.trigger("beforeUpdate",this),b=this.parent().records,b[this.id].load(this.attributes()),a=b[this.id].clone(),this.trigger("update",a),this.trigger("change",a,"update")},create:function(){var a,b;return this.trigger("beforeCreate",this),this.id||(this.id=r.guid()),this.newRecord=!1,b=this.parent().records,b[this.id]=this.dup(),a=b[this.id].clone(),this.trigger("create",a),this.trigger("change",a,"create")},bind:function(a,b){return this.parent().bind(a,this.proxy(function(a){return a&&this.eql(a)?b.apply(this,arguments):void 0}))},trigger:function(){var a;try{return this.parent().trigger.apply(this.parent(),arguments)}catch(b){return a=b,log(a)}}}),u=function(){function a(a){this._set=void 0===a?[]:a,this.length=this._set.length,this.contains=function(a){return-1!==this._set.indexOf(a)}}return a.prototype.union=function(a){var b,c,d,e;for(b=a.length>this.length?a:this,c=a.length>this.length?this:a,e=b.copy(),d=0;d<c.length;)e.add(c._set[d]),d++;return e},a.prototype.intersection=function(b){var c,d,e,f,g;for(g=new a,c=b.length>this.length?b:this,d=b.length>this.length?this:b,f=0;f<d.length;)e=d._set[f],c.contains(e)&&g.add(e),f++;return g},a.prototype.difference=function(b){var c,d,e;for(e=new a,d=0;d<this.length;)c=this._set[d],b.contains(c)||e.add(c),d++;return e},a.prototype.symmetricDifference=function(a){return this.union(a).difference(this.intersection(a))},a.prototype.isSuperSet=function(a){var b;for(b=0;b<a.length;){if(!this.contains(a._set[b]))return!1;b++}return!0},a.prototype.isSubSet=function(a){var b;for(b=0;b<this.length;){if(!a.contains(this._set[b]))return!1;b++}return!0},a.prototype.add=function(a){return-1===this._set.indexOf(a)&&(this._set.push(a),this.length++),this.length},a.prototype.remove=function(a){var b;return b=this._set.indexOf(a),-1!==b?(this.length--,this._set.splice(b,1)[0]):null},a.prototype.copy=function(){return new a(this._set.slice())},a.prototype.asArray=function(){return this._set},a}(),I=this,I.Set=u,g=function(){function a(a){this.callback=a,this.ready=X(this.ready,this),this.ok=X(this.ok,this),this.wait=X(this.wait,this),this.count=1}return a.prototype.wait=function(){return this.count++},a.prototype.ok=function(){return--this.count?void 0:this.callback()},a.prototype.ready=function(){return this.ok()},a}(),s=function(){function a(){this.execute_callback=X(this.execute_callback,this),this.add_last_call=X(this.add_last_call,this),this.add_call=X(this.add_call,this),this.running=!1,this.callbacks=[]}return a.prototype.add_call=function(a){return this.running=!0,this.callbacks.push(a)},a.prototype.add_last_call=function(a){return this.last_callback=a},a.prototype.execute_callback=function(){var a,b,c,d;for(d=this.callbacks,b=0,c=d.length;c>b;b++)(a=d[b])();return this.callbacks=[],null!=this.last_callback&&this.last_callback(),this.running=!1},a}(),h=function(){function a(){this.ready=X(this.ready,this),this.ok=X(this.ok,this),this.wait=X(this.wait,this),this.count=1}return a.prototype.wait=function(){return this.count++},a.prototype.ok=function(){return--this.count?void 0:log("ok executed")},a.prototype.ready=function(){return this.ok()},a}(),I=this,I.DelayedOp=g,I.OneOp=s,I.DelayedSyncAnimation=h,window.debug=!1,window.log=function(){var a;return a=1<=arguments.length?Y.call(arguments,0):[],window.debug?console.log(a):void 0},r.one_time_sync=!1,r.keys=function(a){var b,c,d;c=[];for(b in a)d=a[b],c.push(b);return c},r.Model.general_sync={cloudcache:{},create_object_dictionary:function(){var a,b,c,d,e;for(a={},log("object:",this),e=this.all(),c=0,d=e.length;d>c;c++)b=e[c],a[b.id]=b;return a},sync_model_base_algo:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,s,t,v,w,x,y,z,A,B;if(navigator.onLine&&this.is_cloud_available!==!1){for(log("#ONE TIME SYNC ALGO RUNNING",this.name),r.one_time_sync=!0,r.currently_syncing=!0,i=this.create_object_dictionary(),a=this.cloudcache,k=new u(r.keys(i)),b=new u(r.keys(a)),log("local_set",k),log("cloud_set",b),d=[],y=this.DeletionStorage.all(),o=0,t=y.length;t>o;o++)f=y[o],this.delete_from_cloud(f.id),d.push(f.id),f.destroy();for(e=new u(d),log("deleted set",e),log("#the set of ids that are there locally but not there on the cloud",k.difference(b)._set),z=k.difference(b)._set,p=0,v=z.length;v>p;p++)h=z[p],j=i[h],null!=j.synced&&j.synced?(log("id for deletion",h),i[h].destroy()):this.add_to_cloud(j);for(log("#the set of ids that are there on the cloud but not there locally minus deletions",b.difference(k).difference(e)._set),A=b.difference(k).difference(e)._set,q=0,w=A.length;w>q;q++)h=A[q],this.add_from_cloud(h);for(log("#the set of ids that are there in the cloud and locally",b.intersection(k)._set),m=[],n=[],g=[],B=b.intersection(k)._set,s=0,x=B.length;x>s;s++)h=B[s],l=new Date(i[h].time),c=new Date(a[h].time),log("local_time",l.toString()),log("cloud_time",c.toString()),l-c===0?(log("equal time stamp do nothin",a[h].title),g.push(h)):l-c>0?(this.update_to_cloud(i[h]),m.push(h)):(this.update_to_local(i[h]),n.push(h));return r.currently_syncing=!1,r.one_time_sync=!1,log("updated to cloud",m.length,m),log("updated to local",n.length,n),log("equal timestamp",g.length,g)}},real_time_sync:function(a,b){var c,d;if(log("method",b),log("record",a),this.saveLocal(a,b),r.currently_syncing)return!0;if("update"===b&&(this.records[a.id].time=(new Date).toString()),d=navigator.onLine&&("Working"===localStorage.state||r.Client.GDrive.check_auth()),!d)return console.log("syncing is not setup correctly or the instance is not online"),!0;switch(b){case"destroy":if(a.synced)return d?(log("deletion in cloud"),this.delete_from_cloud(a.id)):(c=Deletion.init({id:a.id}),c.save());break;case"create":return this.add_to_cloud(a,function(){});case"update":return this.update_to_cloud(a,function(){});case"read":return this.update_to_local(a,function(){});default:return log("REAL TIME SYNCING FAILED, THIS METHOD NOT IMPLEMENTED")}},delta_update:function(){var a;return a=this.get_delta}},r.Model.Local={classname:"Nimbus.Model.Local",extended:function(){return this.sync(this.proxy(this.saveLocal)),this.fetch(this.proxy(this.loadLocal))},async_doc_setup:function(){},saveLocal:function(){},loadLocal:function(){}},r.Model.LocalSync={classname:"Nimbus.Model.LocalSync",extended:function(){return this.sync(this.proxy(this.saveLocal)),this.fetch(this.proxy(this.loadLocal))},saveLocal:function(){var a;return a=JSON.stringify(this),localStorage[this.name]=a},loadLocal:function(a){var b;return(b=localStorage[this.name])?(b=JSON.parse(b),this.refresh(b),null!=a?a():void 0):void 0}},r.Model.Dropbox={cloudcache:{},last_hash:"",hash:"",toCloudStructure:function(a){return log("local to cloud structure"),JSON.stringify(a)},fromCloudStructure:function(a){return log("changes cloud to local data in the form a dictionary"),a},diff_objects:function(a,b){var c,d,e;c={};for(d in a)e=a[d],b[d]!==a[d]&&(c[d]=[b[d],a[d]]);return null!=a.parent_id!=(null!=b.parent_id)&&(c.parent_id=["one of them is null"]),c},add_to_cloud:function(a,b){return log("add to cloud",a.name),r.Client.Dropbox.putFileContents("/"+r.Auth.app_name+("/"+this.name+"/"+a.id+".txt"),this.toCloudStructure(a),function(c){return log(a.name,"finished being added to cloud"),log("resp",c),r.currently_syncing=!0,a.time=c.modified,a.synced=!0,a.save(),r.currently_syncing=!1,null!=b?b(c):void 0})},delete_from_cloud:function(a,b){return log("delete from cloud",a),log("delete route","/"+r.Auth.app_name+("/"+this.name+"/"+a+".txt")),r.Client.Dropbox.deletePath("/"+r.Auth.app_name+("/"+this.name+"/"+a+".txt"),function(){return log("finished delete from cloud",a),null!=b?b():void 0})},update_to_cloud:function(a,b){return log("updated to cloud",a.name),r.Client.Dropbox.putFileContents("/"+r.Auth.app_name+("/"+this.name+"/"+a.id+".txt"),this.toCloudStructure(a),function(c){return log(a.name,"finished being updated to cloud"),r.currently_syncing=!0,a.time=c.modified,a.synced=!0,a.save(),r.currently_syncing=!1,null!=b?b(c):void 0})},add_from_cloud:function(a,b){return log("add from cloud",a),r.Client.Dropbox.getFileContents("/"+r.Auth.app_name+("/"+this.name+"/"+a+".txt"),function(c){return function(d){var e,f;return log("cloud read data",d),r.currently_syncing=!0,e=c.fromCloudStructure(d),f=c.init(e),f.synced=!0,f.time=c.cloudcache[a].time,f.save(),r.currently_syncing=!1,null!=b?b(d):void 0}}(this))},update_to_local:function(a){return log("update to local",a.name),r.Client.Dropbox.getFileContents("/"+r.Auth.app_name+("/"+this.name+"/"+a.id+".txt"),function(b){return function(c){var d,e;return log("cloud read data",c),r.currently_syncing=!0,d=b.fromCloudStructure(c),e=b.find(a.id),d.time=b.cloudcache[a.id].time,e.updateAttributes(d),r.currently_syncing=!1}}(this))},sync_all:function(a){return log("syncs all the data, normally happens at the start of a program or coming back from offline"),r.current_syncing=new g(function(b){return function(){return log("call back sync called"),r.current_syncing=new g(function(){return r.current_syncing=null,null!=a?a():void 0}),b.sync_model_base_algo(),r.current_syncing.ready()}}(this)),this.load_all_from_cloud(),r.current_syncing.ready()},load_all_from_cloud:function(){var a;log("loads all the data from the cloud locally, probably not feasible with dropbox and changes need to happen"),this.cloudcache={};try{return r.Client.Dropbox.getMetadataList("/"+r.Auth.app_name+"/"+this.name,function(a){return function(b){var c,d,e,f,g,h;for(log("call back load called"),log("data",b),h=b.contents,f=0,g=h.length;g>f;f++)e=h[f],d=e.path,c=d.replace("/"+r.Auth.app_name+"/"+(""+a.name+"/"),"").replace(".txt",""),a.cloudcache[c]={id:c,time:e.modified};return a.is_cloud_available=!0}}(this),function(a){return function(){return console.log("ERROR: error called for metadataList, folder should be created"),a.is_cloud_available=!1,r.Client.Dropbox.createFolder("/"+r.Auth.app_name+"/"+a.name,function(a){return log("call back create folder called",a)}),a.cloudcache={}}}(this))}catch(b){return a=b,_this.is_cloud_available=!1,log("trying to get the folder failed, probably cuz it don't exist",a)}},get_delta:function(){return log("get the delta for ",this.name," since last synced")},extended:function(){return this.sync(this.proxy(this.real_time_sync)),this.fetch(this.proxy(this.loadLocal))}},r.Auth.Dropbox_auth={authenticate_dropbox:function(){return localStorage.key=this.key,localStorage.secret=this.secret,localStorage.state="Auth",r.Client.Dropbox.get_request_token(this.key,this.secret,r.Client.Dropbox.authorize_token)},initialize_dropbox:function(){return log("initialization called"),"chrome-extension:"===location.protocol&&(log("Chrome edition authentication"),chrome.tabs.onUpdated.addListener(function(a,b,c){return"API Request Authorized"===c.title?(chrome.tabs.remove(a),r.Client.Dropbox.get_access_token(function(){return localStorage.state="Working",null!=r.Auth.authorized_callback&&r.Auth.authorized_callback(),r.Auth.app_ready_func(),console.log("NimbusBase is working! Chrome edition."),r.track.google.registered_user()})):void 0})),null!=localStorage.state&&"Auth"===localStorage.state?r.Client.Dropbox.get_access_token(function(){return localStorage.state="Working",null!=r.Auth.authorized_callback&&r.Auth.authorized_callback(),r.Auth.app_ready_func(),console.log("NimbusBase is working!"),r.track.google.registered_user()}):r.Auth.app_ready_func()},dropbox_authorized:function(){return"Dropbox"===r.Auth.service&&"Working"===localStorage.state?!0:!1},logout_dropbox:function(a){var b,c,d;if(localStorage.clear(),null!=r.dictModel){d=r.dictModel;for(b in d)c=d[b],c.records={}}return null!=this.sync_services&&r.Auth.setup(this.sync_services),null!=a?a():void 0}},t="application/vnd.google-apps.drive-sdk",R={},r.Model.Realtime={cloudcache:{},callback:[],toCloudStructure:function(a){return log("local to cloud structure"),a.type=this.name,JSON.stringify(a)},fromCloudStructure:function(a){return log("changes cloud to local data in the form a dictionary"),JSON.parse(a)},diff_objects:function(a,b){var c,d,e;c={};for(d in a)e=a[d],b[d]!==a[d]&&(c[d]=[b[d],a[d]]);return null!=a.parent_id!=(null!=b.parent_id)&&(c.parent_id=["one of them is null"]),c},add_to_cloud:function(a){var b;return log("add to cloud",a),r.currently_syncing=!0,a.time=(new Date).toString(),a.type=this.name,a.synced=!0,a.save(),r.currently_syncing=!1,b=this.toCloudStructure(a),r.realtime.todo.set(a.id,b)},delete_from_cloud:function(a){return log("delete from cloud",a,r.realtime.todo.has(a)),r.realtime.todo.has(a)?r.realtime.todo["delete"](a):void 0},update_to_cloud:function(a){var b;return log("updated to cloud",a.id),b=this.toCloudStructure(a),r.realtime.todo.set(a.id,b)},add_from_cloud:function(a){var b,c,d;return log("add from cloud GDrive",a),c=r.realtime.todo.get(a),r.currently_syncing=!0,b=this.fromCloudStructure(c),d=this.init(b),d.synced=!0,d.save(),r.currently_syncing=!1},update_to_local:function(a){var b,c,d;return log("update to local",a),c=r.realtime.todo.get(a.id),r.currently_syncing=!0,b=this.fromCloudStructure(c),d=this.init(b),d.synced=!0,d.save(),r.currently_syncing=!1},sync_all:function(a){return log("syncs all the data, normally happens at the start of a program or coming back from offline"),this.load_all_from_cloud(),this.sync_model_base_algo(),r.current_syncing=new g(function(b){return function(){return log("call back sync called"),r.current_syncing=new g(function(){return r.current_syncing=null,null!=a?a():void 0}),b.sync_model_base_algo(),r.current_syncing.ready()}}(this)),this.load_all_from_cloud(),r.current_syncing.ready()},load_all_from_cloud:function(){var a,b,c,d,e,f;for(log("loads all the data from the cloud locally"),this.cloudcache={},e=r.realtime.todo.keys(),f=[],c=0,d=e.length;d>c;c++)b=e[c],a=this.fromCloudStructure(r.realtime.todo.get(b)),f.push(a.type===this.name?this.cloudcache[b]=a:void 0);return f},get_delta:function(){return log("get the delta for ",this.name," since last synced")},add_realtime_callback:function(){return log("filler")},process_callback_chain:function(a,b,c){var d,e,f;log("filler"),f=R[this.name];for(e in f)(d=f[e])(a,b,c)},extended:function(){return this.sync(this.proxy(this.real_time_sync)),this.fetch(this.proxy(this.loadLocal))},onUpdate:function(a){return R[this.name]||(R[this.name]=[]),R[this.name].push(a)}},r.realtime.initializeModel=function(a){var b;return log("model initialization",a),b=a.createMap({}),a.getRoot().set("todo",b)},r.realtime.onFileLoaded=function(a){var b,c;return log("file loaded",a),r.realtime.doc=a,b=function(a){var b,c,d,e;return log("PROCESS EVENT"),log(a),c="NONE",null!=a.oldValue&&(e=JSON.parse(a.oldValue)),null!=a.newValue&&(e=JSON.parse(a.newValue)),d=r.dictModel[e.type],null===a.oldValue?(log("add event"),d.add_from_cloud(e.id),c="CREATE"):null===a.newValue?(log("delete event"),r.currently_syncing=!0,d.exists(e.id)&&(b=d.find(e.id),b.destroy()),r.currently_syncing=!1,c="DELETE"):(log("changing the data inside a entry event"),d.update_to_local(e),c="UPDATE"),d.process_callback_chain(c,e,a.isLocal),log("EVENT: ",c," OBJ: ",e),null!=window.realtime_update_handler?r.realtime.realtime_update_handler(c,e,a.isLocal):void 0},c=a.getModel().getRoot().get("todo"),r.realtime.todo=c,null!=r.realtime.real_time_callback&&r.realtime.real_time_callback(),c.addEventListener(gapi.drive.realtime.EventType.VALUE_CHANGED,b)},r.realtime.create_share_client=function(){var a;return a=new gapi.drive.share.ShareClient(r.Auth.app_id),a.setItemIds(r.realtime.c_file.id),a.showSettingsDialog(),r.realtime.share_client=a},r.realtime.handleErrors=J=function(a){return a.type===gapi.drive.realtime.ErrorType.TOKEN_REFRESH_REQUIRED?gapi.auth.authorize({client_id:r.Auth.key,scope:r.Auth.scope,immediate:!0,authuser:localStorage.authuser||0},function(){return console.log("authorize the app after error")}):a.type===gapi.drive.realtime.ErrorType.CLIENT_ERROR?alert("An Error happened: "+a.message):a.type===gapi.drive.realtime.ErrorType.NOT_FOUND?alert("The file was not found. It does not exist or you do not have read access to the file."):void 0},r.realtime.startRealtime=function(a){var b,c;c=r.Share.get_user_email(),localStorage.current_user_account&&localStorage.current_user_account===c||delete localStorage.last_opened_workspace,localStorage.current_user_account=c,null!=a&&(r.realtime.real_time_callback=a),b=function(){return r.Client.GDrive.getMetadataList("mimeType = 'application/vnd.google-apps.drive-sdk."+r.Auth.app_id+"'",function(a){var b,c,d,e,f,g;console.log("drive apps",a),r.realtime.app_files=a.items,c=[],e=0,g=a.items;for(d in g)f=g[d],log(f.mimeType),f.mimeType.indexOf("application/vnd.google-apps.drive-sdk")>=0&&(localStorage.last_opened_workspace&&f.id===localStorage.last_opened_workspace&&(e=d),c.push(f));return log("index",c),c.length>0?(log("file there"),b=c[e],r.realtime.c_file=b,localStorage.last_opened_workspace=b.id,gapi.drive.realtime.load(b.id,r.realtime.onFileLoaded,r.realtime.initializeModel,r.realtime.handleErrors)):(log("file not there"),r.Client.GDrive.insertFile("",r.Auth.app_name,"application/vnd.google-apps.drive-sdk",null,function(a){return log("finished insertFile",a),r.realtime.c_file=a,r.realtime.app_files.push(a),localStorage.last_opened_workspace=a.id,gapi.drive.realtime.load(a.id,r.realtime.onFileLoaded,r.realtime.initializeModel,r.realtime.handleErrors)
}),log("need to create file for app"))})},r.gapi_loaded?b():r.gapi_loaded_callback=b},r.realtime.load_new_file=function(a,b,c){return null!=b&&(r.realtime.real_time_callback=b),r.Share.getFile(a,function(b){return r.realtime.c_file=b,b.id?c&&c instanceof Function?gapi.drive.realtime.load(a,onFileLoaded,initializeModel,c):gapi.drive.realtime.load(a,onFileLoaded,initializeModel,J):void 0})},r.Client.Dropbox={get_request_token:function(a,b,c){var d,e;return e=new XMLHttpRequest,e.open("POST","https://api.dropbox.com/1/oauth/request_token",!0),d='OAuth oauth_version="1.0",oauth_signature_method="PLAINTEXT",oauth_consumer_key="'+a+'",oauth_signature="'+b+'&"',log(d),e.setRequestHeader("Authorization",d),e.onreadystatechange=function(){var a,b,d,e,f,g,h,i,j,k;if(4===this.readyState){if(200!==this.status){try{h=JSON.parse(h)}catch(l){}return error(h,this.status,this)}for(a=this.response,log(a),f=a.split(/&/),g={},j=0,k=f.length;k>j;j++)b=f[j],e=b.split(RegExp("="),2),g[e[0]]=e[1];log("Token result",g);for(d in g)i=g[d],localStorage[d]=i;if(window.request_token=g,null!=c)return c(g)}},e.send()},authorize_token:function(a){var b,c,d;return log("authorize url",document.URL),"file"===document.URL.slice(0,4)&&"undefined"!=typeof cordova&&null!==cordova?(log("Phonegap login"),b="https://www.dropbox.com/1/oauth/authorize?oauth_token="+a.oauth_token,c=window.open(b,"_blank","location=yes"),window.ref=c,window.auth_count=0,c.addEventListener("loadstop",function(a){return console.log(a),console.log("event",a.url.indexOf("https://www.dropbox.com/1/oauth/authorize")),a.url.indexOf("https://www.dropbox.com/1/oauth/authorize")>=0&&(window.auth_count=window.auth_count+1,2===window.auth_count)?(r.Auth.Dropbox_auth.initialize_dropbox(),window.ref.close()):void 0}),c.addEventListener("exit",function(){return r.Auth.logout_dropbox()})):"http"===document.URL.slice(0,4)?(d="&oauth_callback="+encodeURIComponent(document.URL),b="https://www.dropbox.com/1/oauth/authorize?oauth_token="+a.oauth_token+d,location.replace(b)):"chrome"===document.URL.slice(0,6)?(log("chrome app!"),b="https://www.dropbox.com/1/oauth/authorize?oauth_token="+a.oauth_token,chrome.tabs.create({url:b,selected:!0},function(a){return log("tab created",a.id)})):(b="https://www.dropbox.com/1/oauth/authorize?oauth_token="+a.oauth_token,location.replace(b))},get_access_token:function(a){var b,c,d,e;return c=localStorage.oauth_token,d=localStorage.oauth_token_secret,b='OAuth oauth_version="1.0",oauth_signature_method="PLAINTEXT",oauth_consumer_key="'+r.Auth.key+'",oauth_token="'+c+'",oauth_signature="'+r.Auth.secret+"&"+d+'"',log("auth_string:",b),e=new XMLHttpRequest,e.open("POST","https://api.dropbox.com/1/oauth/access_token",!0),e.setRequestHeader("Authorization",b),e.onreadystatechange=function(){var b,c,d,e,f,g,h,i,j,k;if(4===this.readyState){if(200!==this.status){try{h=JSON.parse(h)}catch(l){}return log(h,this.status,this)}for(c=this.response,log(c),g=c.split(/&/),b={},j=0,k=g.length;k>j;j++)d=g[j],f=d.split(RegExp("="),2),b[f[0]]=f[1];log("Access result",b);for(e in b)i=b[e],localStorage[e]=i;if(window.access_token=b,null!=a)return a(b)}},e.send()},send_request:function(a,b,c,d,e){var f,g,h,i,j,k;if(h=localStorage.oauth_token,i=localStorage.oauth_token_secret,f='OAuth oauth_version="1.0",oauth_signature_method="PLAINTEXT",oauth_consumer_key="'+r.Auth.key+'",oauth_token="'+h+'",oauth_signature="'+r.Auth.secret+"&"+i+'"',log("auth_string:",f),k=new XMLHttpRequest,k.open(a,b,!0),k.setRequestHeader("Authorization",f),k.onreadystatechange=function(){var a;if(4===this.readyState){if(200===this.status){a=this.response;try{a=JSON.parse(a)}catch(b){}log("REQUEST RESULT",a),null!=d&&d(a)}else{try{a=JSON.parse(a)}catch(b){}log(a,this.status,this),null!=e&&e(a)}if(null!=r.current_syncing)return r.current_syncing.ok()}},"POST"===a){if(k.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c){j=[];for(g in c)j.push(encodeURIComponent(g)+"="+encodeURIComponent(c[g]));c=j.length>0?j.join("&").replace(/%20/g,"+"):null}log(c)}return log("send request params",a,b,c,d,e),null!=r.current_syncing&&r.current_syncing.wait(),k.send(c),window.xhr=k},send_request_without_delay:function(a,b,c,d,e){var f,g,h,i,j,k;if(h=localStorage.oauth_token,i=localStorage.oauth_token_secret,f='OAuth oauth_version="1.0",oauth_signature_method="PLAINTEXT",oauth_consumer_key="'+r.Auth.key+'",oauth_token="'+h+'",oauth_signature="'+r.Auth.secret+"&"+i+'"',log("auth_string:",f),k=new XMLHttpRequest,k.open(a,b,!0),k.setRequestHeader("Authorization",f),k.onreadystatechange=function(){var a;if(4===this.readyState)if(200===this.status){a=this.response;try{a=JSON.parse(a)}catch(b){}if(log("REQUEST RESULT",a),null!=d)return d(a)}else{try{a=JSON.parse(a)}catch(b){}if(log(a,this.status,this),null!=e)return e(a)}},"POST"===a){if(k.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c){j=[];for(g in c)j.push(encodeURIComponent(g)+"="+encodeURIComponent(c[g]));c=j.length>0?j.join("&").replace(/%20/g,"+"):null}log(c)}return log("send request params",a,b,c,d,e),k.send(c)},putFileContents:function(a,b,c,d){return log("putFileContents"),r.Client.Dropbox.send_request("PUT","https://api-content.dropbox.com/1/files_put/sandbox"+a,b,c,d)},createFolder:function(a,b,c){return log("createFolder"),r.Client.Dropbox.send_request("POST","https://api.dropbox.com/1/fileops/create_folder",{root:"sandbox",path:a},b,c)},deletePath:function(a,b,c){return log("deletePath"),r.Client.Dropbox.send_request("POST","https://api.dropbox.com/1/fileops/delete",{root:"sandbox",path:a},b,c)},getFileContents:function(a,b,c){return log("getFileContents"),r.Client.Dropbox.send_request("GET","https://api-content.dropbox.com/1/files/sandbox"+a,"",b,c)},getMetadataList:function(a,b,c){return log("getMetadataList"),r.Client.Dropbox.send_request("GET","https://api.dropbox.com/1/metadata/sandbox"+a,"",b,c)},getAccountInfo:function(a,b){return log("getAccountInfo"),r.Client.Dropbox.send_request_without_delay("GET","https://api.dropbox.com/1/account/info","",a,b)}},window.client=null,r.Client.Dropbox.Binary={binary_setup:function(){return window.binary=r.Model.setup("binary",["name","path","copied","directlink","sharelink","expiration"])},initialize_client:function(){return log("initializing second client"),null==r.Auth.key?log("can't upload file with no dropbox credentials"):null==window.client?(window.client=new i.Client({key:r.Auth.key,secret:r.Auth.secret,sandbox:!0}),window.client.oauth.setToken(localStorage.oauth_token,localStorage.oauth_token_secret)):void 0},upload_blob:function(a,b,c){var d,e;return log("upload new blob"),r.Client.Dropbox.Binary.initialize_client(),null!=window.client?(e=binary.create({name:b,copied:!1}),d=function(a,b){return console.log("wrote file to cloud"),console.log(a,b),e.copied=!0,e.path=b.path,e.save(),null!=c?c(e):void 0},log("file name",b),window.client.writeFile(b,a,d)):log("client won't initialize")},upload_file:function(a,b){var c,d;return log("upload new file"),r.Client.Dropbox.Binary.initialize_client(),null!=window.client?(d=binary.create({name:a.name,copied:!1}),c=function(a,c){return console.log("wrote file to cloud"),console.log(a,c),d.copied=!0,d.path=c.path,d.save(),null!=b?b(d):void 0},log("file name",a.name),window.client.writeFile(a.name,a,c)):log("client won't initialize")},read_file:function(a,b){var c;return log("read a binary file from the server"),r.Client.Dropbox.Binary.initialize_client(),null!=window.client?(c=function(a,c,d){return console.log(a,c,d),b(c)},window.client.readFile(a.path,{blob:!0},c)):log("client won't initialize")},share_link:function(a,b){var c;return log("get the share link"),r.Client.Dropbox.Binary.initialize_client(),null!=window.client?(c=function(c,d){return console.log(c,d),a.sharelink=d.url,a.save(),b(d)},console.log(a.path),window.client.makeUrl(a.path,{},c)):void 0},direct_link:function(a,b){var c;return log("get the share link"),r.Client.Dropbox.Binary.initialize_client(),null!=window.client?null!=a.directlink&&new Date(a.expiration)>new Date?b({url:a.directlink,expiresAt:a.expiration}):(c=function(c,d){return console.log(c,d),a.directlink=d.url,a.expiration=d.expiresAt.toString(),a.save(),b(d)},window.client.makeUrl(a.path,{download:!0,downloadHack:!0},c)):void 0},delete_file:function(a){var b;return log("delete file"),r.Client.Dropbox.Binary.initialize_client(),null!=window.client?(b=function(){return a.destroy()},window.client.remove(a.path,b)):log("client won't initialize")}},r.Client.GDrive={check_auth:function(){var a;return log("checking if this is authenticated"),"chrome-extension:"===location.protocol&&"undefined"!=typeof gapi&&null!==gapi&&null!=gapi.auth&&null===gapi.auth.getToken()&&null!=r.realtime.todo?(a=r.Auth.GDrive.getLocalOauth2Token(),null==a||r.Auth.GDrive.isTokenExpires(a)?!1:(gapi.auth.setToken(a),!0)):"undefined"!=typeof gapi&&null!==gapi&&null!=gapi.auth&&null!==gapi.auth.getToken()&&0!==Object.keys(gapi.auth.getToken()).length},authorize:function(a,b,c){return log("authorized called"),gapi.auth.authorize({client_id:a,scope:b,immediate:!1,authuser:localStorage.authuser||0,prompt:"select_account"},c)},insertFile:function(a,b,c,d,e,f){var g,h,i,j,k,l,m;return log("putFileContents"),h="-------314159265358979323846",j="\r\n--"+h+"\r\n",i="\r\n--"+h+"--",g=E(a),k={title:b,mimeType:c},null!=d&&(k.parents=[{kind:"drive#fileLink",id:d}]),f&&(k.properties=f),l=j+"Content-Type: application/json\r\n\r\n"+JSON.stringify(k)+j+"Content-Type: "+c+"\r\nContent-Transfer-Encoding: base64\r\n\r\n"+g+i,log("MULTI: ",l),e||(e=function(a){return log("Update Complete ",a)}),a?m={path:"/upload/drive/v2/files",method:"POST",params:{uploadType:"multipart"},headers:{"Content-Type":'multipart/mixed; boundary="'+h+'"'},body:l}:(m={path:"/drive/v2/files",method:"POST",body:{title:b,mimeType:c}},f&&(m.body.properties=f)),this.make_request(m,e)},deleteFile:function(a,b){var c;return log("deletePath"),b||(b=function(b){return function(c){var d;return d={path:"/drive/v2/files/"+a,method:"DELETE"},b.make_request(d,function(a){return log("delete complete",a)}),log("Delete Complete ",c)}}(this)),c={path:"/drive/v2/files/"+a+"/trash",method:"POST"},this.make_request(c,b)},getFile:function(a,b){var c;return log("getFileContents"),b||(b=function(a){return log("Read Complete ",a)}),c={path:"/drive/v2/files/"+a,method:"GET"},this.make_request(c,b)},readFile:function(a,b){var c,d;return b||(b=function(a){return log("Read Complete ",a)}),c=gapi.auth.getToken().access_token,d=new XMLHttpRequest,d.open("GET",a),d.setRequestHeader("Authorization","Bearer "+c),d.onload=function(){return b(d.responseText),null!=r.current_syncing?r.current_syncing.ok():void 0},d.onerror=function(){return b(null)},null!=r.current_syncing&&r.current_syncing.wait(),d.send()},updateFile:function(a,b,c,d,e,f){var g,h,i,j,k,l,m;return log("updateFileContents"),h="-------314159265358979323846",j="\r\n--"+h+"\r\n",i="\r\n--"+h+"--",c="text/html",k={mimeType:c},g=E(a),k={title:b,mimeType:c},l=j+"Content-Type: application/json\r\n\r\n"+JSON.stringify(k)+j+"Content-Type: "+c+"\r\nContent-Transfer-Encoding: base64\r\n\r\n"+g+i,f||(f=function(a){return log("Update Complete ",a)}),m={path:"/upload/drive/v2/files/"+d,method:"PUT",params:{fileId:d,uploadType:"multipart"},headers:{"Content-Type":'multipart/mixed; boundary="'+h+'"'},body:l},this.make_request(m,f)},getMetadataList:function(a,b){var c;return log("getMetadataList"),b||(b=function(a){return log("List of files",a)}),c={path:"/drive/v2/files",method:"GET",params:{q:a}},this.make_request(c,b)},make_request:function(a,b){return a.callback=function(a){return null!=b&&b(a),null!=r.current_syncing?r.current_syncing.ok():void 0},null!=r.current_syncing&&r.current_syncing.wait(),gapi.client.request(a)},get_current_user:function(a){var b,c;return log("get current user"),c=function(){return function(b){var c;return log("About called ",b),c={},c.name=b.user.displayName,c.id=b.user.permissionId,null!=b.user.picture&&(c.pic=b.user.picture.url),null!=a?a(c):void 0}}(this),b={path:"/drive/v2/about",method:"GET"},this.make_request(b,c)},get_current_user_info:function(a){var b,c;return log("get current user"),c=function(){return function(b){return null!=a?a(b):void 0}}(this),b={path:"/plus/v1/people/me",method:"GET"},this.make_request(b,c)},add_share_user:function(a,b){var c,d,e;return log("&&& add share user"),e=function(){return function(a){var c;return log("Add Share user Complete ",a),c={id:a.id,email:a.emailAddress,name:a.name,role:a.role},null!=a.photoLink&&(c.pic=a.photoLink),null!=b?b(c):void 0}}(this),c=r.realtime.folder.binary_files.id,d={path:"/drive/v2/files/"+c+"/permissions",method:"POST",params:{fileId:c},body:{role:"writer",type:"user",value:a}},this.make_request(d,e)},add_share_user_real:function(a,b,c){var d,e,f;return log("&&& add share user"),d=c?c:r.realtime.c_file.id,f=function(){return function(a){var c;return log("Add Share user Complete ",a),c={id:a.id,email:a.emailAddress,name:a.name,role:a.role},null!=a.photoLink&&(c.pic=a.photoLink),null!=b?b(c):void 0}}(this),e={path:"/drive/v2/files/"+d+"/permissions",method:"POST",params:{fileId:d},body:{role:"writer",type:"user",value:a}},this.make_request(e,f)},remove_share_user:function(a,b){var c,d;return log("&&& remove a user from sharing this app"),c=r.realtime.folder.binary_files.id,b||(b=function(a){return log("Permission Removal Complete ",a)}),d={path:"/drive/v2/files/"+c+"/permissions/"+a,method:"DELETE"},this.make_request(d,b)},remove_share_user_real:function(a,b,c){var d;return log("&&& remove a user from sharing this app"),b||(b=function(a){return log("Permission Removal Complete ",a)}),c=c?c:r.realtime.c_file.id,d={path:"/drive/v2/files/"+c+"/permissions/"+a,method:"DELETE"},this.make_request(d,b)},get_user_email:function(){var a,b,c;return null!=r.realtime.user_email?r.realtime.user_email:(a=gapi.auth.getToken().access_token,b=null,c=new XMLHttpRequest,c.onreadystatechange=function(){return 4===c.readyState?200===c.status?b=JSON.parse(c.responseText):log("get user email failed with status "+c.status):void 0},c.open("GET","https://www.googleapis.com/oauth2/v1/tokeninfo?access_token="+a,!1),c.send(null),null!=(null!=b?b.email:void 0)?(r.realtime.user_email=b.email,b.email):null)},get_shared_users_real:function(a){var b,c;return log("&&& get shared users"),c=function(){return function(b){var c,d,e,f,g,h;for(log("Update Complete ",b),e=[],h=b.items,f=0,g=h.length;g>f;f++)c=h[f],d={id:c.id,name:c.name,role:c.role,email:c.emailAddress},null!=c.photoLink&&(d.pic=c.photoLink),e.push(d);return log("permissions",e),null!=a?a(e):void 0}}(this),b={path:"/drive/v2/files/"+r.realtime.c_file.id+"/permissions",method:"GET"},this.make_request(b,c)},get_shared_users:function(a){var b,c,d;return log("&&& get shared users"),b=r.realtime.folder.binary_files.id,d=function(){return function(b){var c,d,e,f,g,h;for(log("Update Complete ",b),e=[],h=b.items,f=0,g=h.length;g>f;f++)c=h[f],d={id:c.id,name:c.name,role:c.role},null!=c.photoLink&&(d.pic=c.photoLink),e.push(d);return log("permissions",e),null!=a?a(e):void 0}}(this),c={path:"/drive/v2/files/"+b+"/permissions",method:"GET"},this.make_request(c,d)},get_app_folders:function(a){return log("&&& get app folders"),r.Client.GDrive.getMetadataList("mimeType = 'application/vnd.google-apps.folder' and title = '"+r.Auth.app_name+"'",function(b){var c,d,e,f,g,h;if(log(b),d=b.items,f=[],null!=b.items)for(g=0,h=d.length;h>g;g++)c=d[g],e={},e.id=c.id,e.owner=c.ownerNames[0],f.push(e);return log(f),null!=a?a(f):void 0})},switch_to_app_folder:function(a,b){return log("###switch to app folder"),r.realtime.folder={},r.realtime.folder[r.Auth.app_name]={title:r.Auth.app_name,id:a},r.current_syncing=new g(function(){return function(){return null!=b?b():void 0}}(this)),localStorage.main_folder_id=a,r.Client.GDrive.getMetadataList("mimeType = 'application/vnd.google-apps.folder'",function(b){var c,d,e,f,g,h,i,j;for(c=b.items,log("###rewriting folders",c),g=0,h=c.length;h>g;g++)f=c[g],log(f),f.parents.length>0&&f.parents[0].id===a&&(r.realtime.folder[f.title]=f);if(null!=r.dictModel){i=r.dictModel,j=[];for(d in i)e=i[d],j.push(e.records={});return j}}),r.current_syncing.ready()},switch_to_app_file_real:function(a,b){return localStorage.last_opened_workspace=a,r.current_syncing=new g(function(){return function(){return null!=b?b():void 0}}(this)),window._indexdb&&_indexdb.allDocs({include_docs:!0},function(a,b){var c,d,e,f,g;if(!a){for(f=b.rows,g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(_indexdb.remove(c.doc,function(a,b){return log("ok",a,b)}));return g}}),r.Share.getFile(a,function(b){var c,d,e;if(b.id){if(r.realtime.c_file=b,null!=r.dictModel){e=r.dictModel;for(c in e)d=e[c],d.records={},r.Storage&&(r.Storage[d.name]=[])}return gapi.drive.realtime.load(a,r.realtime.onFileLoaded,r.realtime.initializeModel,r.realtime.handleErrors)}}),r.current_syncing.ready()},build_params:function(a){var b,c,d;return c=function(){var c;c=[];for(b in a)d=a[b],c.push(""+encodeURIComponent(b)+"="+encodeURIComponent(d));return c}(),c.join("&")},extract_params_from_url:function(){var a,b,c,d;for(b={},c=location.hash.substring(1),d=/([^&=]+)=([^&]*)/g;a=d.exec(c);)b[decodeURIComponent(a[1])]=decodeURIComponent(a[2]);return b},request_access_token:function(){var a,b,c,d;return c=r.Auth.redirect_uri||window.location.protocol+"//"+window.location.host+window.location.pathname,a={response_type:"token",client_id:r.Auth.key,redirect_uri:c,scope:r.Auth.scope,state:"gdrive_get_access_token",prompt:"select_account"},b=r.Client.GDrive.build_params(a),d="https://accounts.google.com/o/oauth2/auth?"+b,window.open(d,"_self")},request_validate_token:function(a){var b,c;return c=new XMLHttpRequest,b=null,c.onreadystatechange=function(){var a;return 4===c.readyState?200===(a=c.status)||400===a?b=JSON.parse(c.responseText):log("validate access token failed with status "+c.status):void 0},c.open("GET","https://www.googleapis.com/oauth2/v1/tokeninfo?access_token="+a,!1),c.send(null),b},is_token_validate:function(a){var b,c;return c=!1,b=this.request_validate_token(a),null==b?!1:("error"in b||(null!=b?b.audience:void 0)!==r.Auth.key||(c=!0),c)},handle_auth_redirected:function(){return"function"==typeof history.replaceState?history.replaceState("",document.title,window.location.pathname):void 0},is_auth_redirected:function(){var a;return a=this.extract_params_from_url(),"gdrive_get_access_token"===a.state&&"token_type"in a&&"Bearer"===a.token_type?(a.authuser&&(localStorage.authuser=a.authuser),!0):!1}},r.Client.GDrive.Binary={binary_setup:function(){return window.binary=r.Model.setup("binary",["name","path","copied","directlink","sharelink","expiration","file_id"])},initialize_client:function(a){return log("initializing client"),null==r.Auth.key||null==r.Auth.scope?log("can't upload file with no GDrive credentials"):r.Client.GDrive.check_auth()?a?a():void 0:r.Client.GDrive.authorize(r.Auth.key,r.Auth.scope,function(){return log("GDrive authorized"),a?a():void 0})},upload_blob:function(a,b,c){return r.Client.GDrive.Binary.initialize_client(function(){var d;return log("upload new blob"),d=new FileReader,d.readAsBinaryString(a),d.onload=function(){var e,f,g,h,i;return f=d.result,g=a.type||"application/octet-stream",i=r.realtime.folder.binary_files.id,h=binary.create({name:b}),e=function(a){return console.log("upload file to cloud"),console.log(a),h.copied=!0,h.file_id=a.id,h.directlink=a.webContentLink,h.save(),null!=c?c(h):void 0},r.Client.GDrive.insertFile(f,b,g,i,e)}})},upload_file:function(a,b){return r.Client.GDrive.Binary.initialize_client(function(){var c;return log("upload new file"),c=new FileReader,c.readAsBinaryString(a),c.onload=function(){var d,e,f,g,h,i;return g=a.name,e=c.result,f=a.type||"application/octet-stream",i=r.realtime.folder.binary_files.id,h=binary.create({name:g}),d=function(a){return console.log("upload file to cloud"),console.log(a),h.copied=!0,h.file_id=a.id,h.directlink=a.webContentLink,h.save(),h._file=a,null!=b?b(h):void 0},r.Client.GDrive.insertFile(e,g,f,i,d)}})},read_file:function(a,b){return r.Client.GDrive.Binary.initialize_client(function(){var c;return log("read metadata of a file from the server"),c={path:"/drive/v2/files/"+a.file_id},r.Client.GDrive.make_request(c,function(a){return console.log(a),b?b(a):void 0})})},share_link:function(a,b){return r.Client.GDrive.Binary.initialize_client(function(){return log("get the share link"),b?b(""):void 0})},direct_link:function(a,b){return r.Client.GDrive.Binary.initialize_client(function(){return log("get the direct link"),b?b(a.directlink):void 0})},delete_file:function(a){return r.Client.GDrive.Binary.initialize_client(function(){return log("delete file",a),r.Client.GDrive.deleteFile(a.file_id,function(){return a.destroy()})})}},window.nimbus_error=[],r.Model.GDrive={cloudcache:{},last_hash:"",hash:"",toCloudStructure:function(a){return log("local to cloud structure"),JSON.stringify(a)},fromCloudStructure:function(a){return log("changes cloud to local data in the form a dictionary"),JSON.parse(a)},diff_objects:function(a,b){var c,d,e;c={};for(d in a)e=a[d],b[d]!==a[d]&&(c[d]=[b[d],a[d]]);return null!=a.parent_id!=(null!=b.parent_id)&&(c.parent_id=["one of them is null"]),c},add_to_cloud:function(a){var b,c;return log("add to cloud",a),c=a.parent.name,b=r.realtime.folder[c].id,r.Client.GDrive.insertFile(this.toCloudStructure(a),a.id,"text/plain",b,function(b){return log("logging data inserted",b),r.currently_syncing=!0,a.gid=b.id,a.time=b.modifiedDate,a.synced=!0,a.save(),r.currently_syncing=!1})},delete_from_cloud:function(a,b){return log("delete from cloud",a),r.Client.GDrive.getMetadataList("title = '"+a+"'",function(a){var c;return log("data",a),a.items.length>0?(c=a.items[0].id,r.Client.GDrive.deleteFile(c),null!=b?b():void 0):log("file to be deleted not there")})},update_to_cloud:function(a){var b,c,d,e;return log("updated to cloud",a.name),d=a.parent.name,c=r.realtime.folder[d].id,e=function(){return function(b){return log("logging data inserted",b),r.currently_syncing=!0,a.time=b.modifiedDate,a.save(),a.synced=!0,r.currently_syncing=!1}}(this),b=function(b){return function(d){var e;return e=d.items[0].id,r.Client.GDrive.updateFile(b.toCloudStructure(a),a.id,"text/plain",e,c,function(b){return log("logging data inserted",b),r.currently_syncing=!0,a.time=b.modifiedDate,a.save(),r.currently_syncing=!1})}}(this),null!=a.gid?r.Client.GDrive.updateFile(this.toCloudStructure(a),a.id,"text/plain",a.gid,c,function(b){return log("logging data updated",b),r.currently_syncing=!0,a.time=b.modifiedDate,a.save(),r.currently_syncing=!1}):r.Client.GDrive.getMetadataList("title = '"+a.id+"'",b)},add_from_cloud:function(a){var b;return log("add from cloud GDrive",a),b=function(b){return function(c){var d,e;return log("cloud url data",JSON.parse(c)),r.currently_syncing=!0,d=b.fromCloudStructure(c),e=b.init(d),e.synced=!0,e.time=b.cloudcache[a].time,e.save(),r.currently_syncing=!1}}(this),r.Client.GDrive.getMetadataList("title = '"+a+"'",function(a){var c;return log("cloud read data",a),null!=a.items&&a.items.length>=1?(c=a.items[0].downloadUrl,r.Client.GDrive.readFile(c,b)):log("This data is not there")})},update_to_local:function(a){var b;return log("update to local",a),b=function(b){return function(c){var d,e;return log("cloud url data",JSON.parse(c)),r.currently_syncing=!0,d=b.fromCloudStructure(c),e=b.find(a.id),d.time=b.cloudcache[a.id].time,e.updateAttributes(d),r.currently_syncing=!1}}(this),r.Client.GDrive.getMetadataList("title = '"+a.id+"'",function(c){var d;return log("cloud read data",c),null!=c.error?(window.nimbus_error.push({error:c.error,object:a}),console.log("##ERROR writing back to local",c.error,"object: ",a)):c.items.length>=1?(d=c.items[0].downloadUrl,r.Client.GDrive.readFile(d,b)):log("This data is not there")})},sync_all:function(a){return log("syncs all the data, normally happens at the start of a program or coming back from offline"),r.current_syncing=new g(function(b){return function(){return log("call back sync called"),r.current_syncing=new g(function(){return r.current_syncing=null,null!=a?a():void 0}),b.sync_model_base_algo(),r.current_syncing.ready()}}(this)),this.load_all_from_cloud(),r.current_syncing.ready()},load_all_from_cloud:function(){var a,b,c;return log("loads all the data from the cloud locally"),this.cloudcache={},c=this.name,log("object name",c),null!=r.realtime.folder&&null!=r.realtime.folder[c]?(b=r.realtime.folder[c].id,a=function(a){return function(b){var d,e,f,g,h;if(log("cloud read data",c,b),null!=b.items){for(g=b.items,h=[],e=0,f=g.length;f>e;e++)d=g[e],a.cloudcache[d.title]={id:d.title,time:d.modifiedDate},h.push(d.labels.trashed?console.log("##### this is trashed #####",d):void 0);return h}return log("###ERROR, no return data")}}(this),r.Client.GDrive.getMetadataList("'"+b+"' in parents",a),_this.is_cloud_available=!0):(log("############################BIG ERROR no folder there for load from cloud"),_this.is_cloud_available=!1)},get_delta:function(){return log("get the delta for ",this.name," since last synced")},extended:function(){return this.sync(this.proxy(this.real_time_sync)),this.fetch(this.proxy(this.loadLocal))}},r.realtime.folder=null,r.realtime.folder_creation=new s,r.realtime.creating={},r.realtime.handle_initialization=new s,r.realtime.gdrive_initialized=!1,r.realtime.folder_initialize=function(a){var b,c,d,e,f;return b=r.realtime.c_file,f=b.title+" files",e="mimeType = 'application/vnd.google-apps.folder' and properties has { key='space' and value='"+b.id+"' and visibility='PRIVATE' }",d=[{key:"space",value:b.id,visibility:"PRIVATE"}],c=function(a){return r.Client.GDrive.getMetadataList(e,function(b){return a?a(b):void 0})},log("&&& folder initialize"),log("Nimbus.Client.GDrive.check_auth()",r.Client.GDrive.check_auth(),"Nimbus.Auth.service",r.Auth.service),r.Client.GDrive.check_auth()&&"GDrive"===r.Auth.service?(log("this is authenticated and a GDrive app"),r.Client.GDrive.getMetadataList(e,function(c){var e,f,g,h;if(log("#data: ",c),r.realtime.folder={},e=c.items,null!=localStorage.main_folder_id)return r.realtime.folder[r.Auth.app_name]={title:r.Auth.app_name,id:localStorage.main_folder_id};if(e.error)return console.log("error");for(g=0,h=e.length;h>g;g++)if(f=e[g],f.owners[0].permissionId===b.owners[0].permissionId){r.realtime.folder.binary_files=f;break}return null==r.realtime.folder.binary_files?r.Client.GDrive.insertFile("",b.title+" files","application/vnd.google-apps.folder",null,function(b){return log("binary_files folder data",b),log("binary ready callback",binary_ready_callback),r.realtime.folder.binary_files=b,r.realtime.binary_ready_callback&&r.realtime.binary_ready_callback(),null!=a?a():void 0},d):(log("binary ready callback",binary_ready_callback),r.realtime.binary_ready_callback&&r.realtime.binary_ready_callback(),null!=a?a():void 0)})):void 0},r.Auth.GDrive={init_scope:function(){var a,b;return b=this.scope,M=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},a="https://www.googleapis.com/auth/userinfo.email",M(b)?Z.call(b,a)<0&&b.push(a):b=[b,a],-1===b.indexOf("openid")&&b.push("openid"),this.scope=b.join(" ")},get_token_from_code:function(a){var b,c;return c=new XMLHttpRequest,b="code="+a+"&client_id="+this.key+"&client_secret="+this.client_secret+"&grant_type=authorization_code&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob",c.open("POST","https://accounts.google.com/o/oauth2/token"),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.onreadystatechange=function(a){return function(){var b,d;if(4===c.readyState)try{return d=JSON.parse(c.response),d.error?console.log("error"):(window.plugins.childBrowser.close(),localStorage.phonegap_token=JSON.stringify(d),localStorage.state="Working",gapi.auth.setToken(d),a.prepare_gdrive(),r.track.google.registered_user())}catch(e){return b=e,console.log(b)}}}(this),c.send(b),c},authenticate_gdrive:function(){var a,b,c;return log("this should bring up a prompt to initialize into GDrive"),localStorage.d_key=this.key,localStorage.secret=this.scope,localStorage.state="Auth","file"!==document.URL.slice(0,4)||"undefined"==typeof cordova||null===cordova?"chrome-extension:"===location.protocol?(log("chrome extension authorize"),this.oauth2_authorize()):r.Client.GDrive.request_access_token():(log("Phonegap google login"),a="https://accounts.google.com/o/oauth2/auth?response_type=code&client_id="+this.key+"&scope="+encodeURIComponent(this.scope)+"&approval_prompt=auto&redirect_uri=urn:ietf:wg:oauth:2.0:oob",window.auth_url=a,b=window.plugins.childBrowser,null!==b?(b.onLocationChange=function(a){return locChanged(a)},b.onClose=function(){return onCloseBrowser()},b.onOpenExternal=function(){return onOpenExternal()},c=a+"###var sendToApp = function(_key, _val) {var iframe = document.createElement('IFRAME');iframe.setAttribute('src', _key + ':##sendToApp##' + _val);document.documentElement.appendChild(iframe);iframe.parentNode.removeChi(iframe);iframe = null;};var log=function(_mssg){sendToApp('ios-log',_mssg);}; var html = document.getElementById('code').value; log(html);",b.onJSCallback=function(a){return b.code=a,a&&null!=a&&"(null)"!==a?(b.close(),console.log("will get some toaken"),r.Auth.get_token_from_code(a)):void 0},b.showWebPage(c)):void 0)},initialize_gdrive:function(){var a;return log("This part should reflect what initialization needs to be done for GDrive auth"),r.gdrive_initialized=!0,r.loaded?"chrome-extension:"===location.protocol?this.oauth2_authorize_second_half():(r.Client.GDrive.is_auth_redirected()&&(a=!0,r.Auth.authorized_callback&&r.Auth.authorized_callback(),r.Client.GDrive.handle_auth_redirected()),console.log("GDrive loaded"),localStorage.phonegap_token?(gapi.auth.setToken(JSON.parse(localStorage.phonegap_token)),_this.prepare_gdrive()):gapi.auth.authorize({client_id:this.key,scope:this.scope,immediate:!0,authuser:localStorage.authuser||0},function(b){return function(c){return log("client load handled GDrive"),log(c),null===c||c.error?void 0:(r.Auth.authorized_callback&&!a&&r.Auth.authorized_callback(),b.prepare_gdrive())}}(this))):void 0},gdrive_authorized:function(){return r.Client.GDrive.check_auth()},logout_gdrive:function(a){var b,c,d;if(localStorage.clear(),gapi.auth.setToken(null),null!=r.dictModel){d=r.dictModel;for(b in d)c=d[b],c.records={}}return null!=this.sync_services&&r.Auth.setup(this.sync_services),null!=a?a():void 0},prepare_gdrive:function(){return window.binary_ready_callback=function(){return null!=r.Auth.authorized_callback?r.Auth.authorized_callback():void 0},r.realtime.startRealtime(function(){return log("CURRENT SYNCING CALLBACK"),r.Auth.app_ready_func(),r.track.google.registered_user(),setInterval(function(){var a,b;return b=null!=gapi.auth.getToken()&&null==gapi.auth.getToken().access_token,a=gapi.auth.getToken()?gapi.auth.getToken().expires_at-(new Date).getTime()/1e3<600:!0,b||a?gapi.auth.authorize({client_id:r.Auth.key,scope:r.Auth.scope,immediate:!0,authuser:localStorage.authuser||0},function(){return console.log("token refreshed")}):null},6e4)})},oauth2_authorize:function(){var a,b,c;return a=chrome.extension.getBackgroundPage(),a.NimbusAuth2=function(a){var b;return b={OAUTH2_REDIRECT_URI:"http://www.google.com/robots.txt",getExtensionId:function(){return a.chrome.i18n.getMessage("@@extension_id")},isOauth2AuthorizeRedirected:function(a,b){return a===this.OAUTH2_REDIRECT_URI&&b===this.getExtensionId()?!0:!1},parseParamsString:function(b){var c,d,e;for(d={},e=/([^&=]+)=([^&]*)/g;c=e.exec(b);)d[a.decodeURIComponent(c[1])]=a.decodeURIComponent(c[2]);return d},parseRedirectedURL:function(a){var b,c,d,e;return e=a.split("#"),b=e[0],c=e[1],d=this.parseParamsString(c),{base_url:b,params:d}},generateRedirectListener:function(){var b;return b=function(c){return function(d,e,f){var g,h,i,j,k;if("loading"===e.status&&(h=c.parseRedirectedURL(f.url),c.isOauth2AuthorizeRedirected(h.base_url,h.params.state))){if(a.chrome.tabs.onUpdated.removeListener(b),a.chrome.tabs.remove(d),h.saved_time=(new a.Date).getTime(),a.localStorage._nimbusGDriveAuthObj=a.JSON.stringify(h),c.isPackagedApp())for(a.console.log("in packaged app"),g=a.chrome.extension.getViews({type:"tab"}),j=0,k=g.length;k>j;j++)i=g[j],"ongoing"===i.Nimbus.Auth.GDrive.oauth_status_flag&&i.Nimbus.Auth.GDrive.oauth2_authorize_second_half();
else c.isBrowserAction()&&a.console.log("in browser action");return null}}}(this)},installRedirectedListener:function(){return a.chrome.tabs.onUpdated.addListener(this.generateRedirectListener())},isBrowserAction:function(){return"browser_action"in a.chrome.runtime.getManifest()},isPackagedApp:function(){return"app"in a.chrome.runtime.getManifest()}}}(a),r.Auth.GDrive.oauth_status_flag="ongoing",a.NimbusAuth2.installRedirectedListener(),c="https://accounts.google.com/o/oauth2/auth?",b={client_id:this.key,scope:this.scope,redirect_uri:this.OAUTH2_REDIRECT_URI,state:this.getExtensionId(),response_type:"token",approval_prompt:"auto"},c+=this.buildParamsString(b),chrome.tabs.create({url:c})},oauth2_authorize_second_half:function(){var a,b,c,d;if(null!=localStorage._nimbusGDriveAuthObj){if(d=JSON.parse(localStorage._nimbusGDriveAuthObj),"error"in d)throw new Error("authorization failed with error: "+d.error);b=d.params,a=Math.round(d.saved_time/1e3),b.client_id=this.key,b.scope=this.scope,b.response_type="token",b.issued_at=a.toString(),b.expires_at=(a+parseInt(b.expires_in)).toString(),b.state="",delete localStorage._nimbusGDriveAuthObj,localStorage._chromeExtensionAuth2Token=JSON.stringify(b)}return localStorage._chromeExtensionAuth2Token?(c=JSON.parse(localStorage._chromeExtensionAuth2Token),gapi.auth.setToken(c),r.Auth.GDrive.oauth_status_flag="finish",this.prepare_gdrive()):void 0},OAUTH2_REDIRECT_URI:"http://www.google.com/robots.txt",getExtensionId:function(){return chrome.i18n.getMessage("@@extension_id")},buildParamsString:function(a){var b,c,d;return c=function(){var c;c=[];for(b in a)d=a[b],c.push(""+encodeURIComponent(b)+"="+encodeURIComponent(d));return c}(),c.join("&")},getLocalOauth2Token:function(a){return null!=r.Auth.GDrive._cacheToken?r.Auth.GDrive._cacheToken:null!=localStorage._chromeExtensionAuth2Token?(a=JSON.parse(localStorage._chromeExtensionAuth2Token),r.Auth.GDrive._cacheToken=a,a):null},isTokenExpires:function(a){var b,c;return null!=(null!=a?a.expires_at:void 0)?(b=parseInt(a.expires_at),c=(new Date).getTime(),1e3*b>c?!0:!1):!0}},r.Auth.Multi={authenticate_service:function(a){var b,c,d,e,f;if(log("authenticate a single service",a),M=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},null!=this.sync_services&&null!=this.sync_services[a]){e=this.sync_services[a],e.service=a,"Dropbox"===a&&r.Auth.setup(e),"GDrive"===a&&(c="https://www.googleapis.com/auth/userinfo.email",M(e.scope)?Z.call(e.scope,c)<0&&e.scope.push(c):e.scope=[e.scope,c],-1===e.scope.indexOf("openid")&&e.scope.push("openid"),e.scope=e.scope.join(" "),r.Auth.setup(null!=e.client_secret?e:e)),f=r.dictModel;for(b in f)d=f[b],r.Model.service_setup(d);return r.Auth.initialize(),r.Auth.authorize()}},initialize_service:function(){return log("initializing service"),r.Auth.reinitialize()}},r.Auth.reinitialize(),r.backbone_store=function(a,b){var c,d,e,f,g,h,i;log("Model on creation",b),this.name=a,e=new b,d=[],i=e.attributes;for(c in i)h=i[c],d.push(c);return f=r.Model.setup(a,d),g=f,this.data=f.all()||{},g},r.backbone_sync=function(a,b,c){var d,e,f,g;switch(e=void 0,g=b.nimbus||b.collection.nimbus,window.model=b,a){case"read":if(!b.id)return void g.sync_all(function(){return e=g.all(),c.success(e)});e=g.find(b);break;case"create":console.log("create called"),d=g.init(b.attributes),d.id=b.id,d.save(),e=d;break;case"update":f=g.find(b.id),f.updateAttributes(b.attributes),f.save(),e=f;break;case"delete":console.log("deletion find",g.find(b.id)),e=g.find(b.id).destroy()}return e?c.success(e):c.error("Record not found")},r.angularService=function(){var a,b,c;return a={},c=function(b,c,d){var e;return e=r.Model.setup(b,c),e.sync_all(d),a.name=e,e},b=function(a){return function(){return localStorage[a]}},{setup:c,makeWatcher:b}},O="57da9d172e8c2000bca77d9ebb935752",r.track={send_people_request:function(a){var b,c;return c=new XMLHttpRequest,log(JSON.stringify(a)),b=Base64.encode(JSON.stringify(a)),c.open("POST","http://api.mixpanel.com/engage"),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.onreadystatechange=function(){return function(){if(4===c.readyState)try{return log("xhr",c),log("mixpanel response done"),log("response: ",c.response)}catch(a){}}}(this),c.send(data),c},registered_user:function(){var a;return log("registered user"),"Dropbox"===r.Auth.service&&r.Client.Dropbox.getAccountInfo(function(a){var b,c,d,e,f,g;return e=a.display_name,g=e.split(" "),c=g[0],d=g[1],b="",null!=a.email&&(b=a.email),f={$set:{$first_name:c,$last_name:d,$app:r.Auth.app_name,$service:r.Auth.service,$email:b,$url:window.location.href},$token:O,$distinct_id:b},log(f),r.track.send_people_request(f)}),"GDrive"===r.Auth.service?(a=r.Client.GDrive.get_user_email(),r.Client.GDrive.get_current_user(function(b){var c,d,e,f,g;return e=b.name,g=e.split(" "),c=g[0],d=g[1],f={$set:{$first_name:c,$last_name:d,$app:r.Auth.app_name,$service:r.Auth.service,$email:a,$url:window.location.href},$token:O,$distinct_id:a},log(f),r.track.send_people_request(f)})):void 0},report_storage_stat:function(){var a,b;return log("report storage stat"),b=new Date,null!=localStorage.last_reported_date&&(a=localStorage.last_reported_date),a?(b-a>864e5&&log("start sending data"),localStorage.last_reported_date=b):log("start sending data")}},this.Nimbus=r,D="http://www.google-analytics.com/collect?v=1&tid=UA-46950334-1&cid=001",r.track.google={data:{page_url:"",app_name:"",cloudType:"",email:""},send_page_tracking:function(a){var b,c;b=D+"&t=pageview&dp="+encodeURI(a),c=new XMLHttpRequest,c.open("GET",b,!0),c.send(null)},send_event_tracking:function(a,b,c,d){var e,f;return null==a&&(a=0),null==b&&(b=0),null==c&&(c=0),null==d&&(d=0),e=D+"&t=event&ec="+encodeURI(a)+"&ea="+encodeURI(b)+"&ev="+encodeURI(d)+"&el="+encodeURI(c),f=new XMLHttpRequest,f.open("GET",e,!0),f.send(null)},registered_user:function(){return this.data.page_url=window.location.href,this.data.app_name=r.Auth.app_name,this.data.cloudType=r.Auth.service,this.send_page_tracking(this.data.page_url),setTimeout(function(){var a,b,c,d;a=0;for(c in r.dictModel)d=r.dictModel[c].all().length,a+=d;r.track.google.data.sum=a,b=r.track.google.data,log("send to gogole analytic :",b),r.track.google.send_event_tracking(b.app_name,b.email,b.cloudType,b.sum)},15e3),"Dropbox"===r.Auth.service&&r.Client.Dropbox.getAccountInfo(function(a){return null!=a.email?r.track.google.data.email=a.email:void 0}),"GDrive"===r.Auth.service?r.track.google.data.email=r.Client.GDrive.get_user_email():void 0}},window.onerror=function(a,b,c){var d,e;return d={email:r.track.google.data.email,app_name:r.track.google.data.app_name,cloudType:r.track.google.data.cloudType,line_:c,url_:b,msg_:a},e=JSON.stringify(d),e=e.replace(/"/g,"").replace(/{/g,"").replace(/}/g,""),e=encodeURI(e),e=e.replace(/%20/g,"_").replace(/#/g,"_"),log("got error, send to  google analytic:",encodeURI(e)),r.track.google.send_event_tracking(d.app_name,"error",encodeURI(e),400)}}).call(this),function(a,b){function c(a){var b=a.length,c=kb.type(a);return kb.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)}function d(a){var b=zb[a]={};return kb.each(a.match(mb)||[],function(a,c){b[c]=!0}),b}function e(a,c,d,e){if(kb.acceptData(a)){var f,g,h=kb.expando,i=a.nodeType,j=i?kb.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||d!==b||"string"!=typeof c)return k||(k=i?a[h]=bb.pop()||kb.guid++:h),j[k]||(j[k]=i?{}:{toJSON:kb.noop}),("object"==typeof c||"function"==typeof c)&&(e?j[k]=kb.extend(j[k],c):j[k].data=kb.extend(j[k].data,c)),g=j[k],e||(g.data||(g.data={}),g=g.data),d!==b&&(g[kb.camelCase(c)]=d),"string"==typeof c?(f=g[c],null==f&&(f=g[kb.camelCase(c)])):f=g,f}}function f(a,b,c){if(kb.acceptData(a)){var d,e,f=a.nodeType,g=f?kb.cache:a,i=f?a[kb.expando]:kb.expando;if(g[i]){if(b&&(d=c?g[i]:g[i].data)){kb.isArray(b)?b=b.concat(kb.map(b,kb.camelCase)):b in d?b=[b]:(b=kb.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!h(d):!kb.isEmptyObject(d))return}(c||(delete g[i].data,h(g[i])))&&(f?kb.cleanData([a],!0):kb.support.deleteExpando||g!=g.window?delete g[i]:g[i]=null)}}}function g(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(Bb,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:Ab.test(d)?kb.parseJSON(d):d}catch(f){}kb.data(a,c,d)}else d=b}return d}function h(a){var b;for(b in a)if(("data"!==b||!kb.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function i(){return!0}function j(){return!1}function k(){try{return Y.activeElement}catch(a){}}function l(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function m(a,b,c){if(kb.isFunction(b))return kb.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return kb.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(Qb.test(b))return kb.filter(b,a,c);b=kb.filter(b,a)}return kb.grep(a,function(a){return kb.inArray(a,b)>=0!==c})}function n(a){var b=Ub.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function o(a,b){return kb.nodeName(a,"table")&&kb.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function p(a){return a.type=(null!==kb.find.attr(a,"type"))+"/"+a.type,a}function q(a){var b=ec.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function r(a,b){for(var c,d=0;null!=(c=a[d]);d++)kb._data(c,"globalEval",!b||kb._data(b[d],"globalEval"))}function s(a,b){if(1===b.nodeType&&kb.hasData(a)){var c,d,e,f=kb._data(a),g=kb._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)kb.event.add(b,c,h[c][d])}g.data&&(g.data=kb.extend({},g.data))}}function t(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!kb.support.noCloneEvent&&b[kb.expando]){e=kb._data(b);for(d in e.events)kb.removeEvent(b,d,e.handle);b.removeAttribute(kb.expando)}"script"===c&&b.text!==a.text?(p(b).text=a.text,q(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),kb.support.html5Clone&&a.innerHTML&&!kb.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&bc.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function u(a,c){var d,e,f=0,g=typeof a.getElementsByTagName!==W?a.getElementsByTagName(c||"*"):typeof a.querySelectorAll!==W?a.querySelectorAll(c||"*"):b;if(!g)for(g=[],d=a.childNodes||a;null!=(e=d[f]);f++)!c||kb.nodeName(e,c)?g.push(e):kb.merge(g,u(e,c));return c===b||c&&kb.nodeName(a,c)?kb.merge([a],g):g}function v(a){bc.test(a.type)&&(a.defaultChecked=a.checked)}function w(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=yc.length;e--;)if(b=yc[e]+c,b in a)return b;return d}function x(a,b){return a=b||a,"none"===kb.css(a,"display")||!kb.contains(a.ownerDocument,a)}function y(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=kb._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&x(d)&&(f[g]=kb._data(d,"olddisplay",C(d.nodeName)))):f[g]||(e=x(d),(c&&"none"!==c||!e)&&kb._data(d,"olddisplay",e?c:kb.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function z(a,b,c){var d=rc.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function A(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=kb.css(a,c+xc[f],!0,e)),d?("content"===c&&(g-=kb.css(a,"padding"+xc[f],!0,e)),"margin"!==c&&(g-=kb.css(a,"border"+xc[f]+"Width",!0,e))):(g+=kb.css(a,"padding"+xc[f],!0,e),"padding"!==c&&(g+=kb.css(a,"border"+xc[f]+"Width",!0,e)));return g}function B(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=kc(a),g=kb.support.boxSizing&&"border-box"===kb.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=lc(a,b,f),(0>e||null==e)&&(e=a.style[b]),sc.test(e))return e;d=g&&(kb.support.boxSizingReliable||e===a.style[b]),e=parseFloat(e)||0}return e+A(a,b,c||(g?"border":"content"),d,f)+"px"}function C(a){var b=Y,c=uc[a];return c||(c=D(a,b),"none"!==c&&c||(jc=(jc||kb("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(jc[0].contentWindow||jc[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=D(a,b),jc.detach()),uc[a]=c),c}function D(a,b){var c=kb(b.createElement(a)).appendTo(b.body),d=kb.css(c[0],"display");return c.remove(),d}function E(a,b,c,d){var e;if(kb.isArray(b))kb.each(b,function(b,e){c||Ac.test(a)?d(a,e):E(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==kb.type(b))d(a,b);else for(e in b)E(a+"["+e+"]",b[e],c,d)}function F(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(mb)||[];if(kb.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function G(a,c,d,e){function f(i){var j;return g[i]=!0,kb.each(a[i]||[],function(a,i){var k=i(c,d,e);return"string"!=typeof k||h||g[k]?h?!(j=k):b:(c.dataTypes.unshift(k),f(k),!1)}),j}var g={},h=a===Rc;return f(c.dataTypes[0])||!g["*"]&&f("*")}function H(a,c){var d,e,f=kb.ajaxSettings.flatOptions||{};for(e in c)c[e]!==b&&((f[e]?a:d||(d={}))[e]=c[e]);return d&&kb.extend(!0,a,d),a}function I(a,c,d){for(var e,f,g,h,i=a.contents,j=a.dataTypes;"*"===j[0];)j.shift(),f===b&&(f=a.mimeType||c.getResponseHeader("Content-Type"));if(f)for(h in i)if(i[h]&&i[h].test(f)){j.unshift(h);break}if(j[0]in d)g=j[0];else{for(h in d){if(!j[0]||a.converters[h+" "+j[0]]){g=h;break}e||(e=h)}g=g||e}return g?(g!==j[0]&&j.unshift(g),d[g]):b}function J(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function K(){try{return new a.XMLHttpRequest}catch(b){}}function L(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function M(){return setTimeout(function(){$c=b}),$c=kb.now()}function N(a,b,c){for(var d,e=(ed[b]||[]).concat(ed["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function O(a,b,c){var d,e,f=0,g=dd.length,h=kb.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$c||M(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:kb.extend({},b),opts:kb.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$c||M(),duration:c.duration,tweens:[],createTween:function(b,c){var d=kb.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(P(k,j.opts.specialEasing);g>f;f++)if(d=dd[f].call(j,a,k,j.opts))return d;return kb.map(k,N,j),kb.isFunction(j.opts.start)&&j.opts.start.call(a,j),kb.fx.timer(kb.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function P(a,b){var c,d,e,f,g;for(c in a)if(d=kb.camelCase(c),e=b[d],f=a[c],kb.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=kb.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Q(a,b,c){var d,e,f,g,h,i,j=this,k={},l=a.style,m=a.nodeType&&x(a),n=kb._data(a,"fxshow");c.queue||(h=kb._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,j.always(function(){j.always(function(){h.unqueued--,kb.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[l.overflow,l.overflowX,l.overflowY],"inline"===kb.css(a,"display")&&"none"===kb.css(a,"float")&&(kb.support.inlineBlockNeedsLayout&&"inline"!==C(a.nodeName)?l.zoom=1:l.display="inline-block")),c.overflow&&(l.overflow="hidden",kb.support.shrinkWrapBlocks||j.always(function(){l.overflow=c.overflow[0],l.overflowX=c.overflow[1],l.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ad.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(m?"hide":"show"))continue;k[d]=n&&n[d]||kb.style(a,d)}if(!kb.isEmptyObject(k)){n?"hidden"in n&&(m=n.hidden):n=kb._data(a,"fxshow",{}),f&&(n.hidden=!m),m?kb(a).show():j.done(function(){kb(a).hide()}),j.done(function(){var b;kb._removeData(a,"fxshow");for(b in k)kb.style(a,b,k[b])});for(d in k)g=N(m?n[d]:0,d,j),d in n||(n[d]=g.start,m&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function R(a,b,c,d,e){return new R.prototype.init(a,b,c,d,e)}function S(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=xc[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function T(a){return kb.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var U,V,W=typeof b,X=a.location,Y=a.document,Z=Y.documentElement,$=a.jQuery,_=a.$,ab={},bb=[],cb="1.10.2",db=bb.concat,eb=bb.push,fb=bb.slice,gb=bb.indexOf,hb=ab.toString,ib=ab.hasOwnProperty,jb=cb.trim,kb=function(a,b){return new kb.fn.init(a,b,V)},lb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,mb=/\S+/g,nb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ob=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,pb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,qb=/^[\],:{}\s]*$/,rb=/(?:^|:|,)(?:\s*\[)+/g,sb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,tb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,ub=/^-ms-/,vb=/-([\da-z])/gi,wb=function(a,b){return b.toUpperCase()},xb=function(a){(Y.addEventListener||"load"===a.type||"complete"===Y.readyState)&&(yb(),kb.ready())},yb=function(){Y.addEventListener?(Y.removeEventListener("DOMContentLoaded",xb,!1),a.removeEventListener("load",xb,!1)):(Y.detachEvent("onreadystatechange",xb),a.detachEvent("onload",xb))};kb.fn=kb.prototype={jquery:cb,constructor:kb,init:function(a,c,d){var e,f;if(!a)return this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:ob.exec(a),!e||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1]){if(c=c instanceof kb?c[0]:c,kb.merge(this,kb.parseHTML(e[1],c&&c.nodeType?c.ownerDocument||c:Y,!0)),pb.test(e[1])&&kb.isPlainObject(c))for(e in c)kb.isFunction(this[e])?this[e](c[e]):this.attr(e,c[e]);return this}if(f=Y.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=Y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):kb.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),kb.makeArray(a,this))},selector:"",length:0,toArray:function(){return fb.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){var b=kb.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return kb.each(this,a,b)},ready:function(a){return kb.ready.promise().done(a),this},slice:function(){return this.pushStack(fb.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},map:function(a){return this.pushStack(kb.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:eb,sort:[].sort,splice:[].splice},kb.fn.init.prototype=kb.fn,kb.extend=kb.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||kb.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(f=arguments[i]))for(e in f)a=h[e],d=f[e],h!==d&&(k&&d&&(kb.isPlainObject(d)||(c=kb.isArray(d)))?(c?(c=!1,g=a&&kb.isArray(a)?a:[]):g=a&&kb.isPlainObject(a)?a:{},h[e]=kb.extend(k,g,d)):d!==b&&(h[e]=d));return h},kb.extend({expando:"jQuery"+(cb+Math.random()).replace(/\D/g,""),noConflict:function(b){return a.$===kb&&(a.$=_),b&&a.jQuery===kb&&(a.jQuery=$),kb},isReady:!1,readyWait:1,holdReady:function(a){a?kb.readyWait++:kb.ready(!0)},ready:function(a){if(a===!0?!--kb.readyWait:!kb.isReady){if(!Y.body)return setTimeout(kb.ready);kb.isReady=!0,a!==!0&&--kb.readyWait>0||(U.resolveWith(Y,[kb]),kb.fn.trigger&&kb(Y).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===kb.type(a)},isArray:Array.isArray||function(a){return"array"===kb.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ab[hb.call(a)]||"object":typeof a},isPlainObject:function(a){var c;if(!a||"object"!==kb.type(a)||a.nodeType||kb.isWindow(a))return!1;try{if(a.constructor&&!ib.call(a,"constructor")&&!ib.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}if(kb.support.ownLast)for(c in a)return ib.call(a,c);for(c in a);return c===b||ib.call(a,c)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw Error(a)},parseHTML:function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Y;var d=pb.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=kb.buildFragment([a],b,e),e&&kb(e).remove(),kb.merge([],d.childNodes))},parseJSON:function(c){return a.JSON&&a.JSON.parse?a.JSON.parse(c):null===c?c:"string"==typeof c&&(c=kb.trim(c),c&&qb.test(c.replace(sb,"@").replace(tb,"]").replace(rb,"")))?Function("return "+c)():(kb.error("Invalid JSON: "+c),b)},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||kb.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&kb.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(ub,"ms-").replace(vb,wb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:jb&&!jb.call("")?function(a){return null==a?"":jb.call(a)}:function(a){return null==a?"":(a+"").replace(nb,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?kb.merge(d,"string"==typeof a?[a]:a):eb.call(d,a)),d},inArray:function(a,b,c){var d;if(b){if(gb)return gb.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&(i[i.length]=e);else for(f in a)e=b(a[f],f,d),null!=e&&(i[i.length]=e);return db.apply([],i)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(f=a[c],c=a,a=f),kb.isFunction(a)?(d=fb.call(arguments,2),e=function(){return a.apply(c||this,d.concat(fb.call(arguments)))},e.guid=a.guid=a.guid||kb.guid++,e):b},access:function(a,c,d,e,f,g,h){var i=0,j=a.length,k=null==d;if("object"===kb.type(d)){f=!0;for(i in d)kb.access(a,c,i,d[i],!0,g,h)}else if(e!==b&&(f=!0,kb.isFunction(e)||(h=!0),k&&(h?(c.call(a,e),c=null):(k=c,c=function(a,b,c){return k.call(kb(a),c)})),c))for(;j>i;i++)c(a[i],d,h?e:e.call(a[i],i,c(a[i],d)));return f?a:k?c.call(a):j?c(a[0],d):g},now:function(){return(new Date).getTime()},swap:function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e}}),kb.ready.promise=function(b){if(!U)if(U=kb.Deferred(),"complete"===Y.readyState)setTimeout(kb.ready);else if(Y.addEventListener)Y.addEventListener("DOMContentLoaded",xb,!1),a.addEventListener("load",xb,!1);else{Y.attachEvent("onreadystatechange",xb),a.attachEvent("onload",xb);var c=!1;try{c=null==a.frameElement&&Y.documentElement}catch(d){}c&&c.doScroll&&function e(){if(!kb.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}yb(),kb.ready()}}()}return U.promise(b)},kb.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){ab["[object "+b+"]"]=b.toLowerCase()}),V=kb(Y),function(a,b){function c(a,b,c,d){var e,f,g,h,i,j,k,l,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=tb.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return ab.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&x.getElementsByClassName&&b.getElementsByClassName)return ab.apply(c,b.getElementsByClassName(g)),c}if(x.qsa&&(!J||!J.test(a))){if(l=k=N,o=b,p=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=m(a),(k=b.getAttribute("id"))?l=k.replace(wb,"\\$&"):b.setAttribute("id",l),l="[id='"+l+"'] ",i=j.length;i--;)j[i]=l+n(j[i]);o=nb.test(a)&&b.parentNode||b,p=j.join(",")}if(p)try{return ab.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{k||b.removeAttribute("id")}}}return v(a.replace(jb,"$1"),b,c,d)}function d(){function a(c,d){return b.push(c+=" ")>z.cacheLength&&delete a[b.shift()],a[c]=d}var b=[];return a}function e(a){return a[N]=!0,a}function f(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function g(a,b){for(var c=a.split("|"),d=a.length;d--;)z.attrHandle[c[d]]=b}function h(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||X)-(~a.sourceIndex||X);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function i(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function j(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function k(a){return e(function(b){return b=+b,e(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function l(){}function m(a,b){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=z.preFilter;h;){(!d||(e=lb.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=mb.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(jb," ")}),h=h.slice(d.length));for(g in z.filter)!(e=rb[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return b?h.length:h?c.error(a):S(a,i).slice(0)}function n(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=P+" "+f;if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e)if(j=b[N]||(b[N]={}),(i=j[d])&&i[0]===k){if((h=i[1])===!0||h===y)return h===!0}else if(i=j[d]=[k],i[1]=a(b,c,g)||y,i[1]===!0)return!0}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,d,f,g){return d&&!d[N]&&(d=r(d)),f&&!f[N]&&(f=r(f,g)),e(function(e,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=e||u(b||"*",h.nodeType?[h]:h,[]),r=!a||!e&&b?p:q(p,m,a,h,i),s=c?f||(e?a:o||d)?[]:g:r;if(c&&c(r,s,h,i),d)for(j=q(s,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l));if(e){if(f||a){if(f){for(j=[],k=s.length;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}for(k=s.length;k--;)(l=s[k])&&(j=f?cb.call(e,l):m[k])>-1&&(e[j]=!(g[j]=l))}}else s=q(s===g?s.splice(o,s.length):s),f?f(null,g,s,i):ab.apply(g,s)})}function s(a){for(var b,c,d,e=a.length,f=z.relative[a[0].type],g=f||z.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return cb.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==D)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=z.relative[a[h].type])k=[o(p(k),c)];else{if(c=z.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!z.relative[a[d].type];d++);return r(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(jb,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&n(a))}k.push(c)}return p(k)}function t(a,b){var d=0,f=b.length>0,g=a.length>0,h=function(e,h,i,j,k){var l,m,n,o=[],p=0,r="0",s=e&&[],t=null!=k,u=D,v=e||g&&z.find.TAG("*",k&&h.parentNode||h),w=P+=null==u?1:Math.random()||.1;for(t&&(D=h!==G&&h,y=d);null!=(l=v[r]);r++){if(g&&l){for(m=0;n=a[m++];)if(n(l,h,i)){j.push(l);break}t&&(P=w,y=++d)}f&&((l=!n&&l)&&p--,e&&s.push(l))}if(p+=r,f&&r!==p){for(m=0;n=b[m++];)n(s,o,h,i);if(e){if(p>0)for(;r--;)s[r]||o[r]||(o[r]=$.call(j));o=q(o)}ab.apply(j,o),t&&!e&&o.length>0&&p+b.length>1&&c.uniqueSort(j)}return t&&(P=w,D=u),s};return f?e(h):h}function u(a,b,d){for(var e=0,f=b.length;f>e;e++)c(a,b[e],d);return d}function v(a,b,c,d){var e,f,g,h,i,j=m(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&x.getById&&9===b.nodeType&&I&&z.relative[f[1].type]){if(b=(z.find.ID(g.matches[0].replace(xb,yb),b)||[])[0],!b)return c;a=a.slice(f.shift().value.length)}for(e=rb.needsContext.test(a)?0:f.length;e--&&(g=f[e],!z.relative[h=g.type]);)if((i=z.find[h])&&(d=i(g.matches[0].replace(xb,yb),nb.test(f[0].type)&&b.parentNode||b))){if(f.splice(e,1),a=d.length&&n(f),!a)return ab.apply(c,d),c;break}}return C(a,j)(d,b,!I,c,nb.test(a)),c}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=d(),S=d(),T=d(),U=!1,V=function(a,b){return a===b?(U=!0,0):0},W=typeof b,X=1<<31,Y={}.hasOwnProperty,Z=[],$=Z.pop,_=Z.push,ab=Z.push,bb=Z.slice,cb=Z.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},db="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",eb="[\\x20\\t\\r\\n\\f]",fb="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",gb=fb.replace("w","w#"),hb="\\["+eb+"*("+fb+")"+eb+"*(?:([*^$|!~]?=)"+eb+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+gb+")|)|)"+eb+"*\\]",ib=":("+fb+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+hb.replace(3,8)+")*)|.*)\\)|)",jb=RegExp("^"+eb+"+|((?:^|[^\\\\])(?:\\\\.)*)"+eb+"+$","g"),lb=RegExp("^"+eb+"*,"+eb+"*"),mb=RegExp("^"+eb+"*([>+~]|"+eb+")"+eb+"*"),nb=RegExp(eb+"*[+~]"),ob=RegExp("="+eb+"*([^\\]'\"]*)"+eb+"*\\]","g"),pb=RegExp(ib),qb=RegExp("^"+gb+"$"),rb={ID:RegExp("^#("+fb+")"),CLASS:RegExp("^\\.("+fb+")"),TAG:RegExp("^("+fb.replace("w","w*")+")"),ATTR:RegExp("^"+hb),PSEUDO:RegExp("^"+ib),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+eb+"*(even|odd|(([+-]|)(\\d*)n|)"+eb+"*(?:([+-]|)"+eb+"*(\\d+)|))"+eb+"*\\)|)","i"),bool:RegExp("^(?:"+db+")$","i"),needsContext:RegExp("^"+eb+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+eb+"*((?:-\\d)?\\d*)"+eb+"*\\)|)(?=[^-]|$)","i")},sb=/^[^{]+\{\s*\[native \w/,tb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ub=/^(?:input|select|textarea|button)$/i,vb=/^h\d$/i,wb=/'|\\/g,xb=RegExp("\\\\([\\da-f]{1,6}"+eb+"?|("+eb+")|.)","ig"),yb=function(a,b,c){var d="0x"+b-65536;
return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(55296|d>>10,56320|1023&d)};try{ab.apply(Z=bb.call(O.childNodes),O.childNodes),Z[O.childNodes.length].nodeType}catch(zb){ab={apply:Z.length?function(a,b){_.apply(a,bb.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}B=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},x=c.support={},F=c.setDocument=function(a){var c=a?a.ownerDocument||a:O,d=c.defaultView;return c!==G&&9===c.nodeType&&c.documentElement?(G=c,H=c.documentElement,I=!B(c),d&&d.attachEvent&&d!==d.top&&d.attachEvent("onbeforeunload",function(){F()}),x.attributes=f(function(a){return a.className="i",!a.getAttribute("className")}),x.getElementsByTagName=f(function(a){return a.appendChild(c.createComment("")),!a.getElementsByTagName("*").length}),x.getElementsByClassName=f(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),x.getById=f(function(a){return H.appendChild(a).id=N,!c.getElementsByName||!c.getElementsByName(N).length}),x.getById?(z.find.ID=function(a,b){if(typeof b.getElementById!==W&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},z.filter.ID=function(a){var b=a.replace(xb,yb);return function(a){return a.getAttribute("id")===b}}):(delete z.find.ID,z.filter.ID=function(a){var b=a.replace(xb,yb);return function(a){var c=typeof a.getAttributeNode!==W&&a.getAttributeNode("id");return c&&c.value===b}}),z.find.TAG=x.getElementsByTagName?function(a,c){return typeof c.getElementsByTagName!==W?c.getElementsByTagName(a):b}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},z.find.CLASS=x.getElementsByClassName&&function(a,c){return typeof c.getElementsByClassName!==W&&I?c.getElementsByClassName(a):b},K=[],J=[],(x.qsa=sb.test(c.querySelectorAll))&&(f(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||J.push("\\["+eb+"*(?:value|"+db+")"),a.querySelectorAll(":checked").length||J.push(":checked")}),f(function(a){var b=c.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("t",""),a.querySelectorAll("[t^='']").length&&J.push("[*^$]="+eb+"*(?:''|\"\")"),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(x.matchesSelector=sb.test(L=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&f(function(a){x.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ib)}),J=J.length&&RegExp(J.join("|")),K=K.length&&RegExp(K.join("|")),M=sb.test(H.contains)||H.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},V=H.compareDocumentPosition?function(a,b){if(a===b)return U=!0,0;var d=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b);return d?1&d||!x.sortDetached&&b.compareDocumentPosition(a)===d?a===c||M(O,a)?-1:b===c||M(O,b)?1:E?cb.call(E,a)-cb.call(E,b):0:4&d?-1:1:a.compareDocumentPosition?-1:1}:function(a,b){var d,e=0,f=a.parentNode,g=b.parentNode,i=[a],j=[b];if(a===b)return U=!0,0;if(!f||!g)return a===c?-1:b===c?1:f?-1:g?1:E?cb.call(E,a)-cb.call(E,b):0;if(f===g)return h(a,b);for(d=a;d=d.parentNode;)i.unshift(d);for(d=b;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?h(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},c):G},c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){if((a.ownerDocument||a)!==G&&F(a),b=b.replace(ob,"='$1']"),!(!x.matchesSelector||!I||K&&K.test(b)||J&&J.test(b)))try{var d=L.call(a,b);if(d||x.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return c(b,G,null,[a]).length>0},c.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},c.attr=function(a,c){(a.ownerDocument||a)!==G&&F(a);var d=z.attrHandle[c.toLowerCase()],e=d&&Y.call(z.attrHandle,c.toLowerCase())?d(a,c,!I):b;return e===b?x.attributes||!I?a.getAttribute(c):(e=a.getAttributeNode(c))&&e.specified?e.value:null:e},c.error=function(a){throw Error("Syntax error, unrecognized expression: "+a)},c.uniqueSort=function(a){var b,c=[],d=0,e=0;if(U=!x.detectDuplicates,E=!x.sortStable&&a.slice(0),a.sort(V),U){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return a},A=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=A(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=A(b);return c},z=c.selectors={cacheLength:50,createPseudo:e,match:rb,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(xb,yb),a[3]=(a[4]||a[5]||"").replace(xb,yb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||c.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&c.error(a[0]),a},PSEUDO:function(a){var c,d=!a[5]&&a[2];return rb.CHILD.test(a[0])?null:(a[3]&&a[4]!==b?a[2]=a[4]:d&&pb.test(d)&&(c=m(d,!0))&&(c=d.indexOf(")",d.length-c)-d.length)&&(a[0]=a[0].slice(0,c),a[2]=d.slice(0,c)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(xb,yb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=RegExp("(^|"+eb+")"+a+"("+eb+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==W&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(e){var f=c.attr(e,a);return null==f?"!="===b:b?(f+="","="===b?f===d:"!="===b?f!==d:"^="===b?d&&0===f.indexOf(d):"*="===b?d&&f.indexOf(d)>-1:"$="===b?d&&f.slice(-d.length)===d:"~="===b?(" "+f+" ").indexOf(d)>-1:"|="===b?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||0===m%d&&m/d>=0}}},PSEUDO:function(a,b){var d,f=z.pseudos[a]||z.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return f[N]?f(b):f.length>1?(d=[a,a,"",b],z.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,c){for(var d,e=f(a,b),g=e.length;g--;)d=cb.call(a,e[g]),a[d]=!(c[d]=e[g])}):function(a){return f(a,0,d)}):f}},pseudos:{not:e(function(a){var b=[],c=[],d=C(a.replace(jb,"$1"));return d[N]?e(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:e(function(a){return function(b){return c(a,b).length>0}}),contains:e(function(a){return function(b){return(b.textContent||b.innerText||A(b)).indexOf(a)>-1}}),lang:e(function(a){return qb.test(a||"")||c.error("unsupported lang: "+a),a=a.replace(xb,yb).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!z.pseudos.empty(a)},header:function(a){return vb.test(a.nodeName)},input:function(a){return ub.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[0>c?c+b:c]}),even:k(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:k(function(a,b,c){for(var d=0>c?c+b:c;b>++d;)a.push(d);return a})}},z.pseudos.nth=z.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})z.pseudos[w]=i(w);for(w in{submit:!0,reset:!0})z.pseudos[w]=j(w);l.prototype=z.filters=z.pseudos,z.setFilters=new l,C=c.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=m(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d))}return f},x.sortStable=N.split("").sort(V).join("")===N,x.detectDuplicates=U,F(),x.sortDetached=f(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),f(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||g("type|href|height|width",function(a,c,d){return d?b:a.getAttribute(c,"type"===c.toLowerCase()?1:2)}),x.attributes&&f(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||g("value",function(a,c,d){return d||"input"!==a.nodeName.toLowerCase()?b:a.defaultValue}),f(function(a){return null==a.getAttribute("disabled")})||g(db,function(a,c,d){var e;return d?b:(e=a.getAttributeNode(c))&&e.specified?e.value:a[c]===!0?c.toLowerCase():null}),kb.find=c,kb.expr=c.selectors,kb.expr[":"]=kb.expr.pseudos,kb.unique=c.uniqueSort,kb.text=c.getText,kb.isXMLDoc=c.isXML,kb.contains=c.contains}(a);var zb={};kb.Callbacks=function(a){a="string"==typeof a?zb[a]||d(a):kb.extend({},a);var c,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(e=a.memory&&b,f=!0,h=i||0,i=0,g=j.length,c=!0;j&&g>h;h++)if(j[h].apply(b[0],b[1])===!1&&a.stopOnFalse){e=!1;break}c=!1,j&&(k?k.length&&l(k.shift()):e?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function d(b){kb.each(b,function(b,c){var e=kb.type(c);"function"===e?a.unique&&m.has(c)||j.push(c):c&&c.length&&"string"!==e&&d(c)})}(arguments),c?g=j.length:e&&(i=b,l(e))}return this},remove:function(){return j&&kb.each(arguments,function(a,b){for(var d;(d=kb.inArray(b,j,d))>-1;)j.splice(d,1),c&&(g>=d&&g--,h>=d&&h--)}),this},has:function(a){return a?kb.inArray(a,j)>-1:!(!j||!j.length)},empty:function(){return j=[],g=0,this},disable:function(){return j=k=e=b,this},disabled:function(){return!j},lock:function(){return k=b,e||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return!j||f&&!k||(b=b||[],b=[a,b.slice?b.slice():b],c?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!f}};return m},kb.extend({Deferred:function(a){var b=[["resolve","done",kb.Callbacks("once memory"),"resolved"],["reject","fail",kb.Callbacks("once memory"),"rejected"],["notify","progress",kb.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return kb.Deferred(function(c){kb.each(b,function(b,f){var g=f[0],h=kb.isFunction(a[b])&&a[b];e[f[1]](function(){var a=h&&h.apply(this,arguments);a&&kb.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[g+"With"](this===d?c.promise():this,h?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?kb.extend(a,d):d}},e={};return d.pipe=d.then,kb.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=fb.call(arguments),g=f.length,h=1!==g||a&&kb.isFunction(a.promise)?g:0,i=1===h?a:kb.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?fb.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=Array(g),c=Array(g),d=Array(g);g>e;e++)f[e]&&kb.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),kb.support=function(b){var c,d,e,f,g,h,i,j,k,l=Y.createElement("div");if(l.setAttribute("className","t"),l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=l.getElementsByTagName("*")||[],d=l.getElementsByTagName("a")[0],!d||!d.style||!c.length)return b;f=Y.createElement("select"),h=f.appendChild(Y.createElement("option")),e=l.getElementsByTagName("input")[0],d.style.cssText="top:1px;float:left;opacity:.5",b.getSetAttribute="t"!==l.className,b.leadingWhitespace=3===l.firstChild.nodeType,b.tbody=!l.getElementsByTagName("tbody").length,b.htmlSerialize=!!l.getElementsByTagName("link").length,b.style=/top/.test(d.getAttribute("style")),b.hrefNormalized="/a"===d.getAttribute("href"),b.opacity=/^0.5/.test(d.style.opacity),b.cssFloat=!!d.style.cssFloat,b.checkOn=!!e.value,b.optSelected=h.selected,b.enctype=!!Y.createElement("form").enctype,b.html5Clone="<:nav></:nav>"!==Y.createElement("nav").cloneNode(!0).outerHTML,b.inlineBlockNeedsLayout=!1,b.shrinkWrapBlocks=!1,b.pixelPosition=!1,b.deleteExpando=!0,b.noCloneEvent=!0,b.reliableMarginRight=!0,b.boxSizingReliable=!0,e.checked=!0,b.noCloneChecked=e.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!h.disabled;try{delete l.test}catch(m){b.deleteExpando=!1}e=Y.createElement("input"),e.setAttribute("value",""),b.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),b.radioValue="t"===e.value,e.setAttribute("checked","t"),e.setAttribute("name","t"),g=Y.createDocumentFragment(),g.appendChild(e),b.appendChecked=e.checked,b.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,l.attachEvent&&(l.attachEvent("onclick",function(){b.noCloneEvent=!1}),l.cloneNode(!0).click());for(k in{submit:!0,change:!0,focusin:!0})l.setAttribute(i="on"+k,"t"),b[k+"Bubbles"]=i in a||l.attributes[i].expando===!1;l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===l.style.backgroundClip;for(k in kb(b))break;return b.ownLast="0"!==k,kb(function(){var c,d,e,f="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",g=Y.getElementsByTagName("body")[0];g&&(c=Y.createElement("div"),c.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",g.appendChild(c).appendChild(l),l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=l.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",j=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=j&&0===e[0].offsetHeight,l.innerHTML="",l.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",kb.swap(g,null!=g.style.zoom?{zoom:1}:{},function(){b.boxSizing=4===l.offsetWidth}),a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(l,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(l,null)||{width:"4px"}).width,d=l.appendChild(Y.createElement("div")),d.style.cssText=l.style.cssText=f,d.style.marginRight=d.style.width="0",l.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),typeof l.style.zoom!==W&&(l.innerHTML="",l.style.cssText=f+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===l.offsetWidth,l.style.display="block",l.innerHTML="<div></div>",l.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==l.offsetWidth,b.inlineBlockNeedsLayout&&(g.style.zoom=1)),g.removeChild(c),c=l=e=d=null)}),c=f=g=h=d=e=null,b}({});var Ab=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Bb=/([A-Z])/g;kb.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?kb.cache[a[kb.expando]]:a[kb.expando],!!a&&!h(a)},data:function(a,b,c){return e(a,b,c)},removeData:function(a,b){return f(a,b)},_data:function(a,b,c){return e(a,b,c,!0)},_removeData:function(a,b){return f(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&kb.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),kb.fn.extend({data:function(a,c){var d,e,f=null,h=0,i=this[0];if(a===b){if(this.length&&(f=kb.data(i),1===i.nodeType&&!kb._data(i,"parsedAttrs"))){for(d=i.attributes;d.length>h;h++)e=d[h].name,0===e.indexOf("data-")&&(e=kb.camelCase(e.slice(5)),g(i,e,f[e]));kb._data(i,"parsedAttrs",!0)}return f}return"object"==typeof a?this.each(function(){kb.data(this,a)}):arguments.length>1?this.each(function(){kb.data(this,a,c)}):i?g(i,a,kb.data(i,a)):null},removeData:function(a){return this.each(function(){kb.removeData(this,a)})}}),kb.extend({queue:function(a,c,d){var e;return a?(c=(c||"fx")+"queue",e=kb._data(a,c),d&&(!e||kb.isArray(d)?e=kb._data(a,c,kb.makeArray(d)):e.push(d)),e||[]):b},dequeue:function(a,b){b=b||"fx";var c=kb.queue(a,b),d=c.length,e=c.shift(),f=kb._queueHooks(a,b),g=function(){kb.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return kb._data(a,c)||kb._data(a,c,{empty:kb.Callbacks("once memory").add(function(){kb._removeData(a,b+"queue"),kb._removeData(a,c)})})}}),kb.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),d>arguments.length?kb.queue(this[0],a):c===b?this:this.each(function(){var b=kb.queue(this,a,c);kb._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&kb.dequeue(this,a)})},dequeue:function(a){return this.each(function(){kb.dequeue(this,a)})},delay:function(a,b){return a=kb.fx?kb.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=kb.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)d=kb._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var Cb,Db,Eb=/[\t\r\n\f]/g,Fb=/\r/g,Gb=/^(?:input|select|textarea|button|object)$/i,Hb=/^(?:a|area)$/i,Ib=/^(?:checked|selected)$/i,Jb=kb.support.getSetAttribute,Kb=kb.support.input;kb.fn.extend({attr:function(a,b){return kb.access(this,kb.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){kb.removeAttr(this,a)})},prop:function(a,b){return kb.access(this,kb.prop,a,b,arguments.length>1)},removeProp:function(a){return a=kb.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g=0,h=this.length,i="string"==typeof a&&a;if(kb.isFunction(a))return this.each(function(b){kb(this).addClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(mb)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Eb," "):" ")){for(f=0;e=b[f++];)0>d.indexOf(" "+e+" ")&&(d+=e+" ");c.className=kb.trim(d)}return this},removeClass:function(a){var b,c,d,e,f,g=0,h=this.length,i=0===arguments.length||"string"==typeof a&&a;if(kb.isFunction(a))return this.each(function(b){kb(this).removeClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(mb)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Eb," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");c.className=a?kb.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(kb.isFunction(a)?function(c){kb(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=kb(this),f=a.match(mb)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===W||"boolean"===c)&&(this.className&&kb._data(this,"__className__",this.className),this.className=this.className||a===!1?"":kb._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Eb," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];return arguments.length?(e=kb.isFunction(a),this.each(function(c){var f;1===this.nodeType&&(f=e?a.call(this,c,kb(this).val()):a,null==f?f="":"number"==typeof f?f+="":kb.isArray(f)&&(f=kb.map(f,function(a){return null==a?"":a+""})),d=kb.valHooks[this.type]||kb.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&d.set(this,f,"value")!==b||(this.value=f))})):f?(d=kb.valHooks[f.type]||kb.valHooks[f.nodeName.toLowerCase()],d&&"get"in d&&(c=d.get(f,"value"))!==b?c:(c=f.value,"string"==typeof c?c.replace(Fb,""):null==c?"":c)):void 0}}),kb.extend({valHooks:{option:{get:function(a){var b=kb.find.attr(a,"value");return null!=b?b:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(kb.support.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&kb.nodeName(c.parentNode,"optgroup"))){if(b=kb(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=kb.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=kb.inArray(kb(d).val(),f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}},attr:function(a,c,d){var e,f,g=a.nodeType;return a&&3!==g&&8!==g&&2!==g?typeof a.getAttribute===W?kb.prop(a,c,d):(1===g&&kb.isXMLDoc(a)||(c=c.toLowerCase(),e=kb.attrHooks[c]||(kb.expr.match.bool.test(c)?Db:Cb)),d===b?e&&"get"in e&&null!==(f=e.get(a,c))?f:(f=kb.find.attr(a,c),null==f?b:f):null!==d?e&&"set"in e&&(f=e.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d):(kb.removeAttr(a,c),b)):void 0},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(mb);if(f&&1===a.nodeType)for(;c=f[e++];)d=kb.propFix[c]||c,kb.expr.match.bool.test(c)?Kb&&Jb||!Ib.test(c)?a[d]=!1:a[kb.camelCase("default-"+c)]=a[d]=!1:kb.attr(a,c,""),a.removeAttribute(Jb?c:d)},attrHooks:{type:{set:function(a,b){if(!kb.support.radioValue&&"radio"===b&&kb.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,c,d){var e,f,g,h=a.nodeType;return a&&3!==h&&8!==h&&2!==h?(g=1!==h||!kb.isXMLDoc(a),g&&(c=kb.propFix[c]||c,f=kb.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]):void 0},propHooks:{tabIndex:{get:function(a){var b=kb.find.attr(a,"tabindex");return b?parseInt(b,10):Gb.test(a.nodeName)||Hb.test(a.nodeName)&&a.href?0:-1}}}}),Db={set:function(a,b,c){return b===!1?kb.removeAttr(a,c):Kb&&Jb||!Ib.test(c)?a.setAttribute(!Jb&&kb.propFix[c]||c,c):a[kb.camelCase("default-"+c)]=a[c]=!0,c}},kb.each(kb.expr.match.bool.source.match(/\w+/g),function(a,c){var d=kb.expr.attrHandle[c]||kb.find.attr;kb.expr.attrHandle[c]=Kb&&Jb||!Ib.test(c)?function(a,c,e){var f=kb.expr.attrHandle[c],g=e?b:(kb.expr.attrHandle[c]=b)!=d(a,c,e)?c.toLowerCase():null;return kb.expr.attrHandle[c]=f,g}:function(a,c,d){return d?b:a[kb.camelCase("default-"+c)]?c.toLowerCase():null}}),Kb&&Jb||(kb.attrHooks.value={set:function(a,c,d){return kb.nodeName(a,"input")?(a.defaultValue=c,b):Cb&&Cb.set(a,c,d)}}),Jb||(Cb={set:function(a,c,d){var e=a.getAttributeNode(d);return e||a.setAttributeNode(e=a.ownerDocument.createAttribute(d)),e.value=c+="","value"===d||c===a.getAttribute(d)?c:b}},kb.expr.attrHandle.id=kb.expr.attrHandle.name=kb.expr.attrHandle.coords=function(a,c,d){var e;return d?b:(e=a.getAttributeNode(c))&&""!==e.value?e.value:null},kb.valHooks.button={get:function(a,c){var d=a.getAttributeNode(c);return d&&d.specified?d.value:b},set:Cb.set},kb.attrHooks.contenteditable={set:function(a,b,c){Cb.set(a,""===b?!1:b,c)}},kb.each(["width","height"],function(a,c){kb.attrHooks[c]={set:function(a,d){return""===d?(a.setAttribute(c,"auto"),d):b}}})),kb.support.hrefNormalized||kb.each(["href","src"],function(a,b){kb.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),kb.support.style||(kb.attrHooks.style={get:function(a){return a.style.cssText||b},set:function(a,b){return a.style.cssText=b+""}}),kb.support.optSelected||(kb.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),kb.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){kb.propFix[this.toLowerCase()]=this}),kb.support.enctype||(kb.propFix.enctype="encoding"),kb.each(["radio","checkbox"],function(){kb.valHooks[this]={set:function(a,c){return kb.isArray(c)?a.checked=kb.inArray(kb(a).val(),c)>=0:b}},kb.support.checkOn||(kb.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Lb=/^(?:input|select|textarea)$/i,Mb=/^key/,Nb=/^(?:mouse|contextmenu)|click/,Ob=/^(?:focusinfocus|focusoutblur)$/,Pb=/^([^.]*)(?:\.(.+)|)$/;kb.event={global:{},add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r=kb._data(a);if(r){for(d.handler&&(j=d,d=j.handler,f=j.selector),d.guid||(d.guid=kb.guid++),(h=r.events)||(h=r.events={}),(l=r.handle)||(l=r.handle=function(a){return typeof kb===W||a&&kb.event.triggered===a.type?b:kb.event.dispatch.apply(l.elem,arguments)},l.elem=a),c=(c||"").match(mb)||[""],i=c.length;i--;)g=Pb.exec(c[i])||[],o=q=g[1],p=(g[2]||"").split(".").sort(),o&&(k=kb.event.special[o]||{},o=(f?k.delegateType:k.bindType)||o,k=kb.event.special[o]||{},m=kb.extend({type:o,origType:q,data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&kb.expr.match.needsContext.test(f),namespace:p.join(".")},j),(n=h[o])||(n=h[o]=[],n.delegateCount=0,k.setup&&k.setup.call(a,e,p,l)!==!1||(a.addEventListener?a.addEventListener(o,l,!1):a.attachEvent&&a.attachEvent("on"+o,l))),k.add&&(k.add.call(a,m),m.handler.guid||(m.handler.guid=d.guid)),f?n.splice(n.delegateCount++,0,m):n.push(m),kb.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=kb.hasData(a)&&kb._data(a);if(q&&(k=q.events)){for(b=(b||"").match(mb)||[""],j=b.length;j--;)if(h=Pb.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=kb.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||kb.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)kb.event.remove(a,n+b[j],c,d,!0);kb.isEmptyObject(k)&&(delete q.handle,kb._removeData(a,"events"))}},trigger:function(c,d,e,f){var g,h,i,j,k,l,m,n=[e||Y],o=ib.call(c,"type")?c.type:c,p=ib.call(c,"namespace")?c.namespace.split("."):[];if(i=l=e=e||Y,3!==e.nodeType&&8!==e.nodeType&&!Ob.test(o+kb.event.triggered)&&(o.indexOf(".")>=0&&(p=o.split("."),o=p.shift(),p.sort()),h=0>o.indexOf(":")&&"on"+o,c=c[kb.expando]?c:new kb.Event(o,"object"==typeof c&&c),c.isTrigger=f?2:3,c.namespace=p.join("."),c.namespace_re=c.namespace?RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=b,c.target||(c.target=e),d=null==d?[c]:kb.makeArray(d,[c]),k=kb.event.special[o]||{},f||!k.trigger||k.trigger.apply(e,d)!==!1)){if(!f&&!k.noBubble&&!kb.isWindow(e)){for(j=k.delegateType||o,Ob.test(j+o)||(i=i.parentNode);i;i=i.parentNode)n.push(i),l=i;l===(e.ownerDocument||Y)&&n.push(l.defaultView||l.parentWindow||a)}for(m=0;(i=n[m++])&&!c.isPropagationStopped();)c.type=m>1?j:k.bindType||o,g=(kb._data(i,"events")||{})[c.type]&&kb._data(i,"handle"),g&&g.apply(i,d),g=h&&i[h],g&&kb.acceptData(i)&&g.apply&&g.apply(i,d)===!1&&c.preventDefault();if(c.type=o,!f&&!c.isDefaultPrevented()&&(!k._default||k._default.apply(n.pop(),d)===!1)&&kb.acceptData(e)&&h&&e[o]&&!kb.isWindow(e)){l=e[h],l&&(e[h]=null),kb.event.triggered=o;try{e[o]()}catch(q){}kb.event.triggered=b,l&&(e[h]=l)}return c.result}},dispatch:function(a){a=kb.event.fix(a);var c,d,e,f,g,h=[],i=fb.call(arguments),j=(kb._data(this,"events")||{})[a.type]||[],k=kb.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=kb.event.handlers.call(this,a,j),c=0;(f=h[c++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,g=0;(e=f.handlers[g++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,d=((kb.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),d!==b&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,c){var d,e,f,g,h=[],i=c.delegateCount,j=a.target;if(i&&j.nodeType&&(!a.button||"click"!==a.type))for(;j!=this;j=j.parentNode||this)if(1===j.nodeType&&(j.disabled!==!0||"click"!==a.type)){for(f=[],g=0;i>g;g++)e=c[g],d=e.selector+" ",f[d]===b&&(f[d]=e.needsContext?kb(d,this).index(j)>=0:kb.find(d,this,null,[j]).length),f[d]&&f.push(e);f.length&&h.push({elem:j,handlers:f})}return c.length>i&&h.push({elem:this,handlers:c.slice(i)}),h},fix:function(a){if(a[kb.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Nb.test(e)?this.mouseHooks:Mb.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new kb.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||Y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(e=a.target.ownerDocument||Y,f=e.documentElement,d=e.body,a.pageX=c.clientX+(f&&f.scrollLeft||d&&d.scrollLeft||0)-(f&&f.clientLeft||d&&d.clientLeft||0),a.pageY=c.clientY+(f&&f.scrollTop||d&&d.scrollTop||0)-(f&&f.clientTop||d&&d.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==k()&&this.focus)try{return this.focus(),!1
}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===k()&&this.blur?(this.blur(),!1):b},delegateType:"focusout"},click:{trigger:function(){return kb.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):b},_default:function(a){return kb.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==b&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=kb.extend(new kb.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?kb.event.trigger(e,null,b):kb.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},kb.removeEvent=Y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===W&&(a[d]=null),a.detachEvent(d,c))},kb.Event=function(a,c){return this instanceof kb.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?i:j):this.type=a,c&&kb.extend(this,c),this.timeStamp=a&&a.timeStamp||kb.now(),this[kb.expando]=!0,b):new kb.Event(a,c)},kb.Event.prototype={isDefaultPrevented:j,isPropagationStopped:j,isImmediatePropagationStopped:j,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=i,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=i,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i,this.stopPropagation()}},kb.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){kb.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!kb.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),kb.support.submitBubbles||(kb.event.special.submit={setup:function(){return kb.nodeName(this,"form")?!1:(kb.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=kb.nodeName(c,"input")||kb.nodeName(c,"button")?c.form:b;d&&!kb._data(d,"submitBubbles")&&(kb.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),kb._data(d,"submitBubbles",!0))}),b)},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&kb.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return kb.nodeName(this,"form")?!1:(kb.event.remove(this,"._submit"),b)}}),kb.support.changeBubbles||(kb.event.special.change={setup:function(){return Lb.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(kb.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),kb.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),kb.event.simulate("change",this,a,!0)})),!1):(kb.event.add(this,"beforeactivate._change",function(a){var b=a.target;Lb.test(b.nodeName)&&!kb._data(b,"changeBubbles")&&(kb.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||kb.event.simulate("change",this.parentNode,a,!0)}),kb._data(b,"changeBubbles",!0))}),b)},handle:function(a){var c=a.target;return this!==c||a.isSimulated||a.isTrigger||"radio"!==c.type&&"checkbox"!==c.type?a.handleObj.handler.apply(this,arguments):b},teardown:function(){return kb.event.remove(this,"._change"),!Lb.test(this.nodeName)}}),kb.support.focusinBubbles||kb.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){kb.event.simulate(b,a.target,kb.event.fix(a),!0)};kb.event.special[b]={setup:function(){0===c++&&Y.addEventListener(a,d,!0)},teardown:function(){0===--c&&Y.removeEventListener(a,d,!0)}}}),kb.fn.extend({on:function(a,c,d,e,f){var g,h;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(g in a)this.on(g,c,d,a[g],f);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=j;else if(!e)return this;return 1===f&&(h=e,e=function(a){return kb().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=kb.guid++)),this.each(function(){kb.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,kb(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(f in a)this.off(f,c,a[f]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=j),this.each(function(){kb.event.remove(this,a,d,c)})},trigger:function(a,b){return this.each(function(){kb.event.trigger(a,b,this)})},triggerHandler:function(a,c){var d=this[0];return d?kb.event.trigger(a,c,d,!0):b}});var Qb=/^.[^:#\[\.,]*$/,Rb=/^(?:parents|prev(?:Until|All))/,Sb=kb.expr.match.needsContext,Tb={children:!0,contents:!0,next:!0,prev:!0};kb.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(kb(a).filter(function(){for(b=0;e>b;b++)if(kb.contains(d[b],this))return!0}));for(b=0;e>b;b++)kb.find(a,d[b],c);return c=this.pushStack(e>1?kb.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},has:function(a){var b,c=kb(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(kb.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(m(this,a||[],!0))},filter:function(a){return this.pushStack(m(this,a||[],!1))},is:function(a){return!!m(this,"string"==typeof a&&Sb.test(a)?kb(a):a||[],!1).length},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Sb.test(a)||"string"!=typeof a?kb(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(11>c.nodeType&&(g?g.index(c)>-1:1===c.nodeType&&kb.find.matchesSelector(c,a))){c=f.push(c);break}return this.pushStack(f.length>1?kb.unique(f):f)},index:function(a){return a?"string"==typeof a?kb.inArray(this[0],kb(a)):kb.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"==typeof a?kb(a,b):kb.makeArray(a&&a.nodeType?[a]:a),d=kb.merge(this.get(),c);return this.pushStack(kb.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),kb.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return kb.dir(a,"parentNode")},parentsUntil:function(a,b,c){return kb.dir(a,"parentNode",c)},next:function(a){return l(a,"nextSibling")},prev:function(a){return l(a,"previousSibling")},nextAll:function(a){return kb.dir(a,"nextSibling")},prevAll:function(a){return kb.dir(a,"previousSibling")},nextUntil:function(a,b,c){return kb.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return kb.dir(a,"previousSibling",c)},siblings:function(a){return kb.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return kb.sibling(a.firstChild)},contents:function(a){return kb.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:kb.merge([],a.childNodes)}},function(a,b){kb.fn[a]=function(c,d){var e=kb.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=kb.filter(d,e)),this.length>1&&(Tb[a]||(e=kb.unique(e)),Rb.test(a)&&(e=e.reverse())),this.pushStack(e)}}),kb.extend({filter:function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?kb.find.matchesSelector(d,a)?[d]:[]:kb.find.matches(a,kb.grep(b,function(a){return 1===a.nodeType}))},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!kb(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Ub="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Vb=/ jQuery\d+="(?:null|\d+)"/g,Wb=RegExp("<(?:"+Ub+")[\\s/>]","i"),Xb=/^\s+/,Yb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Zb=/<([\w:]+)/,$b=/<tbody/i,_b=/<|&#?\w+;/,ac=/<(?:script|style|link)/i,bc=/^(?:checkbox|radio)$/i,cc=/checked\s*(?:[^=]|=\s*.checked.)/i,dc=/^$|\/(?:java|ecma)script/i,ec=/^true\/(.*)/,fc=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,gc={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:kb.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},hc=n(Y),ic=hc.appendChild(Y.createElement("div"));gc.optgroup=gc.option,gc.tbody=gc.tfoot=gc.colgroup=gc.caption=gc.thead,gc.th=gc.td,kb.fn.extend({text:function(a){return kb.access(this,function(a){return a===b?kb.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=o(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=o(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?kb.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||kb.cleanData(u(c)),c.parentNode&&(b&&kb.contains(c.ownerDocument,c)&&r(u(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&kb.cleanData(u(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&kb.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return kb.clone(this,a,b)})},html:function(a){return kb.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Vb,""):b;if(!("string"!=typeof a||ac.test(a)||!kb.support.htmlSerialize&&Wb.test(a)||!kb.support.leadingWhitespace&&Xb.test(a)||gc[(Zb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Yb,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(kb.cleanData(u(c,!1)),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=kb.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;return this.domManip(arguments,function(c){var d=a[b++],e=a[b++];e&&(d&&d.parentNode!==e&&(d=this.nextSibling),kb(this).remove(),e.insertBefore(c,d))},!0),b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){a=db.apply([],a);var d,e,f,g,h,i,j=0,k=this.length,l=this,m=k-1,n=a[0],o=kb.isFunction(n);if(o||!(1>=k||"string"!=typeof n||kb.support.checkClone)&&cc.test(n))return this.each(function(d){var e=l.eq(d);o&&(a[0]=n.call(this,d,e.html())),e.domManip(a,b,c)});if(k&&(i=kb.buildFragment(a,this[0].ownerDocument,!1,!c&&this),d=i.firstChild,1===i.childNodes.length&&(i=d),d)){for(g=kb.map(u(i,"script"),p),f=g.length;k>j;j++)e=i,j!==m&&(e=kb.clone(e,!0,!0),f&&kb.merge(g,u(e,"script"))),b.call(this[j],e,j);if(f)for(h=g[g.length-1].ownerDocument,kb.map(g,q),j=0;f>j;j++)e=g[j],dc.test(e.type||"")&&!kb._data(e,"globalEval")&&kb.contains(h,e)&&(e.src?kb._evalUrl(e.src):kb.globalEval((e.text||e.textContent||e.innerHTML||"").replace(fc,"")));i=d=null}return this}}),kb.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){kb.fn[a]=function(a){for(var c,d=0,e=[],f=kb(a),g=f.length-1;g>=d;d++)c=d===g?this:this.clone(!0),kb(f[d])[b](c),eb.apply(e,c.get());return this.pushStack(e)}}),kb.extend({clone:function(a,b,c){var d,e,f,g,h,i=kb.contains(a.ownerDocument,a);if(kb.support.html5Clone||kb.isXMLDoc(a)||!Wb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ic.innerHTML=a.outerHTML,ic.removeChild(f=ic.firstChild)),!(kb.support.noCloneEvent&&kb.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||kb.isXMLDoc(a)))for(d=u(f),h=u(a),g=0;null!=(e=h[g]);++g)d[g]&&t(e,d[g]);if(b)if(c)for(h=h||u(a),d=d||u(f),g=0;null!=(e=h[g]);g++)s(e,d[g]);else s(a,f);return d=u(f,"script"),d.length>0&&r(d,!i&&u(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=n(b),o=[],p=0;l>p;p++)if(f=a[p],f||0===f)if("object"===kb.type(f))kb.merge(o,f.nodeType?[f]:f);else if(_b.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=(Zb.exec(f)||["",""])[1].toLowerCase(),k=gc[i]||gc._default,h.innerHTML=k[1]+f.replace(Yb,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!kb.support.leadingWhitespace&&Xb.test(f)&&o.push(b.createTextNode(Xb.exec(f)[0])),!kb.support.tbody)for(f="table"!==i||$b.test(f)?"<table>"!==k[1]||$b.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)kb.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(kb.merge(o,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else o.push(b.createTextNode(f));for(h&&m.removeChild(h),kb.support.appendChecked||kb.grep(u(o,"input"),v),p=0;f=o[p++];)if((!d||-1===kb.inArray(f,d))&&(g=kb.contains(f.ownerDocument,f),h=u(m.appendChild(f),"script"),g&&r(h),c))for(e=0;f=h[e++];)dc.test(f.type||"")&&c.push(f);return h=null,m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=kb.expando,i=kb.cache,j=kb.support.deleteExpando,k=kb.event.special;null!=(c=a[g]);g++)if((b||kb.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?kb.event.remove(c,d):kb.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==W?c.removeAttribute(h):c[h]=null,bb.push(e))}},_evalUrl:function(a){return kb.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),kb.fn.extend({wrapAll:function(a){if(kb.isFunction(a))return this.each(function(b){kb(this).wrapAll(a.call(this,b))});if(this[0]){var b=kb(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(kb.isFunction(a)?function(b){kb(this).wrapInner(a.call(this,b))}:function(){var b=kb(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=kb.isFunction(a);return this.each(function(c){kb(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){kb.nodeName(this,"body")||kb(this).replaceWith(this.childNodes)}).end()}});var jc,kc,lc,mc=/alpha\([^)]*\)/i,nc=/opacity\s*=\s*([^)]*)/,oc=/^(top|right|bottom|left)$/,pc=/^(none|table(?!-c[ea]).+)/,qc=/^margin/,rc=RegExp("^("+lb+")(.*)$","i"),sc=RegExp("^("+lb+")(?!px)[a-z%]+$","i"),tc=RegExp("^([+-])=("+lb+")","i"),uc={BODY:"block"},vc={position:"absolute",visibility:"hidden",display:"block"},wc={letterSpacing:0,fontWeight:400},xc=["Top","Right","Bottom","Left"],yc=["Webkit","O","Moz","ms"];kb.fn.extend({css:function(a,c){return kb.access(this,function(a,c,d){var e,f,g={},h=0;if(kb.isArray(c)){for(f=kc(a),e=c.length;e>h;h++)g[c[h]]=kb.css(a,c[h],!1,f);return g}return d!==b?kb.style(a,c,d):kb.css(a,c)},a,c,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){x(this)?kb(this).show():kb(this).hide()})}}),kb.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=lc(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":kb.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=kb.camelCase(c),j=a.style;if(c=kb.cssProps[i]||(kb.cssProps[i]=w(j,i)),h=kb.cssHooks[c]||kb.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];if(g=typeof d,"string"===g&&(f=tc.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(kb.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"!==g||kb.cssNumber[i]||(d+="px"),kb.support.clearCloneStyle||""!==d||0!==c.indexOf("background")||(j[c]="inherit"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(k){}}},css:function(a,c,d,e){var f,g,h,i=kb.camelCase(c);return c=kb.cssProps[i]||(kb.cssProps[i]=w(a.style,i)),h=kb.cssHooks[c]||kb.cssHooks[i],h&&"get"in h&&(g=h.get(a,!0,d)),g===b&&(g=lc(a,c,e)),"normal"===g&&c in wc&&(g=wc[c]),""===d||d?(f=parseFloat(g),d===!0||kb.isNumeric(f)?f||0:g):g}}),a.getComputedStyle?(kc=function(b){return a.getComputedStyle(b,null)},lc=function(a,c,d){var e,f,g,h=d||kc(a),i=h?h.getPropertyValue(c)||h[c]:b,j=a.style;return h&&(""!==i||kb.contains(a.ownerDocument,a)||(i=kb.style(a,c)),sc.test(i)&&qc.test(c)&&(e=j.width,f=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=i,i=h.width,j.width=e,j.minWidth=f,j.maxWidth=g)),i}):Y.documentElement.currentStyle&&(kc=function(a){return a.currentStyle},lc=function(a,c,d){var e,f,g,h=d||kc(a),i=h?h[c]:b,j=a.style;return null==i&&j&&j[c]&&(i=j[c]),sc.test(i)&&!oc.test(c)&&(e=j.left,f=a.runtimeStyle,g=f&&f.left,g&&(f.left=a.currentStyle.left),j.left="fontSize"===c?"1em":i,i=j.pixelLeft+"px",j.left=e,g&&(f.left=g)),""===i?"auto":i}),kb.each(["height","width"],function(a,c){kb.cssHooks[c]={get:function(a,d,e){return d?0===a.offsetWidth&&pc.test(kb.css(a,"display"))?kb.swap(a,vc,function(){return B(a,c,e)}):B(a,c,e):b},set:function(a,b,d){var e=d&&kc(a);return z(a,b,d?A(a,c,d,kb.support.boxSizing&&"border-box"===kb.css(a,"boxSizing",!1,e),e):0)}}}),kb.support.opacity||(kb.cssHooks.opacity={get:function(a,b){return nc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=kb.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===kb.trim(f.replace(mc,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=mc.test(f)?f.replace(mc,e):f+" "+e)}}),kb(function(){kb.support.reliableMarginRight||(kb.cssHooks.marginRight={get:function(a,c){return c?kb.swap(a,{display:"inline-block"},lc,[a,"marginRight"]):b}}),!kb.support.pixelPosition&&kb.fn.position&&kb.each(["top","left"],function(a,c){kb.cssHooks[c]={get:function(a,d){return d?(d=lc(a,c),sc.test(d)?kb(a).position()[c]+"px":d):b}}})}),kb.expr&&kb.expr.filters&&(kb.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!kb.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||kb.css(a,"display"))},kb.expr.filters.visible=function(a){return!kb.expr.filters.hidden(a)}),kb.each({margin:"",padding:"",border:"Width"},function(a,b){kb.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+xc[d]+b]=f[d]||f[d-2]||f[0];return e}},qc.test(a)||(kb.cssHooks[a+b].set=z)});var zc=/%20/g,Ac=/\[\]$/,Bc=/\r?\n/g,Cc=/^(?:submit|button|image|reset|file)$/i,Dc=/^(?:input|select|textarea|keygen)/i;kb.fn.extend({serialize:function(){return kb.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=kb.prop(this,"elements");return a?kb.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!kb(this).is(":disabled")&&Dc.test(this.nodeName)&&!Cc.test(a)&&(this.checked||!bc.test(a))}).map(function(a,b){var c=kb(this).val();return null==c?null:kb.isArray(c)?kb.map(c,function(a){return{name:b.name,value:a.replace(Bc,"\r\n")}}):{name:b.name,value:c.replace(Bc,"\r\n")}}).get()}}),kb.param=function(a,c){var d,e=[],f=function(a,b){b=kb.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=kb.ajaxSettings&&kb.ajaxSettings.traditional),kb.isArray(a)||a.jquery&&!kb.isPlainObject(a))kb.each(a,function(){f(this.name,this.value)});else for(d in a)E(d,a[d],c,f);return e.join("&").replace(zc,"+")},kb.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){kb.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),kb.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Ec,Fc,Gc=kb.now(),Hc=/\?/,Ic=/#.*$/,Jc=/([?&])_=[^&]*/,Kc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Lc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mc=/^(?:GET|HEAD)$/,Nc=/^\/\//,Oc=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Pc=kb.fn.load,Qc={},Rc={},Sc="*/".concat("*");try{Fc=X.href}catch(Tc){Fc=Y.createElement("a"),Fc.href="",Fc=Fc.href}Ec=Oc.exec(Fc.toLowerCase())||[],kb.fn.load=function(a,c,d){if("string"!=typeof a&&Pc)return Pc.apply(this,arguments);var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),kb.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(g="POST"),h.length>0&&kb.ajax({url:a,type:g,dataType:"html",data:c}).done(function(a){f=arguments,h.html(e?kb("<div>").append(kb.parseHTML(a)).find(e):a)}).complete(d&&function(a,b){h.each(d,f||[a.responseText,b,a])}),this},kb.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){kb.fn[b]=function(a){return this.on(b,a)}}),kb.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Fc,type:"GET",isLocal:Lc.test(Ec[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Sc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":kb.parseJSON,"text xml":kb.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?H(H(a,kb.ajaxSettings),b):H(kb.ajaxSettings,a)},ajaxPrefilter:F(Qc),ajaxTransport:F(Rc),ajax:function(a,c){function d(a,c,d,e){var f,l,s,t,v,x=c;2!==u&&(u=2,i&&clearTimeout(i),k=b,h=e||"",w.readyState=a>0?4:0,f=a>=200&&300>a||304===a,d&&(t=I(m,w,d)),t=J(m,t,w,f),f?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(kb.lastModified[g]=v),v=w.getResponseHeader("etag"),v&&(kb.etag[g]=v)),204===a||"HEAD"===m.type?x="nocontent":304===a?x="notmodified":(x=t.state,l=t.data,s=t.error,f=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),w.status=a,w.statusText=(c||x)+"",f?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,j&&o.trigger(f?"ajaxSuccess":"ajaxError",[w,m,f?l:s]),q.fireWith(n,[w,x]),j&&(o.trigger("ajaxComplete",[w,m]),--kb.active||kb.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=kb.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?kb(n):kb.event,p=kb.Deferred(),q=kb.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!l)for(l={};b=Kc.exec(h);)l[b[1].toLowerCase()]=b[2];b=l[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return k&&k.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((a||m.url||Fc)+"").replace(Ic,"").replace(Nc,Ec[1]+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=kb.trim(m.dataType||"*").toLowerCase().match(mb)||[""],null==m.crossDomain&&(e=Oc.exec(m.url.toLowerCase()),m.crossDomain=!(!e||e[1]===Ec[1]&&e[2]===Ec[2]&&(e[3]||("http:"===e[1]?"80":"443"))===(Ec[3]||("http:"===Ec[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=kb.param(m.data,m.traditional)),G(Qc,m,c,w),2===u)return w;j=m.global,j&&0===kb.active++&&kb.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Mc.test(m.type),g=m.url,m.hasContent||(m.data&&(g=m.url+=(Hc.test(g)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=Jc.test(g)?g.replace(Jc,"$1_="+Gc++):g+(Hc.test(g)?"&":"?")+"_="+Gc++)),m.ifModified&&(kb.lastModified[g]&&w.setRequestHeader("If-Modified-Since",kb.lastModified[g]),kb.etag[g]&&w.setRequestHeader("If-None-Match",kb.etag[g])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Sc+"; q=0.01":""):m.accepts["*"]);for(f in m.headers)w.setRequestHeader(f,m.headers[f]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(f in{success:1,error:1,complete:1})w[f](m[f]);if(k=G(Rc,m,c,w)){w.readyState=1,j&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,k.send(s,d)}catch(x){if(!(2>u))throw x;d(-1,x)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return kb.get(a,b,c,"json")},getScript:function(a,c){return kb.get(a,b,c,"script")}}),kb.each(["get","post"],function(a,c){kb[c]=function(a,d,e,f){return kb.isFunction(d)&&(f=f||e,e=d,d=b),kb.ajax({url:a,type:c,dataType:f,data:d,success:e})}}),kb.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return kb.globalEval(a),a}}}),kb.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),kb.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=Y.head||kb("head")[0]||Y.documentElement;return{send:function(b,e){c=Y.createElement("script"),c.async=!0,a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,b){(b||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,b||e(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(b,!0)}}}});var Uc=[],Vc=/(=)\?(?=&|$)|\?\?/;kb.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Uc.pop()||kb.expando+"_"+Gc++;return this[a]=!0,a}}),kb.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.jsonp!==!1&&(Vc.test(c.url)?"url":"string"==typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vc.test(c.data)&&"data");return i||"jsonp"===c.dataTypes[0]?(f=c.jsonpCallback=kb.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,i?c[i]=c[i].replace(Vc,"$1"+f):c.jsonp!==!1&&(c.url+=(Hc.test(c.url)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||kb.error(f+" was not called"),h[0]},c.dataTypes[0]="json",g=a[f],a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,Uc.push(f)),h&&kb.isFunction(g)&&g(h[0]),h=g=b}),"script"):b});var Wc,Xc,Yc=0,Zc=a.ActiveXObject&&function(){var a;for(a in Wc)Wc[a](b,!0)};kb.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&K()||L()}:K,Xc=kb.ajaxSettings.xhr(),kb.support.cors=!!Xc&&"withCredentials"in Xc,Xc=kb.support.ajax=!!Xc,Xc&&kb.ajaxTransport(function(c){if(!c.crossDomain||kb.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=kb.noop,Zc&&delete Wc[g]),e)4!==i.readyState&&i.abort();else{l={},h=i.status,j=i.getAllResponseHeaders(),"string"==typeof i.responseText&&(l.text=i.responseText);try{k=i.statusText}catch(m){k=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(n){e||f(-1,n)}l&&f(h,k,l,j)},c.async?4===i.readyState?setTimeout(d):(g=++Yc,Zc&&(Wc||(Wc={},kb(a).unload(Zc)),Wc[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(b,!0)}}}});var $c,_c,ad=/^(?:toggle|show|hide)$/,bd=RegExp("^(?:([+-])=|)("+lb+")([a-z%]*)$","i"),cd=/queueHooks$/,dd=[Q],ed={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bd.exec(b),f=e&&e[3]||(kb.cssNumber[a]?"":"px"),g=(kb.cssNumber[a]||"px"!==f&&+d)&&bd.exec(kb.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,kb.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};kb.Animation=kb.extend(O,{tweener:function(a,b){kb.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],ed[c]=ed[c]||[],ed[c].unshift(b)},prefilter:function(a,b){b?dd.unshift(a):dd.push(a)}}),kb.Tween=R,R.prototype={constructor:R,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(kb.cssNumber[c]?"":"px")},cur:function(){var a=R.propHooks[this.prop];return a&&a.get?a.get(this):R.propHooks._default.get(this)},run:function(a){var b,c=R.propHooks[this.prop];return this.pos=b=this.options.duration?kb.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=kb.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){kb.fx.step[a.prop]?kb.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[kb.cssProps[a.prop]]||kb.cssHooks[a.prop])?kb.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},kb.each(["toggle","show","hide"],function(a,b){var c=kb.fn[b];kb.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(S(b,!0),a,d,e)}}),kb.fn.extend({fadeTo:function(a,b,c,d){return this.filter(x).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=kb.isEmptyObject(a),f=kb.speed(b,c,d),g=function(){var b=O(this,kb.extend({},a),f);(e||kb._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=kb.timers,g=kb._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&cd.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&kb.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=kb._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=kb.timers,g=d?d.length:0;for(c.finish=!0,kb.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));
for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),kb.each({slideDown:S("show"),slideUp:S("hide"),slideToggle:S("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){kb.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),kb.speed=function(a,b,c){var d=a&&"object"==typeof a?kb.extend({},a):{complete:c||!c&&b||kb.isFunction(a)&&a,duration:a,easing:c&&b||b&&!kb.isFunction(b)&&b};return d.duration=kb.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in kb.fx.speeds?kb.fx.speeds[d.duration]:kb.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){kb.isFunction(d.old)&&d.old.call(this),d.queue&&kb.dequeue(this,d.queue)},d},kb.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},kb.timers=[],kb.fx=R.prototype.init,kb.fx.tick=function(){var a,c=kb.timers,d=0;for($c=kb.now();c.length>d;d++)a=c[d],a()||c[d]!==a||c.splice(d--,1);c.length||kb.fx.stop(),$c=b},kb.fx.timer=function(a){a()&&kb.timers.push(a)&&kb.fx.start()},kb.fx.interval=13,kb.fx.start=function(){_c||(_c=setInterval(kb.fx.tick,kb.fx.interval))},kb.fx.stop=function(){clearInterval(_c),_c=null},kb.fx.speeds={slow:600,fast:200,_default:400},kb.fx.step={},kb.expr&&kb.expr.filters&&(kb.expr.filters.animated=function(a){return kb.grep(kb.timers,function(b){return a===b.elem}).length}),kb.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){kb.offset.setOffset(this,a,b)});var c,d,e={top:0,left:0},f=this[0],g=f&&f.ownerDocument;return g?(c=g.documentElement,kb.contains(c,f)?(typeof f.getBoundingClientRect!==W&&(e=f.getBoundingClientRect()),d=T(g),{top:e.top+(d.pageYOffset||c.scrollTop)-(c.clientTop||0),left:e.left+(d.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):e):void 0},kb.offset={setOffset:function(a,b,c){var d=kb.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=kb(a),h=g.offset(),i=kb.css(a,"top"),j=kb.css(a,"left"),k=("absolute"===d||"fixed"===d)&&kb.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),kb.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},kb.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===kb.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),kb.nodeName(a[0],"html")||(c=a.offset()),c.top+=kb.css(a[0],"borderTopWidth",!0),c.left+=kb.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-kb.css(d,"marginTop",!0),left:b.left-c.left-kb.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Z;a&&!kb.nodeName(a,"html")&&"static"===kb.css(a,"position");)a=a.offsetParent;return a||Z})}}),kb.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);kb.fn[a]=function(e){return kb.access(this,function(a,e,f){var g=T(a);return f===b?g?c in g?g[c]:g.document.documentElement[e]:a[e]:(g?g.scrollTo(d?kb(g).scrollLeft():f,d?f:kb(g).scrollTop()):a[e]=f,b)},a,e,arguments.length,null)}}),kb.each({Height:"height",Width:"width"},function(a,c){kb.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){kb.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return kb.access(this,function(c,d,e){var f;return kb.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?kb.css(c,d,h):kb.style(c,d,e,h)},c,g?e:b,g,null)}})}),kb.fn.size=function(){return this.length},kb.fn.andSelf=kb.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=kb:(a.jQuery=a.$=kb,"function"==typeof define&&define.amd&&define("jquery",[],function(){return kb}))}(window),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=(d.unshift,e.toString),k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?void(this._wrapped=a):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.4.2";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g in a)if(x.has(a,g)&&b.call(d,a[g],g,a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)},x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError("Reduce of empty array with no initial value");return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),arguments.length>2?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError("Reduce of empty array with no initial value");return c},x.find=x.detect=function(a,b,c){var d;return z(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},x.reject=function(a,b,c){var d=[];return null==a?d:(y(a,function(a,e,f){b.call(c,a,e,f)||(d[d.length]=a)}),d)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var z=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){var c=!1;return null==a?c:s&&a.indexOf===s?-1!=a.indexOf(b):c=z(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2);return x.map(a,function(a){return(x.isFunction(b)?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b){return x.isEmpty(b)?[]:x.filter(a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-1/0;var d={computed:-1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d};var A=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=A(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var B=function(a,b,c,d){var e={},f=A(b);return y(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)}),e};x.groupBy=function(a,b,c){return B(a,b,c,function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)})},x.countBy=function(a,b,c){return B(a,b,c,function(a,b){x.has(a,b)||(a[b]=0),a[b]++})},x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:A(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},x.toArray=function(a){return a?a.length===+a.length?h.call(a):x.values(a):[]},x.size=function(a){return a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,function(a){return!!a})};var C=function(a,b,c){return y(a,function(a){x.isArray(a)?b?g.apply(c,a):C(a,b,c):c.push(a)}),c};x.flatten=function(a,b){return C(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(i.apply(d,arguments))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=h.call(arguments),b=x.max(x.pluck(a,"length")),c=new Array(b),d=0;b>d;d++)c[d]=x.pluck(a,""+d);return c},x.object=function(a,b){for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var D=function(){};x.bind=function(a,b){var c,d;if(a.bind===w&&w)return w.apply(a,h.call(arguments,1));if(!x.isFunction(a))throw new TypeError;return d=h.call(arguments,2),c=function(){if(this instanceof c){D.prototype=a.prototype;var e=new D,f=a.apply(e,d.concat(h.call(arguments)));return Object(f)===f?f:e}return a.apply(b,d.concat(h.call(arguments)))}},x.bindAll=function(a){var b=h.call(arguments,1);return 0==b.length&&(b=x.functions(a)),y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b){var c,d,e,f,g,h,i=x.debounce(function(){g=f=!1},b);return function(){c=this,d=arguments;var j=function(){e=null,g&&(h=a.apply(c,d)),i()};return e||(e=setTimeout(j,b)),f?g=!0:(f=!0,h=a.apply(c,d)),i(),h}},x.debounce=function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return 0>=a?b():function(){return--a<1?b.apply(this,arguments):void 0}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)x.has(a,c)&&(b[b.length]=c);return b},x.values=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push(a[c]);return b},x.pairs=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push([c,a[c]]);return b},x.invert=function(a){var b={};for(var c in a)x.has(a,c)&&(b[a[c]]=c);return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){for(var c in b)null==a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var E=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;c.push(a),d.push(b);var g=0,h=!0;if("[object Array]"==e){if(g=a.length,h=g==b.length)for(;g--&&(h=E(a[g],b[g],c,d)););}else{var i=a.constructor,k=b.constructor;if(i!==k&&!(x.isFunction(i)&&i instanceof i&&x.isFunction(k)&&k instanceof k))return!1;for(var l in a)if(x.has(a,l)&&(g++,!(h=x.has(b,l)&&E(a[l],b[l],c,d))))break;if(h){for(l in b)if(x.has(b,l)&&!g--)break;h=!g}}return c.pop(),d.pop(),h};x.isEqual=function(a,b){return E(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!!a&&1===a.nodeType},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!!a&&!!x.has(a,"callee")}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return x.isNumber(a)&&isFinite(a)},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=0;a>d;d++)b.call(c,d)},x.random=function(a,b){return null==b&&(b=a,a=0),a+(0|Math.random()*(b-a+1))};var F={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};F.unescape=x.invert(F.escape);var G={escape:new RegExp("["+x.keys(F.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(F.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(G[a],function(b){return F[a][b]})}}),x.result=function(a,b){if(null==a)return null;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),L.call(this,c.apply(x,a))}})};var H=0;x.uniqueId=function(a){var b=H++;return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){c=x.defaults({},c,x.templateSettings);var d=new RegExp([(c.escape||I).source,(c.interpolate||I).source,(c.evaluate||I).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){f+=a.slice(e,h).replace(K,function(a){return"\\"+J[a]}),f+=c?"'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?"'+\n((__t=("+d+"))==null?'':__t)+\n'":g?"';\n"+g+"\n__p+='":"",e=h+b.length}),f+="';\n",c.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(c.variable||"obj","_",f)}catch(h){throw h.source=f,h}if(b)return g(b,x);var i=function(a){return g.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+f+"}",i},x.chain=function(a){return x(a).chain()};var L=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),("shift"==a||"splice"==a)&&0===c.length&&delete c[0],L.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return L.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(a){function b(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function c(a,b){return function(c){return k(a.call(this,c),b)}}function d(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function e(){}function f(a){w(a),h(this,a)}function g(a){var b=q(a),c=b.year||0,d=b.month||0,e=b.week||0,f=b.day||0,g=b.hour||0,h=b.minute||0,i=b.second||0,j=b.millisecond||0;this._milliseconds=+j+1e3*i+6e4*h+36e5*g,this._days=+f+7*e,this._months=+d+12*c,this._data={},this._bubble()}function h(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function i(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&qb.hasOwnProperty(b)&&(c[b]=a[b]);return c}function j(a){return 0>a?Math.ceil(a):Math.floor(a)}function k(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function l(a,b,c,d){var e,f,g=b._milliseconds,h=b._days,i=b._months;g&&a._d.setTime(+a._d+g*c),(h||i)&&(e=a.minute(),f=a.hour()),h&&a.date(a.date()+h*c),i&&a.month(a.month()+i*c),g&&!d&&db.updateOffset(a),(h||i)&&(a.minute(e),a.hour(f))}function m(a){return"[object Array]"===Object.prototype.toString.call(a)}function n(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function o(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&s(a[d])!==s(b[d]))&&g++;return g+f}function p(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=Tb[a]||Ub[b]||b}return a}function q(a){var b,c,d={};for(c in a)a.hasOwnProperty(c)&&(b=p(c),b&&(d[b]=a[c]));return d}function r(b){var c,d;if(0===b.indexOf("week"))c=7,d="day";else{if(0!==b.indexOf("month"))return;c=12,d="month"}db[b]=function(e,f){var g,h,i=db.fn._lang[b],j=[];if("number"==typeof e&&(f=e,e=a),h=function(a){var b=db().utc().set(d,a);return i.call(db.fn._lang,b,e||"")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}function s(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function t(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function u(a){return v(a)?366:365}function v(a){return a%4===0&&a%100!==0||a%400===0}function w(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[jb]<0||a._a[jb]>11?jb:a._a[kb]<1||a._a[kb]>t(a._a[ib],a._a[jb])?kb:a._a[lb]<0||a._a[lb]>23?lb:a._a[mb]<0||a._a[mb]>59?mb:a._a[nb]<0||a._a[nb]>59?nb:a._a[ob]<0||a._a[ob]>999?ob:-1,a._pf._overflowDayOfYear&&(ib>b||b>kb)&&(b=kb),a._pf.overflow=b)}function x(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&a._pf.overflow<0&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function y(a){return a?a.toLowerCase().replace("_","-"):a}function z(a,b){return b._isUTC?db(a).zone(b._offset||0):db(a).local()}function A(a,b){return b.abbr=a,pb[a]||(pb[a]=new e),pb[a].set(b),pb[a]}function B(a){delete pb[a]}function C(a){var b,c,d,e,f=0,g=function(a){if(!pb[a]&&rb)try{require("./lang/"+a)}catch(b){}return pb[a]};if(!a)return db.fn._lang;if(!m(a)){if(c=g(a))return c;a=[a]}for(;f<a.length;){for(e=y(a[f]).split("-"),b=e.length,d=y(a[f+1]),d=d?d.split("-"):null;b>0;){if(c=g(e.slice(0,b).join("-")))return c;if(d&&d.length>=b&&o(e,d,!0)>=b-1)break;b--}f++}return db.fn._lang}function D(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function E(a){var b,c,d=a.match(vb);for(b=0,c=d.length;c>b;b++)d[b]=Yb[d[b]]?Yb[d[b]]:D(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function F(a,b){return a.isValid()?(b=G(b,a.lang()),Vb[b]||(Vb[b]=E(b)),Vb[b](a)):a.lang().invalidDate()}function G(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(wb.lastIndex=0;d>=0&&wb.test(a);)a=a.replace(wb,c),wb.lastIndex=0,d-=1;return a}function H(a,b){var c,d=b._strict;switch(a){case"DDDD":return Ib;case"YYYY":case"GGGG":case"gggg":return d?Jb:zb;case"Y":case"G":case"g":return Lb;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?Kb:Ab;case"S":if(d)return Gb;case"SS":if(d)return Hb;case"SSS":if(d)return Ib;case"DDD":return yb;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Cb;case"a":case"A":return C(b._l)._meridiemParse;case"X":return Fb;case"Z":case"ZZ":return Db;case"T":return Eb;case"SSSS":return Bb;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?Hb:xb;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return xb;default:return c=new RegExp(P(O(a.replace("\\","")),"i"))}}function I(a){a=a||"";var b=a.match(Db)||[],c=b[b.length-1]||[],d=(c+"").match(Qb)||["-",0,0],e=+(60*d[1])+s(d[2]);return"+"===d[0]?-e:e}function J(a,b,c){var d,e=c._a;switch(a){case"M":case"MM":null!=b&&(e[jb]=s(b)-1);break;case"MMM":case"MMMM":d=C(c._l).monthsParse(b),null!=d?e[jb]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[kb]=s(b));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=s(b));break;case"YY":e[ib]=s(b)+(s(b)>68?1900:2e3);break;case"YYYY":case"YYYYY":case"YYYYYY":e[ib]=s(b);break;case"a":case"A":c._isPm=C(c._l).isPM(b);break;case"H":case"HH":case"h":case"hh":e[lb]=s(b);break;case"m":case"mm":e[mb]=s(b);break;case"s":case"ss":e[nb]=s(b);break;case"S":case"SS":case"SSS":case"SSSS":e[ob]=s(1e3*("0."+b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=I(b);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":a=a.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=b)}}function K(a){var b,c,d,e,f,g,h,i,j,k,l=[];if(!a._d){for(d=M(a),a._w&&null==a._a[kb]&&null==a._a[jb]&&(f=function(b){var c=parseInt(b,10);return b?b.length<3?c>68?1900+c:2e3+c:c:null==a._a[ib]?db().weekYear():a._a[ib]},g=a._w,null!=g.GG||null!=g.W||null!=g.E?h=Z(f(g.GG),g.W||1,g.E,4,1):(i=C(a._l),j=null!=g.d?V(g.d,i):null!=g.e?parseInt(g.e,10)+i._week.dow:0,k=parseInt(g.w,10)||1,null!=g.d&&j<i._week.dow&&k++,h=Z(f(g.gg),k,j,i._week.doy,i._week.dow)),a._a[ib]=h.year,a._dayOfYear=h.dayOfYear),a._dayOfYear&&(e=null==a._a[ib]?d[ib]:a._a[ib],a._dayOfYear>u(e)&&(a._pf._overflowDayOfYear=!0),c=U(e,0,a._dayOfYear),a._a[jb]=c.getUTCMonth(),a._a[kb]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=l[b]=d[b];for(;7>b;b++)a._a[b]=l[b]=null==a._a[b]?2===b?1:0:a._a[b];l[lb]+=s((a._tzm||0)/60),l[mb]+=s((a._tzm||0)%60),a._d=(a._useUTC?U:T).apply(null,l)}}function L(a){var b;a._d||(b=q(a._i),a._a=[b.year,b.month,b.day,b.hour,b.minute,b.second,b.millisecond],K(a))}function M(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function N(a){a._a=[],a._pf.empty=!0;var b,c,d,e,f,g=C(a._l),h=""+a._i,i=h.length,j=0;for(d=G(a._f,g).match(vb)||[],b=0;b<d.length;b++)e=d[b],c=(h.match(H(e,a))||[])[0],c&&(f=h.substr(0,h.indexOf(c)),f.length>0&&a._pf.unusedInput.push(f),h=h.slice(h.indexOf(c)+c.length),j+=c.length),Yb[e]?(c?a._pf.empty=!1:a._pf.unusedTokens.push(e),J(e,c,a)):a._strict&&!c&&a._pf.unusedTokens.push(e);a._pf.charsLeftOver=i-j,h.length>0&&a._pf.unusedInput.push(h),a._isPm&&a._a[lb]<12&&(a._a[lb]+=12),a._isPm===!1&&12===a._a[lb]&&(a._a[lb]=0),K(a),w(a)}function O(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function P(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(a){var c,d,e,f,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(0/0));for(f=0;f<a._f.length;f++)g=0,c=h({},a),c._pf=b(),c._f=a._f[f],N(c),x(c)&&(g+=c._pf.charsLeftOver,g+=10*c._pf.unusedTokens.length,c._pf.score=g,(null==e||e>g)&&(e=g,d=c));h(a,d||c)}function R(a){var b,c,d=a._i,e=Mb.exec(d);if(e){for(a._pf.iso=!0,b=0,c=Ob.length;c>b;b++)if(Ob[b][1].exec(d)){a._f=Ob[b][0]+(e[6]||" ");break}for(b=0,c=Pb.length;c>b;b++)if(Pb[b][1].exec(d)){a._f+=Pb[b][0];break}d.match(Db)&&(a._f+="Z"),N(a)}else a._d=new Date(d)}function S(b){var c=b._i,d=sb.exec(c);c===a?b._d=new Date:d?b._d=new Date(+d[1]):"string"==typeof c?R(b):m(c)?(b._a=c.slice(0),K(b)):n(c)?b._d=new Date(+c):"object"==typeof c?L(b):b._d=new Date(c)}function T(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function U(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function V(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function W(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function X(a,b,c){var d=hb(Math.abs(a)/1e3),e=hb(d/60),f=hb(e/60),g=hb(f/24),h=hb(g/365),i=45>d&&["s",d]||1===e&&["m"]||45>e&&["mm",e]||1===f&&["h"]||22>f&&["hh",f]||1===g&&["d"]||25>=g&&["dd",g]||45>=g&&["M"]||345>g&&["MM",hb(g/30)]||1===h&&["y"]||["yy",h];return i[2]=b,i[3]=a>0,i[4]=c,W.apply({},i)}function Y(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=db(a).add("d",f),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function Z(a,b,c,d,e){var f,g,h=U(a,0,1).getUTCDay();return c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:u(a-1)+g}}function $(a){var b=a._i,c=a._f;return null===b?db.invalid({nullInput:!0}):("string"==typeof b&&(a._i=b=C().preparse(b)),db.isMoment(b)?(a=i(b),a._d=new Date(+b._d)):c?m(c)?Q(a):N(a):S(a),new f(a))}function _(a,b){db.fn[a]=db.fn[a+"s"]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),db.updateOffset(this),this):this._d["get"+c+b]()}}function ab(a){db.duration.fn[a]=function(){return this._data[a]}}function bb(a,b){db.duration.fn["as"+a]=function(){return+this/b}}function cb(a){var b=!1,c=db;"undefined"==typeof ender&&(a?(gb.moment=function(){return!b&&console&&console.warn&&(b=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),c.apply(null,arguments)},h(gb.moment,c)):gb.moment=db)}for(var db,eb,fb="2.5.1",gb=this,hb=Math.round,ib=0,jb=1,kb=2,lb=3,mb=4,nb=5,ob=6,pb={},qb={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},rb="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require,sb=/^\/?Date\((\-?\d+)/i,tb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,ub=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,vb=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,wb=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,xb=/\d\d?/,yb=/\d{1,3}/,zb=/\d{1,4}/,Ab=/[+\-]?\d{1,6}/,Bb=/\d+/,Cb=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Db=/Z|[\+\-]\d\d:?\d\d/gi,Eb=/T/i,Fb=/[\+\-]?\d+(\.\d{1,3})?/,Gb=/\d/,Hb=/\d\d/,Ib=/\d{3}/,Jb=/\d{4}/,Kb=/[+-]?\d{6}/,Lb=/[+-]?\d+/,Mb=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Nb="YYYY-MM-DDTHH:mm:ssZ",Ob=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Pb=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Qb=/([\+\-]|\d\d)/gi,Rb="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Sb={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},Tb={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Ub={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Vb={},Wb="DDD w W M D d".split(" "),Xb="M D H h m s w W".split(" "),Yb={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return k(this.year()%100,2)},YYYY:function(){return k(this.year(),4)},YYYYY:function(){return k(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?"+":"-";return b+k(Math.abs(a),6)},gg:function(){return k(this.weekYear()%100,2)},gggg:function(){return k(this.weekYear(),4)},ggggg:function(){return k(this.weekYear(),5)},GG:function(){return k(this.isoWeekYear()%100,2)},GGGG:function(){return k(this.isoWeekYear(),4)},GGGGG:function(){return k(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return s(this.milliseconds()/100)},SS:function(){return k(s(this.milliseconds()/10),2)},SSS:function(){return k(this.milliseconds(),3)},SSSS:function(){return k(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+k(s(a/60),2)+":"+k(s(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+k(s(a/60),2)+k(s(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Zb=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Wb.length;)eb=Wb.pop(),Yb[eb+"o"]=d(Yb[eb],eb);for(;Xb.length;)eb=Xb.pop(),Yb[eb+eb]=c(Yb[eb],2);for(Yb.DDDD=c(Yb.DDD,3),h(e.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]
},monthsParse:function(a){var b,c,d;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=db.utc([2e3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=new RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=db([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return Y(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),db=function(c,d,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._i=c,g._f=d,g._l=e,g._strict=f,g._isUTC=!1,g._pf=b(),$(g)},db.utc=function(c,d,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._useUTC=!0,g._isUTC=!0,g._l=e,g._i=c,g._f=d,g._strict=f,g._pf=b(),$(g).utc()},db.unix=function(a){return db(1e3*a)},db.duration=function(a,b){var c,d,e,f=a,h=null;return db.isDuration(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(f={},b?f[b]=a:f.milliseconds=a):(h=tb.exec(a))?(c="-"===h[1]?-1:1,f={y:0,d:s(h[kb])*c,h:s(h[lb])*c,m:s(h[mb])*c,s:s(h[nb])*c,ms:s(h[ob])*c}):(h=ub.exec(a))&&(c="-"===h[1]?-1:1,e=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*c},f={y:e(h[2]),M:e(h[3]),d:e(h[4]),h:e(h[5]),m:e(h[6]),s:e(h[7]),w:e(h[8])}),d=new g(f),db.isDuration(a)&&a.hasOwnProperty("_lang")&&(d._lang=a._lang),d},db.version=fb,db.defaultFormat=Nb,db.updateOffset=function(){},db.lang=function(a,b){var c;return a?(b?A(y(a),b):null===b?(B(a),a="en"):pb[a]||C(a),c=db.duration.fn._lang=db.fn._lang=C(a),c._abbr):db.fn._lang._abbr},db.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),C(a)},db.isMoment=function(a){return a instanceof f||null!=a&&a.hasOwnProperty("_isAMomentObject")},db.isDuration=function(a){return a instanceof g},eb=Zb.length-1;eb>=0;--eb)r(Zb[eb]);for(db.normalizeUnits=function(a){return p(a)},db.invalid=function(a){var b=db.utc(0/0);return null!=a?h(b._pf,a):b._pf.userInvalidated=!0,b},db.parseZone=function(a){return db(a).parseZone()},h(db.fn=f.prototype,{clone:function(){return db(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=db(this).utc();return 0<a.year()&&a.year()<=9999?F(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):F(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return x(this)},isDSTShifted:function(){return this._a?this.isValid()&&o(this._a,(this._isUTC?db.utc(this._a):db(this._a)).toArray())>0:!1},parsingFlags:function(){return h({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){var b=F(this,a||db.defaultFormat);return this.lang().postformat(b)},add:function(a,b){var c;return c="string"==typeof a?db.duration(+b,a):db.duration(a,b),l(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a?db.duration(+b,a):db.duration(a,b),l(this,c,-1),this},diff:function(a,b,c){var d,e,f=z(a,this),g=6e4*(this.zone()-f.zone());return b=p(b),"year"===b||"month"===b?(d=432e5*(this.daysInMonth()+f.daysInMonth()),e=12*(this.year()-f.year())+(this.month()-f.month()),e+=(this-db(this).startOf("month")-(f-db(f).startOf("month")))/d,e-=6e4*(this.zone()-db(this).startOf("month").zone()-(f.zone()-db(f).startOf("month").zone()))/d,"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:j(e)},from:function(a,b){return db.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(db(),a)},calendar:function(){var a=z(db(),this).startOf("day"),b=this.diff(a,"days",!0),c=-6>b?"sameElse":-1>b?"lastWeek":0>b?"lastDay":1>b?"sameDay":2>b?"nextDay":7>b?"nextWeek":"sameElse";return this.format(this.lang().calendar(c,this))},isLeapYear:function(){return v(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=V(a,this.lang()),this.add({d:a-b})):b},month:function(a){var b,c=this._isUTC?"UTC":"";return null!=a?"string"==typeof a&&(a=this.lang().monthsParse(a),"number"!=typeof a)?this:(b=this.date(),this.date(1),this._d["set"+c+"Month"](a),this.date(Math.min(b,this.daysInMonth())),db.updateOffset(this),this):this._d["get"+c+"Month"]()},startOf:function(a){switch(a=p(a)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),this},endOf:function(a){return a=p(a),this.startOf(a).add("isoWeek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+db(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+db(a).startOf(b)},isSame:function(a,b){return b=b||"ms",+this.clone().startOf(b)===+z(a,this).startOf(b)},min:function(a){return a=db.apply(null,arguments),this>a?this:a},max:function(a){return a=db.apply(null,arguments),a>this?this:a},zone:function(a){var b=this._offset||0;return null==a?this._isUTC?b:this._d.getTimezoneOffset():("string"==typeof a&&(a=I(a)),Math.abs(a)<16&&(a=60*a),this._offset=a,this._isUTC=!0,b!==a&&l(this,db.duration(b-a,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?db(a).zone():0,(this.zone()-a)%60===0},daysInMonth:function(){return t(this.year(),this.month())},dayOfYear:function(a){var b=hb((db(this).startOf("day")-db(this).startOf("year"))/864e5)+1;return null==a?b:this.add("d",a-b)},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(a){var b=Y(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=Y(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=Y(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},get:function(a){return a=p(a),this[a]()},set:function(a,b){return a=p(a),"function"==typeof this[a]&&this[a](b),this},lang:function(b){return b===a?this._lang:(this._lang=C(b),this)}}),eb=0;eb<Rb.length;eb++)_(Rb[eb].toLowerCase().replace(/s$/,""),Rb[eb]);_("year","FullYear"),db.fn.days=db.fn.day,db.fn.months=db.fn.month,db.fn.weeks=db.fn.week,db.fn.isoWeeks=db.fn.isoWeek,db.fn.toJSON=db.fn.toISOString,h(db.duration.fn=g.prototype,{_bubble:function(){var a,b,c,d,e=this._milliseconds,f=this._days,g=this._months,h=this._data;h.milliseconds=e%1e3,a=j(e/1e3),h.seconds=a%60,b=j(a/60),h.minutes=b%60,c=j(b/60),h.hours=c%24,f+=j(c/24),h.days=f%30,g+=j(f/30),h.months=g%12,d=j(g/12),h.years=d},weeks:function(){return j(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*s(this._months/12)},humanize:function(a){var b=+this,c=X(b,!a,this.lang());return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=db.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=db.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=p(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=p(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:db.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}});for(eb in Sb)Sb.hasOwnProperty(eb)&&(bb(eb,Sb[eb]),ab(eb.toLowerCase()));bb("Weeks",6048e5),db.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},db.lang("en",{ordinal:function(a){var b=a%10,c=1===s(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),rb?(module.exports=db,cb(!0)):"function"==typeof define&&define.amd?define("moment",function(b,c,d){return d.config&&d.config()&&d.config().noGlobal!==!0&&cb(d.config().noGlobal===a),db}):cb()}.call(this),function(a,b,c){"use strict";function d(a){return function(){var b,c=arguments[0],c="["+(a?a+":":"")+c+"] http://errors.angularjs.org/1.2.6/"+(a?a+"/":"")+c;for(b=1;b<arguments.length;b++)c=c+(1==b?"?":"&")+"p"+(b-1)+"="+encodeURIComponent("function"==typeof arguments[b]?arguments[b].toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof arguments[b]?"undefined":"string"!=typeof arguments[b]?JSON.stringify(arguments[b]):arguments[b]);return Error(c)}}function e(a){if(null==a||A(a))return!1;var b=a.length;return 1===a.nodeType&&b?!0:u(a)||x(a)||0===b||"number"==typeof b&&b>0&&b-1 in a}function f(a,b,c){var d;if(a)if(y(a))for(d in a)"prototype"==d||"length"==d||"name"==d||a.hasOwnProperty&&!a.hasOwnProperty(d)||b.call(c,a[d],d);else if(a.forEach&&a.forEach!==f)a.forEach(b,c);else if(e(a))for(d=0;d<a.length;d++)b.call(c,a[d],d);else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d);return a}function g(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(b);return c.sort()}function h(a,b,c){for(var d=g(a),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function i(a){return function(b,c){a(c,b)}}function j(){for(var a,b=Zc.length;b;){if(b--,a=Zc[b].charCodeAt(0),57==a)return Zc[b]="A",Zc.join("");if(90!=a)return Zc[b]=String.fromCharCode(a+1),Zc.join("");Zc[b]="0"}return Zc.unshift("0"),Zc.join("")}function k(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function l(a){var b=a.$$hashKey;return f(arguments,function(b){b!==a&&f(b,function(b,c){a[c]=b})}),k(a,b),a}function m(a){return parseInt(a,10)}function n(a,b){return l(new(l(function(){},{prototype:a})),b)}function o(){}function p(a){return a}function q(a){return function(){return a}}function r(a){return"undefined"==typeof a}function s(a){return"undefined"!=typeof a}function t(a){return null!=a&&"object"==typeof a}function u(a){return"string"==typeof a}function v(a){return"number"==typeof a}function w(a){return"[object Date]"===Wc.call(a)}function x(a){return"[object Array]"===Wc.call(a)}function y(a){return"function"==typeof a}function z(a){return"[object RegExp]"===Wc.call(a)}function A(a){return a&&a.document&&a.location&&a.alert&&a.setInterval}function B(a){return!(!a||!(a.nodeName||a.on&&a.find))}function C(a,b,c){var d=[];return f(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d}function D(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(b===a[c])return c;return-1}function E(a,b){var c=D(a,b);return c>=0&&a.splice(c,1),b}function F(a,b){if(A(a)||a&&a.$evalAsync&&a.$watch)throw Xc("cpws");if(b){if(a===b)throw Xc("cpi");if(x(a))for(var c=b.length=0;c<a.length;c++)b.push(F(a[c]));else{c=b.$$hashKey,f(b,function(a,c){delete b[c]});for(var d in a)b[d]=F(a[d]);k(b,c)}}else(b=a)&&(x(a)?b=F(a,[]):w(a)?b=new Date(a.getTime()):z(a)?b=RegExp(a.source):t(a)&&(b=F(a,{})));return b}function G(a,b){b=b||{};for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&"$"!==c.charAt(1)&&(b[c]=a[c]);return b}function H(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d,e=typeof a;if(e==typeof b&&"object"==e){if(!x(a)){if(w(a))return w(b)&&a.getTime()==b.getTime();if(z(a)&&z(b))return a.toString()==b.toString();if(a&&a.$evalAsync&&a.$watch||b&&b.$evalAsync&&b.$watch||A(a)||A(b)||x(b))return!1;e={};for(d in a)if("$"!==d.charAt(0)&&!y(a[d])){if(!H(a[d],b[d]))return!1;e[d]=!0}for(d in b)if(!e.hasOwnProperty(d)&&"$"!==d.charAt(0)&&b[d]!==c&&!y(b[d]))return!1;return!0}if(!x(b))return!1;if((e=a.length)==b.length){for(d=0;e>d;d++)if(!H(a[d],b[d]))return!1;return!0}}return!1}function I(){return b.securityPolicy&&b.securityPolicy.isActive||b.querySelector&&!(!b.querySelector("[ng-csp]")&&!b.querySelector("[data-ng-csp]"))}function J(a,b){var c=2<arguments.length?Uc.call(arguments,2):[];return!y(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,c.concat(Uc.call(arguments,0))):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function K(a,d){var e=d;return"string"==typeof a&&"$"===a.charAt(0)?e=c:A(d)?e="$WINDOW":d&&b===d?e="$DOCUMENT":d&&d.$evalAsync&&d.$watch&&(e="$SCOPE"),e}function L(a,b){return"undefined"==typeof a?c:JSON.stringify(a,K,b?"  ":null)}function M(a){return u(a)?JSON.parse(a):a}function N(a){return a&&0!==a.length?(a=Sc(""+a),a=!("f"==a||"0"==a||"false"==a||"no"==a||"n"==a||"[]"==a)):a=!1,a}function O(a){a=Oc(a).clone();try{a.empty()}catch(b){}var c=Oc("<div>").append(a).html();try{return 3===a[0].nodeType?Sc(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+Sc(b)})}catch(d){return Sc(c)}}function P(a){try{return decodeURIComponent(a)}catch(b){}}function Q(a){var b,c,d={};return f((a||"").split("&"),function(a){a&&(b=a.split("="),c=P(b[0]),s(c)&&(a=s(b[1])?P(b[1]):!0,d[c]?x(d[c])?d[c].push(a):d[c]=[d[c],a]:d[c]=a))}),d}function R(a){var b=[];return f(a,function(a,c){x(a)?f(a,function(a){b.push(T(c,!0)+(!0===a?"":"="+T(a,!0)))}):b.push(T(c,!0)+(!0===a?"":"="+T(a,!0)))}),b.length?b.join("&"):""}function S(a){return T(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function T(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function U(a,c){function d(a){a&&h.push(a)}var e,g,h=[a],i=["ng:app","ng-app","x-ng-app","data-ng-app"],j=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;f(i,function(c){i[c]=!0,d(b.getElementById(c)),c=c.replace(":","\\:"),a.querySelectorAll&&(f(a.querySelectorAll("."+c),d),f(a.querySelectorAll("."+c+"\\:"),d),f(a.querySelectorAll("["+c+"]"),d))}),f(h,function(a){if(!e){var b=j.exec(" "+a.className+" ");b?(e=a,g=(b[2]||"").replace(/\s+/g,",")):f(a.attributes,function(b){!e&&i[b.name]&&(e=a,g=b.value)})}}),e&&c(e,g?[g]:[])}function V(c,d){var e=function(){if(c=Oc(c),c.injector()){var a=c[0]===b?"document":O(c);throw Xc("btstrpd",a)}return d=d||[],d.unshift(["$provide",function(a){a.value("$rootElement",c)}]),d.unshift("ng"),a=wb(d),a.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),a},g=/^NG_DEFER_BOOTSTRAP!/;return a&&!g.test(a.name)?e():(a.name=a.name.replace(g,""),void(Yc.resumeBootstrap=function(a){f(a,function(a){d.push(a)}),e()}))}function W(a,b){return b=b||"_",a.replace(_c,function(a,c){return(c?b:"")+a.toLowerCase()})}function X(a,b,c){if(!a)throw Xc("areq",b||"?",c||"required");return a}function Y(a,b,c){return c&&x(a)&&(a=a[a.length-1]),X(y(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function Z(a,b){if("hasOwnProperty"===a)throw Xc("badname",b)}function $(a,b,c){if(!b)return a;b=b.split(".");for(var d,e=a,f=b.length,g=0;f>g;g++)d=b[g],a&&(a=(e=a)[d]);return!c&&y(a)?J(e,a):a}function _(a){var b=a[0];if(a=a[a.length-1],b===a)return Oc(b);var c=[b];do{if(b=b.nextSibling,!b)break;c.push(b)}while(b!==a);return Oc(c)}function ab(a){var b=d("$injector"),c=d("ng");return a=a.angular||(a.angular={}),a.$$minErr=a.$$minErr||d,a.module||(a.module=function(){var a={};return function(d,e,f){if("hasOwnProperty"===d)throw c("badname","module");return e&&a.hasOwnProperty(d)&&(a[d]=null),a[d]||(a[d]=function(){function a(a,b,d){return function(){return c[d||"push"]([a,b,arguments]),i}}if(!e)throw b("nomod",d);var c=[],g=[],h=a("$injector","invoke"),i={_invokeQueue:c,_runBlocks:g,requires:e,name:d,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:h,run:function(a){return g.push(a),this}};return f&&h(f),i}())}}())}function bb(a){return a.replace(gd,function(a,b,c,d){return d?c.toUpperCase():c}).replace(hd,"Moz$1")}function cb(a,b,c,d){function e(a){var e,g,h,i,j,k,l=c&&a?[this.filter(a)]:[this],m=b;if(!d||null!=a)for(;l.length;)for(e=l.shift(),g=0,h=e.length;h>g;g++)for(i=Oc(e[g]),m?i.triggerHandler("$destroy"):m=!m,j=0,i=(k=i.children()).length;i>j;j++)l.push(Pc(k[j]));return f.apply(this,arguments)}var f=Pc.fn[a],f=f.$original||f;e.$original=f,Pc.fn[a]=e}function db(a){if(a instanceof db)return a;if(!(this instanceof db)){if(u(a)&&"<"!=a.charAt(0))throw id("nosel");return new db(a)}if(u(a)){var c=b.createElement("div");c.innerHTML="<div>&#160;</div>"+a,c.removeChild(c.firstChild),nb(this,c.childNodes),Oc(b.createDocumentFragment()).append(this)}else nb(this,a)}function eb(a){return a.cloneNode(!0)}function fb(a){hb(a);var b=0;for(a=a.childNodes||[];b<a.length;b++)fb(a[b])}function gb(a,b,c,d){if(s(d))throw id("offargs");var e=ib(a,"events");ib(a,"handle")&&(r(b)?f(e,function(b,c){fd(a,c,b),delete e[c]}):f(b.split(" "),function(b){r(c)?(fd(a,b,e[b]),delete e[b]):E(e[b]||[],c)}))}function hb(a,b){var d=a[cd],e=bd[d];e&&(b?delete bd[d].data[b]:(e.handle&&(e.events.$destroy&&e.handle({},"$destroy"),gb(a)),delete bd[d],a[cd]=c))}function ib(a,b,c){var d=a[cd],d=bd[d||-1];return s(c)?(d||(a[cd]=d=++dd,d=bd[d]={}),void(d[b]=c)):d&&d[b]}function jb(a,b,c){var d=ib(a,"data"),e=s(c),f=!e&&s(b),g=f&&!t(b);if(d||g||ib(a,"data",d={}),e)d[b]=c;else{if(!f)return d;if(g)return d&&d[b];l(d,b)}}function kb(a,b){return a.getAttribute?-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" "):!1}function lb(a,b){b&&a.setAttribute&&f(b.split(" "),function(b){a.setAttribute("class",$c((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+$c(b)+" "," ")))})}function mb(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");f(b.split(" "),function(a){a=$c(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),a.setAttribute("class",$c(c))}}function nb(a,b){if(b){b=b.nodeName||!s(b.length)||A(b)?[b]:b;for(var c=0;c<b.length;c++)a.push(b[c])}}function ob(a,b){return pb(a,"$"+(b||"ngController")+"Controller")}function pb(a,b,d){for(a=Oc(a),9==a[0].nodeType&&(a=a.find("html")),b=x(b)?b:[b];a.length;){for(var e=0,f=b.length;f>e;e++)if((d=a.data(b[e]))!==c)return d;a=a.parent()}}function qb(a){for(var b=0,c=a.childNodes;b<c.length;b++)fb(c[b]);for(;a.firstChild;)a.removeChild(a.firstChild)}function rb(a,b){var c=kd[b.toLowerCase()];return c&&ld[a.nodeName]&&c}function sb(a,c){var d=function(d,e){if(d.preventDefault||(d.preventDefault=function(){d.returnValue=!1}),d.stopPropagation||(d.stopPropagation=function(){d.cancelBubble=!0}),d.target||(d.target=d.srcElement||b),r(d.defaultPrevented)){var g=d.preventDefault;d.preventDefault=function(){d.defaultPrevented=!0,g.call(d)},d.defaultPrevented=!1}d.isDefaultPrevented=function(){return d.defaultPrevented||!1===d.returnValue};var h=G(c[e||d.type]||[]);f(h,function(b){b.call(a,d)}),8>=Nc?(d.preventDefault=null,d.stopPropagation=null,d.isDefaultPrevented=null):(delete d.preventDefault,delete d.stopPropagation,delete d.isDefaultPrevented)};return d.elem=a,d}function tb(a){var b,d=typeof a;return"object"==d&&null!==a?"function"==typeof(b=a.$$hashKey)?b=a.$$hashKey():b===c&&(b=a.$$hashKey=j()):b=a,d+":"+b}function ub(a){f(a,this.put,this)}function vb(a){var b,c;return"function"==typeof a?(b=a.$inject)||(b=[],a.length&&(c=a.toString().replace(pd,""),c=c.match(md),f(c[1].split(nd),function(a){a.replace(od,function(a,c,d){b.push(d)})})),a.$inject=b):x(a)?(c=a.length-1,Y(a[c],"fn"),b=a.slice(0,c)):Y(a,"fn",!0),b}function wb(a){function b(a){return function(b,c){return t(b)?void f(b,i(a)):a(b,c)}}function c(a,b){if(Z(a,"service"),(y(b)||x(b))&&(b=n.instantiate(b)),!b.$get)throw qd("pget",a);return m[a+j]=b}function d(a,b){return c(a,{$get:b})}function e(a){var b,c,d,g,h=[];return f(a,function(a){if(!l.get(a)){l.put(a,!0);try{if(u(a))for(b=Qc(a),h=h.concat(e(b.requires)).concat(b._runBlocks),c=b._invokeQueue,d=0,g=c.length;g>d;d++){var f=c[d],i=n.get(f[0]);i[f[1]].apply(i,f[2])}else y(a)?h.push(n.invoke(a)):x(a)?h.push(n.invoke(a)):Y(a,"module")}catch(j){throw x(a)&&(a=a[a.length-1]),j.message&&j.stack&&-1==j.stack.indexOf(j.message)&&(j=j.message+"\n"+j.stack),qd("modulerr",a,j.stack||j.message||j)}}}),h}function g(a,b){function c(c){if(a.hasOwnProperty(c)){if(a[c]===h)throw qd("cdep",k.join(" <- "));return a[c]}try{return k.unshift(c),a[c]=h,a[c]=b(c)}finally{k.shift()}}function d(a,b,d){var e,f,g,h=[],i=vb(a);for(f=0,e=i.length;e>f;f++){if(g=i[f],"string"!=typeof g)throw qd("itkn",g);h.push(d&&d.hasOwnProperty(g)?d[g]:c(g))}return a.$inject||(a=a[e]),a.apply(b,h)}return{invoke:d,instantiate:function(a,b){var c,e=function(){};return e.prototype=(x(a)?a[a.length-1]:a).prototype,e=new e,c=d(a,e,b),t(c)||y(c)?c:e},get:c,annotate:vb,has:function(b){return m.hasOwnProperty(b+j)||a.hasOwnProperty(b)}}}var h={},j="Provider",k=[],l=new ub,m={$provide:{provider:b(c),factory:b(d),service:b(function(a,b){return d(a,["$injector",function(a){return a.instantiate(b)}])}),value:b(function(a,b){return d(a,q(b))}),constant:b(function(a,b){Z(a,"constant"),m[a]=b,p[a]=b}),decorator:function(a,b){var c=n.get(a+j),d=c.$get;c.$get=function(){var a=r.invoke(d,c);return r.invoke(b,null,{$delegate:a})}}}},n=m.$injector=g(m,function(){throw qd("unpr",k.join(" <- "))}),p={},r=p.$injector=g(p,function(a){return a=n.get(a+j),r.invoke(a.$get,a)});return f(e(a),function(a){r.invoke(a||o)}),r}function xb(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return f(a,function(a){b||"a"!==Sc(a.nodeName)||(b=a)}),b}function g(){var a,d=c.hash();d?(a=h.getElementById(d))?a.scrollIntoView():(a=e(h.getElementsByName(d)))?a.scrollIntoView():"top"===d&&b.scrollTo(0,0):b.scrollTo(0,0)}var h=b.document;return a&&d.$watch(function(){return c.hash()},function(){d.$evalAsync(g)}),g}]}function yb(a,b,d,e){function g(a){try{a.apply(null,Uc.call(arguments,1))}finally{if(s--,0===s)for(;t.length;)try{t.pop()()}catch(b){d.error(b)}}}function h(a,b){!function c(){f(w,function(a){a()}),v=b(c,a)}()}function i(){z=null,x!=j.url()&&(x=j.url(),f(A,function(a){a(j.url())}))}var j=this,k=b[0],l=a.location,m=a.history,n=a.setTimeout,p=a.clearTimeout,q={};j.isMock=!1;var s=0,t=[];j.$$completeOutstandingRequest=g,j.$$incOutstandingRequestCount=function(){s++},j.notifyWhenNoOutstandingRequests=function(a){f(w,function(a){a()}),0===s?a():t.push(a)};var v,w=[];j.addPollFn=function(a){return r(v)&&h(100,n),w.push(a),a};var x=l.href,y=b.find("base"),z=null;j.url=function(b,c){return l!==a.location&&(l=a.location),b?x!=b?(x=b,e.history?c?m.replaceState(null,"",b):(m.pushState(null,"",b),y.attr("href",y.attr("href"))):(z=b,c?l.replace(b):l.href=b),j):void 0:z||l.href.replace(/%27/g,"'")};var A=[],B=!1;j.onUrlChange=function(b){return B||(e.history&&Oc(a).on("popstate",i),e.hashchange?Oc(a).on("hashchange",i):j.addPollFn(i),B=!0),A.push(b),b},j.baseHref=function(){var a=y.attr("href");return a?a.replace(/^https?\:\/\/[^\/]*/,""):""};var C={},D="",E=j.baseHref();j.cookies=function(a,b){var e,f,g,h;if(!a){if(k.cookie!==D)for(D=k.cookie,e=D.split("; "),C={},g=0;g<e.length;g++)f=e[g],h=f.indexOf("="),h>0&&(a=unescape(f.substring(0,h)),C[a]===c&&(C[a]=unescape(f.substring(h+1))));return C}b===c?k.cookie=escape(a)+"=;path="+E+";expires=Thu, 01 Jan 1970 00:00:00 GMT":u(b)&&(e=(k.cookie=escape(a)+"="+escape(b)+";path="+E).length+1,e>4096&&d.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+e+" > 4096 bytes)!"))},j.defer=function(a,b){var c;return s++,c=n(function(){delete q[c],g(a)},b||0),q[c]=!0,c},j.defer.cancel=function(a){return q[a]?(delete q[a],p(a),g(o),!0):!1}}function zb(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new yb(a,d,b,c)}]}function Ab(){this.$get=function(){function a(a,c){function e(a){a!=m&&(n?n==a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw d("$cacheFactory")("iid",a);var g=0,h=l({},c,{id:a}),i={},j=c&&c.capacity||Number.MAX_VALUE,k={},m=null,n=null;return b[a]={put:function(a,b){var c=k[a]||(k[a]={key:a});return e(c),r(b)?void 0:(a in i||g++,i[a]=b,g>j&&this.remove(n.key),b)},get:function(a){var b=k[a];return b?(e(b),i[a]):void 0},remove:function(a){var b=k[a];b&&(b==m&&(m=b.p),b==n&&(n=b.n),f(b.n,b.p),delete k[a],delete i[a],g--)},removeAll:function(){i={},g=0,k={},m=n=null},destroy:function(){k=h=i=null,delete b[a]},info:function(){return l({},h,{size:g})}}}var b={};return a.info=function(){var a={};return f(b,function(b,c){a[c]=b.info()}),a},a.get=function(a){return b[a]},a}}function Bb(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Cb(a,d){var e={},g="Directive",h=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,j=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,k=/^(on[a-z]+|formaction)$/;this.directive=function m(b,c){return Z(b,"directive"),u(b)?(X(c,"directiveFactory"),e.hasOwnProperty(b)||(e[b]=[],a.factory(b+g,["$injector","$exceptionHandler",function(a,c){var d=[];return f(e[b],function(e,f){try{var g=a.invoke(e);y(g)?g={compile:q(g)}:!g.compile&&g.link&&(g.compile=q(g.link)),g.priority=g.priority||0,g.index=f,g.name=g.name||b,g.require=g.require||g.controller&&g.name,g.restrict=g.restrict||"A",d.push(g)}catch(h){c(h)}}),d}])),e[b].push(c)):f(b,i(m)),this},this.aHrefSanitizationWhitelist=function(a){return s(a)?(d.aHrefSanitizationWhitelist(a),this):d.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(d.imgSrcSanitizationWhitelist(a),this):d.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,d,i,m,o,r,s,v,w,z,A,B){function C(a,b,c,d,e){a instanceof Oc||(a=Oc(a)),f(a,function(b,c){3==b.nodeType&&b.nodeValue.match(/\S+/)&&(a[c]=Oc(b).wrap("<span></span>").parent()[0])});var g=E(a,b,a,c,d,e);return D(a,"ng-scope"),function(b,c,d){X(b,"scope");var e=c?jd.clone.call(a):a;f(d,function(a,b){e.data("$"+b+"Controller",a)}),d=0;for(var h=e.length;h>d;d++){var i=e[d].nodeType;1!==i&&9!==i||e.eq(d).data("$scope",b)}return c&&c(e,b),g&&g(b,e,e),e}}function D(a,b){try{a.addClass(b)}catch(c){}}function E(a,b,d,e,f,g){function h(a,d,e,f){var g,h,i,j,k,l,n;g=d.length;var o=Array(g);for(k=0;g>k;k++)o[k]=d[k];for(n=k=0,l=m.length;l>k;n++)h=o[n],d=m[k++],g=m[k++],i=Oc(h),d?(d.scope?(j=a.$new(),i.data("$scope",j)):j=a,(i=d.transclude)||!f&&b?d(g,j,h,e,F(a,i||b)):d(g,j,h,e,f)):g&&g(a,h.childNodes,c,f)}for(var i,j,k,l,m=[],n=0;n<a.length;n++)i=new _,j=I(a[n],[],i,0===n?e:c,f),(g=j.length?M(j,a[n],i,b,d,null,[],[],g):null)&&g.scope&&D(Oc(a[n]),"ng-scope"),i=g&&g.terminal||!(k=a[n].childNodes)||!k.length?null:E(k,g?g.transclude:b),m.push(g,i),l=l||g||i,g=null;return l?h:null}function F(a,b){return function(c,d,e){var f=!1;return c||(c=a.$new(),f=c.$$transcluded=!0),d=b(c,d,e),f&&d.on("$destroy",J(c,c.$destroy)),d}}function I(a,b,c,d,e){var f,g=c.$attr;switch(a.nodeType){case 1:P(b,Db(Rc(a).toLowerCase()),"E",d,e);var i,k,l;f=a.attributes;for(var m=0,n=f&&f.length;n>m;m++){var o=!1,p=!1;if(i=f[m],!Nc||Nc>=8||i.specified){k=i.name,l=Db(k),db.test(l)&&(k=W(l.substr(6),"-"));var q=l.replace(/(Start|End)$/,"");l===q+"Start"&&(o=k,p=k.substr(0,k.length-5)+"end",k=k.substr(0,k.length-6)),l=Db(k.toLowerCase()),g[l]=k,c[l]=i=$c(i.value),rb(a,l)&&(c[l]=!0),Y(a,b,i,l),P(b,l,"A",d,e,o,p)}}if(a=a.className,u(a)&&""!==a)for(;f=j.exec(a);)l=Db(f[2]),P(b,l,"C",d,e)&&(c[l]=$c(f[3])),a=a.substr(f.index+f[0].length);break;case 3:U(b,a.nodeValue);break;case 8:try{(f=h.exec(a.nodeValue))&&(l=Db(f[1]),P(b,l,"M",d,e)&&(c[l]=$c(f[2])))}catch(r){}}return b.sort(S),b}function K(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw td("uterdir",b,c);1==a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return Oc(d)}function L(a,b,c){return function(d,e,f,g,h){return e=K(e[0],b,c),a(d,e,f,g,h)}}function M(a,e,g,h,j,k,l,m,n){function o(a,b,c,d){a&&(c&&(a=L(a,c,d)),a.require=E.require,(A===E||E.$$isolateScope)&&(a=$(a,{isolateScope:!0})),l.push(a)),b&&(c&&(b=L(b,c,d)),b.require=E.require,(A===E||E.$$isolateScope)&&(b=$(b,{isolateScope:!0})),m.push(b))}function p(a,b,c){var d,e="data",g=!1;if(u(a)){for(;"^"==(d=a.charAt(0))||"?"==d;)a=a.substr(1),"^"==d&&(e="inheritedData"),g=g||"?"==d;if(d=null,c&&"data"===e&&(d=c[a]),d=d||b[e]("$"+a+"Controller"),!d&&!g)throw td("ctreq",a,F)}else x(a)&&(d=[],f(a,function(a){d.push(p(a,b,c))}));return d}function q(a,b,h,j,k){function n(a,b){var d;return 2>arguments.length&&(b=a,a=c),S&&(d=y),k(a,b,d)}var o,q,t,u,v,w,x,y={};if(o=e===h?g:G(g,new _(Oc(h),g.$attr)),q=o.$$element,A){var C=/^\s*([@=&])(\??)\s*(\w*)\s*$/;j=Oc(h),w=b.$new(!0),B&&B===A.$$originalDirective?j.data("$isolateScope",w):j.data("$isolateScopeNoTemplate",w),D(j,"ng-isolate-scope"),f(A.scope,function(a,c){var e,f,g,h,i=a.match(C)||[],j=i[3]||c,k="?"==i[2],i=i[1];
switch(w.$$isolateBindings[c]=i+j,i){case"@":o.$observe(j,function(a){w[c]=a}),o.$$observers[j].$$scope=b,o[j]&&(w[c]=d(o[j])(b));break;case"=":if(k&&!o[j])break;f=r(o[j]),h=f.literal?H:function(a,b){return a===b},g=f.assign||function(){throw e=w[c]=f(b),td("nonassign",o[j],A.name)},e=w[c]=f(b),w.$watch(function(){var a=f(b);return h(a,w[c])||(h(a,e)?g(b,a=w[c]):w[c]=a),e=a},null,f.literal);break;case"&":f=r(o[j]),w[c]=function(a){return f(b,a)};break;default:throw td("iscp",A.name,c,a)}})}for(x=k&&n,z&&f(z,function(a){var c,d={$scope:a===A||a.$$isolateScope?w:b,$element:q,$attrs:o,$transclude:x};v=a.controller,"@"==v&&(v=o[a.name]),c=s(v,d),y[a.name]=c,S||q.data("$"+a.name+"Controller",c),a.controllerAs&&(d.$scope[a.controllerAs]=c)}),j=0,t=l.length;t>j;j++)try{(u=l[j])(u.isolateScope?w:b,q,o,u.require&&p(u.require,q,y),x)}catch(E){i(E,O(q))}for(j=b,A&&(A.template||null===A.templateUrl)&&(j=w),a&&a(j,h.childNodes,c,k),j=m.length-1;j>=0;j--)try{(u=m[j])(u.isolateScope?w:b,q,o,u.require&&p(u.require,q,y),x)}catch(F){i(F,O(q))}}n=n||{};var v,w=-Number.MAX_VALUE,z=n.controllerDirectives,A=n.newIsolateScopeDirective,B=n.templateDirective;n=n.nonTlbTranscludeDirective;for(var E,F,J,M,P=!1,S=!1,U=g.$$element=Oc(e),V=h,W=0,X=a.length;X>W;W++){E=a[W];var Y=E.$$start,ab=E.$$end;if(Y&&(U=K(e,Y,ab)),J=c,w>E.priority)break;if((J=E.scope)&&(v=v||E,E.templateUrl||(T("new/isolated scope",A,E,U),t(J)&&(A=E))),F=E.name,!E.templateUrl&&E.controller&&(J=E.controller,z=z||{},T("'"+F+"' controller",z[F],E,U),z[F]=E),(J=E.transclude)&&(P=!0,E.$$tlb||(T("transclusion",n,E,U),n=E),"element"==J?(S=!0,w=E.priority,J=K(e,Y,ab),U=g.$$element=Oc(b.createComment(" "+F+": "+g[F]+" ")),e=U[0],Z(j,Oc(Uc.call(J,0)),e),V=C(J,h,w,k&&k.name,{nonTlbTranscludeDirective:n})):(J=Oc(eb(e)).contents(),U.empty(),V=C(J,h))),E.template)if(T("template",B,E,U),B=E,J=y(E.template)?E.template(U,g):E.template,J=cb(J),E.replace){if(k=E,J=Oc("<div>"+$c(J)+"</div>").contents(),e=J[0],1!=J.length||1!==e.nodeType)throw td("tplrt",F,"");Z(j,U,e),X={$attr:{}},J=I(e,[],X);var bb=a.splice(W+1,a.length-(W+1));A&&N(J),a=a.concat(J).concat(bb),Q(g,X),X=a.length}else U.html(J);if(E.templateUrl)T("template",B,E,U),B=E,E.replace&&(k=E),q=R(a.splice(W,a.length-W),U,g,j,V,l,m,{controllerDirectives:z,newIsolateScopeDirective:A,templateDirective:B,nonTlbTranscludeDirective:n}),X=a.length;else if(E.compile)try{M=E.compile(U,g,V),y(M)?o(null,M,Y,ab):M&&o(M.pre,M.post,Y,ab)}catch(db){i(db,O(U))}E.terminal&&(q.terminal=!0,w=Math.max(w,E.priority))}return q.scope=v&&!0===v.scope,q.transclude=P&&V,q}function N(a){for(var b=0,c=a.length;c>b;b++)a[b]=n(a[b],{$$isolateScope:!0})}function P(b,d,f,h,j,k,l){if(d===j)return null;if(j=null,e.hasOwnProperty(d)){var m;d=a.get(d+g);for(var o=0,p=d.length;p>o;o++)try{m=d[o],(h===c||h>m.priority)&&-1!=m.restrict.indexOf(f)&&(k&&(m=n(m,{$$start:k,$$end:l})),b.push(m),j=m)}catch(q){i(q)}}return j}function Q(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;f(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),f(b,function(b,f){"class"==f?(D(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function R(a,b,c,d,e,g,h,i){var j,k,n=[],p=b[0],q=a.shift(),r=l({},q,{templateUrl:null,transclude:null,replace:null,$$originalDirective:q}),s=y(q.templateUrl)?q.templateUrl(b,c):q.templateUrl;return b.empty(),m.get(z.getTrustedResourceUrl(s),{cache:o}).success(function(l){var m,o;if(l=cb(l),q.replace){if(l=Oc("<div>"+$c(l)+"</div>").contents(),m=l[0],1!=l.length||1!==m.nodeType)throw td("tplrt",q.name,s);l={$attr:{}},Z(d,b,m);var u=I(m,[],l);t(q.scope)&&N(u),a=u.concat(a),Q(c,l)}else m=p,b.html(l);for(a.unshift(r),j=M(a,m,c,e,b,q,g,h,i),f(d,function(a,c){a==m&&(d[c]=b[0])}),k=E(b[0].childNodes,e);n.length;){l=n.shift(),o=n.shift();var v=n.shift(),w=n.shift(),u=b[0];o!==p&&(u=eb(m),Z(v,Oc(o),u)),o=j.transclude?F(l,j.transclude):w,j(k,l,u,d,o)}n=null}).error(function(a,b,c,d){throw td("tpload",d.url)}),function(a,b,c,d,e){n?(n.push(b),n.push(c),n.push(d),n.push(e)):j(k,b,c,d,e)}}function S(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function T(a,b,c,d){if(b)throw td("multidir",b.name,c.name,a,O(d))}function U(a,b){var c=d(b,!0);c&&a.push({priority:0,compile:q(function(a,b){var d=b.parent(),e=d.data("$binding")||[];e.push(c),D(d.data("$binding",e),"ng-binding"),a.$watch(c,function(a){b[0].nodeValue=a})})})}function V(a,b){if("srcdoc"==b)return z.HTML;var c=Rc(a);return"xlinkHref"==b||"FORM"==c&&"action"==b||"IMG"!=c&&("src"==b||"ngSrc"==b)?z.RESOURCE_URL:void 0}function Y(a,b,c,e){var f=d(c,!0);if(f){if("multiple"===e&&"SELECT"===Rc(a))throw td("selmulti",O(a));b.push({priority:100,compile:function(){return{pre:function(b,c,g){if(c=g.$$observers||(g.$$observers={}),k.test(e))throw td("nodomevents");(f=d(g[e],!0,V(a,e)))&&(g[e]=f(b),(c[e]||(c[e]=[])).$$inter=!0,(g.$$observers&&g.$$observers[e].$$scope||b).$watch(f,function(a,b){"class"===e&&a!=b?g.$updateClass(a,b):g.$set(e,a)}))}}}})}}function Z(a,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(a)for(e=0,f=a.length;f>e;e++)if(a[e]==g){a[e++]=d,f=e+h-1;for(var j=a.length;j>e;e++,f++)j>f?a[e]=a[f]:delete a[e];a.length-=h-1;break}for(i&&i.replaceChild(d,g),a=b.createDocumentFragment(),a.appendChild(g),d[Oc.expando]=g[Oc.expando],g=1,h=c.length;h>g;g++)i=c[g],Oc(i).remove(),a.appendChild(i),delete c[g];c[0]=d,c.length=1}function $(a,b){return l(function(){return a.apply(null,arguments)},a,b)}var _=function(a,b){this.$$element=a,this.$attr=b||{}};_.prototype={$normalize:Db,$addClass:function(a){a&&0<a.length&&A.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&A.removeClass(this.$$element,a)},$updateClass:function(a,b){this.$removeClass(Eb(b,a)),this.$addClass(Eb(a,b))},$set:function(a,b,d,e){var g=rb(this.$$element[0],a);g&&(this.$$element.prop(a,b),e=g),this[a]=b,e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=W(a,"-")),g=Rc(this.$$element),("A"===g&&"href"===a||"IMG"===g&&"src"===a)&&(this[a]=b=B(b,"src"===a)),!1!==d&&(null===b||b===c?this.$$element.removeAttr(e):this.$$element.attr(e,b)),(d=this.$$observers)&&f(d[a],function(a){try{a(b)}catch(c){i(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers={}),e=d[a]||(d[a]=[]);return e.push(b),v.$evalAsync(function(){e.$$inter||b(c[a])}),b}};var ab=d.startSymbol(),bb=d.endSymbol(),cb="{{"==ab||"}}"==bb?p:function(a){return a.replace(/\{\{/g,ab).replace(/}}/g,bb)},db=/^ngAttr[A-Z]/;return C}]}function Db(a){return bb(a.replace(ud,""))}function Eb(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/),f=0;a:for(;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(0<c.length?" ":"")+g}return c}function Fb(){var a={},b=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(b,c){Z(b,"controller"),t(b)?l(a,b):a[b]=c},this.$get=["$injector","$window",function(c,e){return function(f,g){var h,i,j;if(u(f)&&(h=f.match(b),i=h[1],j=h[3],f=a.hasOwnProperty(i)?a[i]:$(g.$scope,i,!0)||$(e,i,!0),Y(f,i,!0)),h=c.instantiate(f,g),j){if(!g||"object"!=typeof g.$scope)throw d("$controller")("noscp",i||f.name,j);g.$scope[j]=h}return h}}]}function Gb(){this.$get=["$window",function(a){return Oc(a.document)}]}function Hb(){this.$get=["$log",function(a){return function(){a.error.apply(a,arguments)}}]}function Ib(a){var b,c,d,e={};return a?(f(a.split("\n"),function(a){d=a.indexOf(":"),b=Sc($c(a.substr(0,d))),c=$c(a.substr(d+1)),b&&(e[b]=e[b]?e[b]+(", "+c):c)}),e):e}function Jb(a){var b=t(a)?a:c;return function(c){return b||(b=Ib(a)),c?b[Sc(c)]||null:b}}function Kb(a,b,c){return y(c)?c(a,b):(f(c,function(c){a=c(a,b)}),a)}function Lb(){var a=/^\s*(\[|\{[^\{])/,b=/[\}\]]\s*$/,d=/^\)\]\}',?\n/,e={"Content-Type":"application/json;charset=utf-8"},g=this.defaults={transformResponse:[function(c){return u(c)&&(c=c.replace(d,""),a.test(c)&&b.test(c)&&(c=M(c))),c}],transformRequest:[function(a){return t(a)&&"[object File]"!==Wc.call(a)?L(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:e,put:e,patch:e},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},i=this.interceptors=[],j=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,b,d,e,k,m){function n(a){function d(a){var b=l({},a,{data:Kb(a.data,a.headers,e.transformResponse)});return 200<=a.status&&300>a.status?b:k.reject(b)}var e={transformRequest:g.transformRequest,transformResponse:g.transformResponse},h=function(a){function b(a){var b;f(a,function(c,d){y(c)&&(b=c(),null!=b?a[d]=b:delete a[d])})}var c,d,e=g.headers,h=l({},a.headers),e=l({},e.common,e[Sc(a.method)]);b(e),b(h);a:for(c in e){a=Sc(c);for(d in h)if(Sc(d)===a)continue a;h[c]=e[c]}return h}(a);l(e,a),e.headers=h,e.method=Tc(e.method),(a=vc(e.url)?b.cookies()[e.xsrfCookieName||g.xsrfCookieName]:c)&&(h[e.xsrfHeaderName||g.xsrfHeaderName]=a);var i=[function(a){h=a.headers;var b=Kb(a.data,Jb(h),a.transformRequest);return r(a.data)&&f(h,function(a,b){"content-type"===Sc(b)&&delete h[b]}),r(a.withCredentials)&&!r(g.withCredentials)&&(a.withCredentials=g.withCredentials),o(a,b,h).then(d,d)},c],j=k.when(e);for(f(v,function(a){(a.request||a.requestError)&&i.unshift(a.request,a.requestError),(a.response||a.responseError)&&i.push(a.response,a.responseError)});i.length;){a=i.shift();var m=i.shift(),j=j.then(a,m)}return j.success=function(a){return j.then(function(b){a(b.data,b.status,b.headers,e)}),j},j.error=function(a){return j.then(null,function(b){a(b.data,b.status,b.headers,e)}),j},j}function o(b,c,d){function f(a,b,c){j&&(a>=200&&300>a?j.put(u,[a,b,Ib(c)]):j.remove(u)),h(b,a,c),e.$$phase||e.$apply()}function h(a,c,d){c=Math.max(c,0),(c>=200&&300>c?m.resolve:m.reject)({data:a,status:c,headers:Jb(d),config:b})}function i(){var a=D(n.pendingRequests,b);-1!==a&&n.pendingRequests.splice(a,1)}var j,l,m=k.defer(),o=m.promise,u=p(b.url,b.params);if(n.pendingRequests.push(b),o.then(i,i),(b.cache||g.cache)&&!1!==b.cache&&"GET"==b.method&&(j=t(b.cache)?b.cache:t(g.cache)?g.cache:q),j)if(l=j.get(u),s(l)){if(l.then)return l.then(i,i),l;x(l)?h(l[1],l[0],F(l[2])):h(l,200,{})}else j.put(u,o);return r(l)&&a(b.method,u,c,f,d,b.timeout,b.withCredentials,b.responseType),o}function p(a,b){if(!b)return a;var c=[];return h(b,function(a,b){null===a||r(a)||(x(a)||(a=[a]),f(a,function(a){t(a)&&(a=L(a)),c.push(T(b)+"="+T(a))}))}),a+(-1==a.indexOf("?")?"?":"&")+c.join("&")}var q=d("$http"),v=[];return f(i,function(a){v.unshift(u(a)?m.get(a):m.invoke(a))}),f(j,function(a,b){var c=u(a)?m.get(a):m.invoke(a);v.splice(b,0,{response:function(a){return c(k.when(a))},responseError:function(a){return c(k.reject(a))}})}),n.pendingRequests=[],function(){f(arguments,function(a){n[a]=function(b,c){return n(l(c||{},{method:a,url:b}))}})}("get","delete","head","jsonp"),function(){f(arguments,function(a){n[a]=function(b,c,d){return n(l(d||{},{method:a,url:b,data:c}))}})}("post","put"),n.defaults=g,n}]}function Mb(){this.$get=["$browser","$window","$document",function(a,b,c){return Nb(a,vd,a.defer,b.angular.callbacks,c[0])}]}function Nb(a,b,c,d,e){function g(a,b){var c=e.createElement("script"),d=function(){c.onreadystatechange=c.onload=c.onerror=null,e.body.removeChild(c),b&&b()};return c.type="text/javascript",c.src=a,Nc&&8>=Nc?c.onreadystatechange=function(){/loaded|complete/.test(c.readyState)&&d()}:c.onload=c.onerror=function(){d()},e.body.appendChild(c),d}var h=-1;return function(e,i,j,k,l,m,n,p){function q(){t=h,v&&v(),w&&w.abort()}function r(b,d,e,f){var g=uc(i).protocol;x&&c.cancel(x),v=w=null,d="file"==g&&0===d?e?200:404:d,b(1223==d?204:d,e,f),a.$$completeOutstandingRequest(o)}var t;if(a.$$incOutstandingRequestCount(),i=i||a.url(),"jsonp"==Sc(e)){var u="_"+(d.counter++).toString(36);d[u]=function(a){d[u].data=a};var v=g(i.replace("JSON_CALLBACK","angular.callbacks."+u),function(){d[u].data?r(k,200,d[u].data):r(k,t||-2),delete d[u]})}else{var w=new b;w.open(e,i,!0),f(l,function(a,b){s(a)&&w.setRequestHeader(b,a)}),w.onreadystatechange=function(){if(4==w.readyState){var a=null,b=null;t!==h&&(a=w.getAllResponseHeaders(),b=w.responseType?w.response:w.responseText),r(k,t||w.status,b,a)}},n&&(w.withCredentials=!0),p&&(w.responseType=p),w.send(j||null)}if(m>0)var x=c(q,m);else m&&m.then&&m.then(q)}}function Ob(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(f,i,j){for(var k,l,m=0,n=[],o=f.length,p=!1,q=[];o>m;)-1!=(k=f.indexOf(a,m))&&-1!=(l=f.indexOf(b,k+g))?(m!=k&&n.push(f.substring(m,k)),n.push(m=c(p=f.substring(k+g,l))),m.exp=p,m=l+h,p=!0):(m!=o&&n.push(f.substring(m)),m=o);if((o=n.length)||(n.push(""),o=1),j&&1<n.length)throw wd("noconcat",f);return!i||p?(q.length=o,m=function(a){try{for(var b,c=0,g=o;g>c;c++)"function"==typeof(b=n[c])&&(b=b(a),b=j?e.getTrusted(j,b):e.valueOf(b),null===b||r(b)?b="":"string"!=typeof b&&(b=L(b))),q[c]=b;return q.join("")}catch(h){a=wd("interr",f,h.toString()),d(a)}},m.exp=f,m.parts=n,m):void 0}var g=a.length,h=b.length;return f.startSymbol=function(){return a},f.endSymbol=function(){return b},f}]}function Pb(){this.$get=["$rootScope","$window","$q",function(a,b,c){function d(d,f,g,h){var i=b.setInterval,j=b.clearInterval,k=c.defer(),l=k.promise,m=0,n=s(h)&&!h;return g=s(g)?g:0,l.then(null,null,d),l.$$intervalId=i(function(){k.notify(m++),g>0&&m>=g&&(k.resolve(m),j(l.$$intervalId),delete e[l.$$intervalId]),n||a.$apply()},f),e[l.$$intervalId]=k,l}var e={};return d.cancel=function(a){return a&&a.$$intervalId in e?(e[a.$$intervalId].reject("canceled"),clearInterval(a.$$intervalId),delete e[a.$$intervalId],!0):!1},d}]}function Qb(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"",posSuf:"",negPre:"(",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(a){return 1===a?"one":"other"}}}}function Rb(a){a=a.split("/");for(var b=a.length;b--;)a[b]=S(a[b]);return a.join("/")}function Sb(a,b,c){a=uc(a,c),b.$$protocol=a.protocol,b.$$host=a.hostname,b.$$port=m(a.port)||yd[a.protocol]||null}function Tb(a,b,c){var d="/"!==a.charAt(0);d&&(a="/"+a),a=uc(a,c),b.$$path=decodeURIComponent(d&&"/"===a.pathname.charAt(0)?a.pathname.substring(1):a.pathname),b.$$search=Q(a.search),b.$$hash=decodeURIComponent(a.hash),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function Ub(a,b){return 0===b.indexOf(a)?b.substr(a.length):void 0}function Vb(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function Wb(a){return a.substr(0,Vb(a).lastIndexOf("/")+1)}function Xb(a,b){this.$$html5=!0,b=b||"";var d=Wb(a);Sb(a,this,a),this.$$parse=function(b){var c=Ub(d,b);if(!u(c))throw zd("ipthprfx",b,d);Tb(c,this,a),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=R(this.$$search),b=this.$$hash?"#"+S(this.$$hash):"";this.$$url=Rb(this.$$path)+(a?"?"+a:"")+b,this.$$absUrl=d+this.$$url.substr(1)},this.$$rewrite=function(e){var f;return(f=Ub(a,e))!==c?(e=f,(f=Ub(b,f))!==c?d+(Ub("/",f)||f):a+e):(f=Ub(d,e))!==c?d+f:d==e+"/"?d:void 0}}function Yb(a,b){var c=Wb(a);Sb(a,this,a),this.$$parse=function(d){var e=Ub(a,d)||Ub(c,d),e="#"==e.charAt(0)?Ub(b,e):this.$$html5?e:"";if(!u(e))throw zd("ihshprfx",d,b);Tb(e,this,a),d=this.$$path;var f=/^\/?.*?:(\/.*)/;0===e.indexOf(a)&&(e=e.replace(a,"")),f.exec(e)||(d=(e=f.exec(d))?e[1]:d),this.$$path=d,this.$$compose()},this.$$compose=function(){var c=R(this.$$search),d=this.$$hash?"#"+S(this.$$hash):"";this.$$url=Rb(this.$$path)+(c?"?"+c:"")+d,this.$$absUrl=a+(this.$$url?b+this.$$url:"")},this.$$rewrite=function(b){return Vb(a)==Vb(b)?b:void 0}}function Zb(a,b){this.$$html5=!0,Yb.apply(this,arguments);var c=Wb(a);this.$$rewrite=function(d){var e;return a==Vb(d)?d:(e=Ub(c,d))?a+b+e:c===d+"/"?c:void 0}}function $b(a){return function(){return this[a]}}function _b(a,b){return function(c){return r(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function ac(){var b="",c=!1;this.hashPrefix=function(a){return s(a)?(b=a,this):b},this.html5Mode=function(a){return s(a)?(c=a,this):c},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(d,e,f,g){function h(a){d.$broadcast("$locationChangeSuccess",i.absUrl(),a)}var i,j=e.baseHref(),k=e.url();c?(j=k.substring(0,k.indexOf("/",k.indexOf("//")+2))+(j||"/"),f=f.history?Xb:Zb):(j=Vb(k),f=Yb),i=new f(j,"#"+b),i.$$parse(i.$$rewrite(k)),g.on("click",function(b){if(!b.ctrlKey&&!b.metaKey&&2!=b.which){for(var c=Oc(b.target);"a"!==Sc(c[0].nodeName);)if(c[0]===g[0]||!(c=c.parent())[0])return;var f=c.prop("href");t(f)&&"[object SVGAnimatedString]"===f.toString()&&(f=uc(f.animVal).href);var h=i.$$rewrite(f);f&&!c.attr("target")&&h&&!b.isDefaultPrevented()&&(b.preventDefault(),h!=e.url()&&(i.$$parse(h),d.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),i.absUrl()!=k&&e.url(i.absUrl(),!0),e.onUrlChange(function(a){i.absUrl()!=a&&(d.$broadcast("$locationChangeStart",a,i.absUrl()).defaultPrevented?e.url(i.absUrl()):(d.$evalAsync(function(){var b=i.absUrl();i.$$parse(a),h(b)}),d.$$phase||d.$digest()))});var l=0;return d.$watch(function(){var a=e.url(),b=i.$$replace;return l&&a==i.absUrl()||(l++,d.$evalAsync(function(){d.$broadcast("$locationChangeStart",i.absUrl(),a).defaultPrevented?i.$$parse(a):(e.url(i.absUrl(),b),h(a))})),i.$$replace=!1,l}),i}]}function bc(){var a=!0,b=this;this.debugEnabled=function(b){return s(b)?(a=b,this):a},this.$get=["$window",function(c){function d(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||o;a=!1;try{a=!!e.apply}catch(g){}return a?function(){var a=[];return f(arguments,function(b){a.push(d(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function cc(a,b){if("constructor"===a)throw Bd("isecfld",b);return a}function dc(a,b){if(a){if(a.constructor===a)throw Bd("isecfn",b);if(a.document&&a.location&&a.alert&&a.setInterval)throw Bd("isecwindow",b);if(a.children&&(a.nodeName||a.on&&a.find))throw Bd("isecdom",b)}return a}function ec(a,b,d,e,f){f=f||{},b=b.split(".");for(var g,h=0;1<b.length;h++){g=cc(b.shift(),e);var i=a[g];i||(i={},a[g]=i),a=i,a.then&&f.unwrapPromises&&(Ad(e),"$$v"in a||function(a){a.then(function(b){a.$$v=b})}(a),a.$$v===c&&(a.$$v={}),a=a.$$v)}return g=cc(b.shift(),e),a[g]=d}function fc(a,b,d,e,f,g,h){return cc(a,g),cc(b,g),cc(d,g),cc(e,g),cc(f,g),h.unwrapPromises?function(h,i){var j,k=i&&i.hasOwnProperty(a)?i:h;return null==k?k:((k=k[a])&&k.then&&(Ad(g),"$$v"in k||(j=k,j.$$v=c,j.then(function(a){j.$$v=a})),k=k.$$v),null==k?b?c:k:((k=k[b])&&k.then&&(Ad(g),"$$v"in k||(j=k,j.$$v=c,j.then(function(a){j.$$v=a})),k=k.$$v),null==k?d?c:k:((k=k[d])&&k.then&&(Ad(g),"$$v"in k||(j=k,j.$$v=c,j.then(function(a){j.$$v=a})),k=k.$$v),null==k?e?c:k:((k=k[e])&&k.then&&(Ad(g),"$$v"in k||(j=k,j.$$v=c,j.then(function(a){j.$$v=a})),k=k.$$v),null==k?f?c:k:((k=k[f])&&k.then&&(Ad(g),"$$v"in k||(j=k,j.$$v=c,j.then(function(a){j.$$v=a})),k=k.$$v),k)))))}:function(g,h){var i=h&&h.hasOwnProperty(a)?h:g;return null==i?i:(i=i[a],null==i?b?c:i:(i=i[b],null==i?d?c:i:(i=i[d],null==i?e?c:i:(i=i[e],null==i?f?c:i:i=i[f]))))}}function gc(a,b){return cc(a,b),function(b,d){return null==b?c:(d&&d.hasOwnProperty(a)?d:b)[a]}}function hc(a,b,d){return cc(a,d),cc(b,d),function(d,e){return null==d?c:(d=(e&&e.hasOwnProperty(a)?e:d)[a],null==d?c:d[b])}}function ic(a,b,d){if(Hd.hasOwnProperty(a))return Hd[a];var e,g=a.split("."),h=g.length;if(b.unwrapPromises||1!==h)if(b.unwrapPromises||2!==h)if(b.csp)e=6>h?fc(g[0],g[1],g[2],g[3],g[4],d,b):function(a,e){var f,i=0;do f=fc(g[i++],g[i++],g[i++],g[i++],g[i++],d,b)(a,e),e=c,a=f;while(h>i);return f};else{var i="var p;\n";f(g,function(a,c){cc(a,d),i+="if(s == null) return undefined;\ns="+(c?"s":'((k&&k.hasOwnProperty("'+a+'"))?k:s)')+'["'+a+'"];\n'+(b.unwrapPromises?'if (s && s.then) {\n pw("'+d.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")});var i=i+"return s;",j=new Function("s","k","pw",i);j.toString=q(i),e=b.unwrapPromises?function(a,b){return j(a,b,Ad)}:j}else e=hc(g[0],g[1],d);else e=gc(g[0],d);return"hasOwnProperty"!==a&&(Hd[a]=e),e}function jc(){var a={},b={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(a){return s(a)?(b.unwrapPromises=!!a,this):b.unwrapPromises},this.logPromiseWarnings=function(a){return s(a)?(b.logPromiseWarnings=a,this):b.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(c,d,e){return b.csp=d.csp,Ad=function(a){b.logPromiseWarnings&&!Cd.hasOwnProperty(a)&&(Cd[a]=!0,e.warn("[$parse] Promise found in the expression `"+a+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(d){var e;switch(typeof d){case"string":return a.hasOwnProperty(d)?a[d]:(e=new Fd(b),e=new Gd(e,c,b).parse(d,!1),"hasOwnProperty"!==d&&(a[d]=e),e);case"function":return d;default:return o}}}]}function kc(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return lc(function(b){a.$evalAsync(b)},b)}]}function lc(a,b){function d(a){return a}function e(a){return i(a)}var g=function(){var f,j,k=[];return j={resolve:function(b){if(k){var d=k;k=c,f=h(b),d.length&&a(function(){for(var a,b=0,c=d.length;c>b;b++)a=d[b],f.then(a[0],a[1],a[2])})}},reject:function(a){j.resolve(i(a))},notify:function(b){if(k){var c=k;k.length&&a(function(){for(var a,d=0,e=c.length;e>d;d++)a=c[d],a[2](b)})}},promise:{then:function(a,c,h){var i=g(),j=function(c){try{i.resolve((y(a)?a:d)(c))}catch(e){i.reject(e),b(e)}},l=function(a){try{i.resolve((y(c)?c:e)(a))}catch(d){i.reject(d),b(d)}},m=function(a){try{i.notify((y(h)?h:d)(a))}catch(c){b(c)}};return k?k.push([j,l,m]):f.then(j,l,m),i.promise},"catch":function(a){return this.then(null,a)},"finally":function(a){function b(a,b){var c=g();return b?c.resolve(a):c.reject(a),c.promise}function c(c,e){var f=null;try{f=(a||d)()}catch(g){return b(g,!1)}return f&&y(f.then)?f.then(function(){return b(c,e)},function(a){return b(a,!1)}):b(c,e)}return this.then(function(a){return c(a,!0)},function(a){return c(a,!1)})}}}},h=function(b){return b&&y(b.then)?b:{then:function(c){var d=g();return a(function(){d.resolve(c(b))}),d.promise}}},i=function(c){return{then:function(d,f){var h=g();return a(function(){try{h.resolve((y(f)?f:e)(c))}catch(a){h.reject(a),b(a)}}),h.promise}}};return{defer:g,reject:i,when:function(c,f,j,k){var l,m=g(),n=function(a){try{return(y(f)?f:d)(a)}catch(c){return b(c),i(c)}},o=function(a){try{return(y(j)?j:e)(a)}catch(c){return b(c),i(c)}},p=function(a){try{return(y(k)?k:d)(a)}catch(c){b(c)}};return a(function(){h(c).then(function(a){l||(l=!0,m.resolve(h(a).then(n,o,p)))},function(a){l||(l=!0,m.resolve(o(a)))},function(a){l||m.notify(p(a))})}),m.promise},all:function(a){var b=g(),c=0,d=x(a)?[]:{};return f(a,function(a,e){c++,h(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise}}}function mc(){var a=10,b=d("$rootScope"),c=null;this.digestTtl=function(b){return arguments.length&&(a=b),a},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,f,g,h){function i(){this.$id=j(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$isolateBindings={}}function k(a){if(n.$$phase)throw b("inprog",n.$$phase);n.$$phase=a}function l(a,b){var c=g(a);return Y(c,b),c}function m(){}i.prototype={constructor:i,$new:function(a){return a?(a=new i,a.$root=this.$root,a.$$asyncQueue=this.$$asyncQueue,a.$$postDigestQueue=this.$$postDigestQueue):(a=function(){},a.prototype=this,a=new a,a.$id=j()),a["this"]=a,a.$$listeners={},a.$parent=this,a.$$watchers=a.$$nextSibling=a.$$childHead=a.$$childTail=null,a.$$prevSibling=this.$$childTail,this.$$childHead?this.$$childTail=this.$$childTail.$$nextSibling=a:this.$$childHead=this.$$childTail=a,a},$watch:function(a,b,d){var e=l(a,"watch"),f=this.$$watchers,g={fn:b,last:m,get:e,exp:a,eq:!!d};if(c=null,!y(b)){var h=l(b||o,"listener");g.fn=function(a,b,c){h(c)}}if("string"==typeof a&&e.constant){var i=g.fn;g.fn=function(a,b,c){i.call(this,a,b,c),E(f,g)}}return f||(f=this.$$watchers=[]),f.unshift(g),function(){E(f,g)}},$watchCollection:function(a,b){var c,d,f=this,h=0,i=g(a),j=[],k={},l=0;return this.$watch(function(){d=i(f);var a,b;if(t(d))if(e(d))for(c!==j&&(c=j,l=c.length=0,h++),a=d.length,l!==a&&(h++,c.length=l=a),b=0;a>b;b++)c[b]!==d[b]&&(h++,c[b]=d[b]);else{c!==k&&(c=k={},l=0,h++),a=0;for(b in d)d.hasOwnProperty(b)&&(a++,c.hasOwnProperty(b)?c[b]!==d[b]&&(h++,c[b]=d[b]):(l++,c[b]=d[b],h++));if(l>a)for(b in h++,c)c.hasOwnProperty(b)&&!d.hasOwnProperty(b)&&(l--,delete c[b])}else c!==d&&(c=d,h++);return h},function(){b(d,c,f)})},$digest:function(){var d,e,g,h,i,j,l,o,p,q,r=this.$$asyncQueue,s=this.$$postDigestQueue,t=a,u=[];k("$digest"),c=null;do{for(j=!1,l=this;r.length;){try{q=r.shift(),q.scope.$eval(q.expression)}catch(v){n.$$phase=null,f(v)}c=null}a:do{if(h=l.$$watchers)for(i=h.length;i--;)try{if(d=h[i])if((e=d.get(l))===(g=d.last)||(d.eq?H(e,g):"number"==typeof e&&"number"==typeof g&&isNaN(e)&&isNaN(g))){if(d===c){j=!1;break a}}else j=!0,c=d,d.last=d.eq?F(e):e,d.fn(e,g===m?e:g,l),5>t&&(o=4-t,u[o]||(u[o]=[]),p=y(d.exp)?"fn: "+(d.exp.name||d.exp.toString()):d.exp,p+="; newVal: "+L(e)+"; oldVal: "+L(g),u[o].push(p))}catch(w){n.$$phase=null,f(w)}if(!(h=l.$$childHead||l!==this&&l.$$nextSibling))for(;l!==this&&!(h=l.$$nextSibling);)l=l.$parent}while(l=h);if(j&&!t--)throw n.$$phase=null,b("infdig",a,L(u))}while(j||r.length);for(n.$$phase=null;s.length;)try{s.shift()()}catch(x){f(x)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==n&&(a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null)}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a){n.$$phase||n.$$asyncQueue.length||h.defer(function(){n.$$asyncQueue.length&&n.$digest()}),this.$$asyncQueue.push({scope:this,expression:a})},$$postDigest:function(a){this.$$postDigestQueue.push(a)},$apply:function(a){try{return k("$apply"),this.$eval(a)}catch(b){f(b)}finally{n.$$phase=null;try{n.$digest()}catch(c){throw f(c),c}}},$on:function(a,b){var c=this.$$listeners[a];return c||(this.$$listeners[a]=c=[]),c.push(b),function(){c[D(c,b)]=null}},$emit:function(a){var b,c,d,e=[],g=this,h=!1,i={name:a,targetScope:g,stopPropagation:function(){h=!0},preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1},j=[i].concat(Uc.call(arguments,1));do{for(b=g.$$listeners[a]||e,i.currentScope=g,c=0,d=b.length;d>c;c++)if(b[c])try{b[c].apply(null,j)}catch(k){f(k)}else b.splice(c,1),c--,d--;if(h)break;g=g.$parent}while(g);return i},$broadcast:function(a){var b,c,d=this,e=this,g={name:a,targetScope:this,preventDefault:function(){g.defaultPrevented=!0},defaultPrevented:!1},h=[g].concat(Uc.call(arguments,1));do{for(d=e,g.currentScope=d,e=d.$$listeners[a]||[],b=0,c=e.length;c>b;b++)if(e[b])try{e[b].apply(null,h)}catch(i){f(i)}else e.splice(b,1),b--,c--;if(!(e=d.$$childHead||d!==this&&d.$$nextSibling))for(;d!==this&&!(e=d.$$nextSibling);)d=d.$parent}while(d=e);return g}};var n=new i;return n}]}function nc(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*(https?|ftp|file):|data:image\//;this.aHrefSanitizationWhitelist=function(b){return s(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e,f=d?b:a;return Nc&&!(Nc>=8)||(e=uc(c).href,""===e||e.match(f))?c:"unsafe:"+e}}}function oc(a){if("self"===a)return a;if(u(a)){if(-1<a.indexOf("***"))throw Id("iwcard",a);return a=a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08").replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),RegExp("^"+a+"$")}if(z(a))return RegExp("^"+a.source+"$");throw Id("imatcher")}function pc(a){var b=[];return s(a)&&f(a,function(a){b.push(oc(a))}),b}function qc(){this.SCE_CONTEXTS=Jd;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=pc(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=pc(a)),b},this.$get=["$injector",function(d){function e(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}var f=function(){throw Id("unsafe")};d.has("$sanitize")&&(f=d.get("$sanitize"));var g=e(),h={};return h[Jd.HTML]=e(g),h[Jd.CSS]=e(g),h[Jd.URL]=e(g),h[Jd.JS]=e(g),h[Jd.RESOURCE_URL]=e(h[Jd.URL]),{trustAs:function(a,b){var d=h.hasOwnProperty(a)?h[a]:null;if(!d)throw Id("icontext",a,b);if(null===b||b===c||""===b)return b;if("string"!=typeof b)throw Id("itype",a);return new d(b)},getTrusted:function(d,e){if(null===e||e===c||""===e)return e;var g=h.hasOwnProperty(d)?h[d]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(d===Jd.RESOURCE_URL){var i,j,g=uc(e.toString()),k=!1;for(i=0,j=a.length;j>i;i++)if("self"===a[i]?vc(g):a[i].exec(g.href)){k=!0;break}if(k)for(i=0,j=b.length;j>i;i++)if("self"===b[i]?vc(g):b[i].exec(g.href)){k=!1;break}if(k)return e;throw Id("insecurl",e.toString())}if(d===Jd.HTML)return f(e);throw Id("unsafe")},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function rc(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sniffer","$sceDelegate",function(b,c,d){if(a&&c.msie&&8>c.msieDocumentMode)throw Id("iequirks");var e=F(Jd);e.isEnabled=function(){return a},e.trustAs=d.trustAs,e.getTrusted=d.getTrusted,e.valueOf=d.valueOf,a||(e.trustAs=e.getTrusted=function(a,b){return b},e.valueOf=p),e.parseAs=function(a,c){var d=b(c);return d.literal&&d.constant?d:function(b,c){return e.getTrusted(a,d(b,c))}};var g=e.parseAs,h=e.getTrusted,i=e.trustAs;return f(Jd,function(a,b){var c=Sc(b);e[bb("parse_as_"+c)]=function(b){return g(a,b)},e[bb("get_trusted_"+c)]=function(b){return h(a,b)},e[bb("trust_as_"+c)]=function(b){return i(a,b)}}),e}]}function sc(){this.$get=["$window","$document",function(a,b){var c,d={},e=m((/android (\d+)/.exec(Sc((a.navigator||{}).userAgent))||[])[1]),f=/Boxee/i.test((a.navigator||{}).userAgent),g=b[0]||{},h=g.documentMode,i=/^(Moz|webkit|O|ms)(?=[A-Z])/,j=g.body&&g.body.style,k=!1,l=!1;if(j){for(var n in j)if(k=i.exec(n)){c=k[0],c=c.substr(0,1).toUpperCase()+c.substr(1);break}c||(c="WebkitOpacity"in j&&"webkit"),k=!!("transition"in j||c+"Transition"in j),l=!!("animation"in j||c+"Animation"in j),!e||k&&l||(k=u(g.body.style.webkitTransition),l=u(g.body.style.webkitAnimation))
}return{history:!(!a.history||!a.history.pushState||4>e||f),hashchange:"onhashchange"in a&&(!h||h>7),hasEvent:function(a){if("input"==a&&9==Nc)return!1;if(r(d[a])){var b=g.createElement("div");d[a]="on"+a in b}return d[a]},csp:I(),vendorPrefix:c,transitions:k,animations:l,android:e,msie:Nc,msieDocumentMode:h}}]}function tc(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(a,b,c,d){function e(e,g,h){var i=c.defer(),j=i.promise,k=s(h)&&!h;return g=b.defer(function(){try{i.resolve(e())}catch(b){i.reject(b),d(b)}finally{delete f[j.$$timeoutId]}k||a.$apply()},g),j.$$timeoutId=g,f[g]=i,j}var f={};return e.cancel=function(a){return a&&a.$$timeoutId in f?(f[a.$$timeoutId].reject("canceled"),delete f[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1},e}]}function uc(a){var b=a;return Nc&&(Kd.setAttribute("href",b),b=Kd.href),Kd.setAttribute("href",b),{href:Kd.href,protocol:Kd.protocol?Kd.protocol.replace(/:$/,""):"",host:Kd.host,search:Kd.search?Kd.search.replace(/^\?/,""):"",hash:Kd.hash?Kd.hash.replace(/^#/,""):"",hostname:Kd.hostname,port:Kd.port,pathname:"/"===Kd.pathname.charAt(0)?Kd.pathname:"/"+Kd.pathname}}function vc(a){return a=u(a)?uc(a):a,a.protocol===Ld.protocol&&a.host===Ld.host}function wc(){this.$get=q(a)}function xc(a){function b(d,e){if(t(d)){var g={};return f(d,function(a,c){g[c]=b(c,a)}),g}return a.factory(d+c,e)}var c="Filter";this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],b("currency",zc),b("date",Fc),b("filter",yc),b("json",Gc),b("limitTo",Hc),b("lowercase",Qd),b("number",Ac),b("orderBy",Ic),b("uppercase",Rd)}function yc(){return function(a,b,c){if(!x(a))return a;var d=typeof c,e=[];e.check=function(a){for(var b=0;b<e.length;b++)if(!e[b](a))return!1;return!0},"function"!==d&&(c="boolean"===d&&c?function(a,b){return Yc.equals(a,b)}:function(a,b){return b=(""+b).toLowerCase(),-1<(""+a).toLowerCase().indexOf(b)});var f=function(a,b){if("string"==typeof b&&"!"===b.charAt(0))return!f(a,b.substr(1));switch(typeof a){case"boolean":case"number":case"string":return c(a,b);case"object":switch(typeof b){case"object":return c(a,b);default:for(var d in a)if("$"!==d.charAt(0)&&f(a[d],b))return!0}return!1;case"array":for(d=0;d<a.length;d++)if(f(a[d],b))return!0;return!1;default:return!1}};switch(typeof b){case"boolean":case"number":case"string":b={$:b};case"object":for(var g in b)"$"==g?function(){if(b[g]){var a=g;e.push(function(c){return f(c,b[a])})}}():function(){if("undefined"!=typeof b[g]){var a=g;e.push(function(c){return f($(c,a),b[a])})}}();break;case"function":e.push(b);break;default:return a}for(var d=[],h=0;h<a.length;h++){var i=a[h];e.check(i)&&d.push(i)}return d}}function zc(a){var b=a.NUMBER_FORMATS;return function(a,c){return r(c)&&(c=b.CURRENCY_SYM),Bc(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,2).replace(/\u00A4/g,c)}}function Ac(a){var b=a.NUMBER_FORMATS;return function(a,c){return Bc(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Bc(a,b,c,d,e){if(isNaN(a)||!isFinite(a))return"";var f=0>a;a=Math.abs(a);var g=a+"",h="",i=[],j=!1;if(-1!==g.indexOf("e")){var k=g.match(/([\d\.]+)e(-?)(\d+)/);k&&"-"==k[2]&&k[3]>e+1?g="0":(h=g,j=!0)}if(j)e>0&&a>-1&&1>a&&(h=a.toFixed(e));else{g=(g.split(Md)[1]||"").length,r(e)&&(e=Math.min(Math.max(b.minFrac,g),b.maxFrac)),g=Math.pow(10,e),a=Math.round(a*g)/g,a=(""+a).split(Md),g=a[0],a=a[1]||"";var k=0,l=b.lgSize,m=b.gSize;if(g.length>=l+m)for(k=g.length-l,j=0;k>j;j++)0===(k-j)%m&&0!==j&&(h+=c),h+=g.charAt(j);for(j=k;j<g.length;j++)0===(g.length-j)%l&&0!==j&&(h+=c),h+=g.charAt(j);for(;a.length<e;)a+="0";e&&"0"!==e&&(h+=d+a.substr(0,e))}return i.push(f?b.negPre:b.posPre),i.push(h),i.push(f?b.negSuf:b.posSuf),i.join("")}function Cc(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a="0"+a;return c&&(a=a.substr(a.length-b)),d+a}function Dc(a,b,c,d){return c=c||0,function(e){return e=e["get"+a](),(c>0||e>-c)&&(e+=c),0===e&&-12==c&&(e=12),Cc(e,b,d)}}function Ec(a,b){return function(c,d){var e=c["get"+a](),f=Tc(b?"SHORT"+a:a);return d[f][e]}}function Fc(a){function b(a){var b;if(b=a.match(c)){a=new Date(0);var d=0,e=0,f=b[8]?a.setUTCFullYear:a.setFullYear,g=b[8]?a.setUTCHours:a.setHours;b[9]&&(d=m(b[9]+b[10]),e=m(b[9]+b[11])),f.call(a,m(b[1]),m(b[2])-1,m(b[3])),d=m(b[4]||0)-d,e=m(b[5]||0)-e,f=m(b[6]||0),b=Math.round(1e3*parseFloat("0."+(b[7]||0))),g.call(a,d,e,f,b)}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d){var e,g,h="",i=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,u(c)&&(c=Pd.test(c)?m(c):b(c)),v(c)&&(c=new Date(c)),!w(c))return c;for(;d;)(g=Od.exec(d))?(i=i.concat(Uc.call(g,1)),d=i.pop()):(i.push(d),d=null);return f(i,function(b){e=Nd[b],h+=e?e(c,a.DATETIME_FORMATS):b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}}function Gc(){return function(a){return L(a,!0)}}function Hc(){return function(a,b){if(!x(a)&&!u(a))return a;if(b=m(b),u(a))return b?b>=0?a.slice(0,b):a.slice(b,a.length):"";var c,d,e=[];for(b>a.length?b=a.length:b<-a.length&&(b=-a.length),b>0?(c=0,d=b):(c=a.length+b,d=a.length);d>c;c++)e.push(a[c]);return e}}function Ic(a){return function(b,c,d){function e(a,b){return N(b)?function(b,c){return a(c,b)}:a}if(!x(b)||!c)return b;c=x(c)?c:[c],c=C(c,function(b){var c=!1,d=b||p;return u(b)&&(("+"==b.charAt(0)||"-"==b.charAt(0))&&(c="-"==b.charAt(0),b=b.substring(1)),d=a(b)),e(function(a,b){var c;c=d(a);var e=d(b),f=typeof c,g=typeof e;return f==g?("string"==f&&(c=c.toLowerCase(),e=e.toLowerCase()),c=c===e?0:e>c?-1:1):c=g>f?-1:1,c},c)});for(var f=[],g=0;g<b.length;g++)f.push(b[g]);return f.sort(e(function(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0},d))}}function Jc(a){return y(a)&&(a={link:a}),a.restrict=a.restrict||"AC",q(a)}function Kc(a,b){function c(b,c){c=c?"-"+W(c,"-"):"",a.removeClass((b?ce:be)+c).addClass((b?be:ce)+c)}var d=this,e=a.parent().controller("form")||Ud,g=0,h=d.$error={},i=[];d.$name=b.name||b.ngForm,d.$dirty=!1,d.$pristine=!0,d.$valid=!0,d.$invalid=!1,e.$addControl(d),a.addClass(de),c(!0),d.$addControl=function(a){Z(a.$name,"input"),i.push(a),a.$name&&(d[a.$name]=a)},d.$removeControl=function(a){a.$name&&d[a.$name]===a&&delete d[a.$name],f(h,function(b,c){d.$setValidity(c,!0,a)}),E(i,a)},d.$setValidity=function(a,b,f){var i=h[a];if(b)i&&(E(i,f),i.length||(g--,g||(c(b),d.$valid=!0,d.$invalid=!1),h[a]=!1,c(!0,a),e.$setValidity(a,!0,d)));else{if(g||c(b),i){if(-1!=D(i,f))return}else h[a]=i=[],g++,c(!1,a),e.$setValidity(a,!1,d);i.push(f),d.$valid=!1,d.$invalid=!0}},d.$setDirty=function(){a.removeClass(de).addClass(ee),d.$dirty=!0,d.$pristine=!1,e.$setDirty()},d.$setPristine=function(){a.removeClass(ee).addClass(de),d.$dirty=!1,d.$pristine=!0,f(i,function(a){a.$setPristine()})}}function Lc(a,b,e,f,g,h){if(!g.android){var i=!1;b.on("compositionstart",function(){i=!0}),b.on("compositionend",function(){i=!1})}var j=function(){if(!i){var c=b.val();N(e.ngTrim||"T")&&(c=$c(c)),f.$viewValue!==c&&a.$apply(function(){f.$setViewValue(c)})}};if(g.hasEvent("input"))b.on("input",j);else{var k,l=function(){k||(k=h.defer(function(){j(),k=null}))};b.on("keydown",function(a){a=a.keyCode,91===a||a>15&&19>a||a>=37&&40>=a||l()}),g.hasEvent("paste")&&b.on("paste cut",l)}b.on("change",j),f.$render=function(){b.val(f.$isEmpty(f.$viewValue)?"":f.$viewValue)};var n=e.ngPattern,o=function(a,b){return f.$isEmpty(b)||a.test(b)?(f.$setValidity("pattern",!0),b):(f.$setValidity("pattern",!1),c)};if(n&&((g=n.match(/^\/(.*)\/([gim]*)$/))?(n=RegExp(g[1],g[2]),g=function(a){return o(n,a)}):g=function(c){var e=a.$eval(n);if(!e||!e.test)throw d("ngPattern")("noregexp",n,e,O(b));return o(e,c)},f.$formatters.push(g),f.$parsers.push(g)),e.ngMinlength){var p=m(e.ngMinlength);g=function(a){return!f.$isEmpty(a)&&a.length<p?(f.$setValidity("minlength",!1),c):(f.$setValidity("minlength",!0),a)},f.$parsers.push(g),f.$formatters.push(g)}if(e.ngMaxlength){var q=m(e.ngMaxlength);g=function(a){return!f.$isEmpty(a)&&a.length>q?(f.$setValidity("maxlength",!1),c):(f.$setValidity("maxlength",!0),a)},f.$parsers.push(g),f.$formatters.push(g)}}function Mc(a,b){return a="ngClass"+a,function(){return{restrict:"AC",link:function(c,d,e){function g(a){if(!0===b||c.$index%2===b){var d=h(a||"");i?H(a,i)||e.$updateClass(d,h(i)):e.$addClass(d)}i=F(a)}function h(a){if(x(a))return a.join(" ");if(t(a)){var b=[];return f(a,function(a,c){a&&b.push(c)}),b.join(" ")}return a}var i;c.$watch(e[a],g,!0),e.$observe("class",function(){g(c.$eval(e[a]))}),"ngClass"!==a&&c.$watch("$index",function(d,f){var g=1&d;if(g!==f&1){var i=h(c.$eval(e[a]));g===b?e.$addClass(i):e.$removeClass(i)}})}}}}var Nc,Oc,Pc,Qc,Rc,Sc=function(a){return u(a)?a.toLowerCase():a},Tc=function(a){return u(a)?a.toUpperCase():a},Uc=[].slice,Vc=[].push,Wc=Object.prototype.toString,Xc=d("ng"),Yc=a.angular||(a.angular={}),Zc=["0","0","0"];Nc=m((/msie (\d+)/.exec(Sc(navigator.userAgent))||[])[1]),isNaN(Nc)&&(Nc=m((/trident\/.*; rv:(\d+)/.exec(Sc(navigator.userAgent))||[])[1])),o.$inject=[],p.$inject=[];var $c=function(){return String.prototype.trim?function(a){return u(a)?a.trim():a}:function(a){return u(a)?a.replace(/^\s\s*/,"").replace(/\s\s*$/,""):a}}();Rc=9>Nc?function(a){return a=a.nodeName?a:a[0],a.scopeName&&"HTML"!=a.scopeName?Tc(a.scopeName+":"+a.nodeName):a.nodeName}:function(a){return a.nodeName?a.nodeName:a[0].nodeName};var _c=/[A-Z]/g,ad={full:"1.2.6",major:1,minor:2,dot:6,codeName:"taco-salsafication"},bd=db.cache={},cd=db.expando="ng-"+(new Date).getTime(),dd=1,ed=a.document.addEventListener?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},fd=a.document.removeEventListener?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)},gd=/([\:\-\_]+(.))/g,hd=/^moz([A-Z])/,id=d("jqLite"),jd=db.prototype={ready:function(c){function d(){e||(e=!0,c())}var e=!1;"complete"===b.readyState?setTimeout(d):(this.on("DOMContentLoaded",d),db(a).on("load",d))},toString:function(){var a=[];return f(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return Oc(a>=0?this[a]:this[this.length+a])},length:0,push:Vc,sort:[].sort,splice:[].splice},kd={};f("multiple selected checked disabled readOnly required open".split(" "),function(a){kd[Sc(a)]=a});var ld={};f("input select option textarea button form details".split(" "),function(a){ld[Tc(a)]=!0}),f({data:jb,inheritedData:pb,scope:function(a){return Oc(a).data("$scope")||pb(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return Oc(a).data("$isolateScope")||Oc(a).data("$isolateScopeNoTemplate")},controller:ob,injector:function(a){return pb(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:kb,css:function(a,b,d){if(b=bb(b),!s(d)){var e;return 8>=Nc&&(e=a.currentStyle&&a.currentStyle[b],""===e&&(e="auto")),e=e||a.style[b],8>=Nc&&(e=""===e?c:e),e}a.style[b]=d},attr:function(a,b,d){var e=Sc(b);if(kd[e]){if(!s(d))return a[b]||(a.attributes.getNamedItem(b)||o).specified?e:c;d?(a[b]=!0,a.setAttribute(b,e)):(a[b]=!1,a.removeAttribute(e))}else if(s(d))a.setAttribute(b,d);else if(a.getAttribute)return a=a.getAttribute(b,2),null===a?c:a},prop:function(a,b,c){return s(c)?void(a[b]=c):a[b]},text:function(){function a(a,c){var d=b[a.nodeType];return r(c)?d?a[d]:"":void(a[d]=c)}var b=[];return 9>Nc?(b[1]="innerText",b[3]="nodeValue"):b[1]=b[3]="textContent",a.$dv="",a}(),val:function(a,b){if(r(b)){if("SELECT"===Rc(a)&&a.multiple){var c=[];return f(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b},html:function(a,b){if(r(b))return a.innerHTML;for(var c=0,d=a.childNodes;c<d.length;c++)fb(d[c]);a.innerHTML=b},empty:qb},function(a,b){db.prototype[b]=function(b,d){var e,f;if(a!==qb&&(2==a.length&&a!==kb&&a!==ob?b:d)===c){if(t(b)){for(e=0;e<this.length;e++)if(a===jb)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}e=a.$dv,f=e===c?Math.min(this.length,1):this.length;for(var g=0;f>g;g++){var h=a(this[g],b,d);e=e?e+h:h}return e}for(e=0;e<this.length;e++)a(this[e],b,d);return this}}),f({removeData:hb,dealoc:fb,on:function Pe(a,c,d,e){if(s(e))throw id("onargs");var g=ib(a,"events"),h=ib(a,"handle");g||ib(a,"events",g={}),h||ib(a,"handle",h=sb(a,g)),f(c.split(" "),function(c){var e=g[c];if(!e){if("mouseenter"==c||"mouseleave"==c){var f=b.body.contains||b.body.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};g[c]=[],Pe(a,{mouseleave:"mouseout",mouseenter:"mouseover"}[c],function(a){var b=a.relatedTarget;b&&(b===this||f(this,b))||h(a,c)})}else ed(a,c,h),g[c]=[];e=g[c]}e.push(d)})},off:gb,one:function(a,b,c){a=Oc(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,d=a.parentNode;fb(a),f(new db(b),function(b){c?d.insertBefore(b,c.nextSibling):d.replaceChild(b,a),c=b})},children:function(a){var b=[];return f(a.childNodes,function(a){1===a.nodeType&&b.push(a)}),b},contents:function(a){return a.childNodes||[]},append:function(a,b){f(new db(b),function(b){1!==a.nodeType&&11!==a.nodeType||a.appendChild(b)})},prepend:function(a,b){if(1===a.nodeType){var c=a.firstChild;f(new db(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){b=Oc(b)[0];var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)},remove:function(a){fb(a);var b=a.parentNode;b&&b.removeChild(a)},after:function(a,b){var c=a,d=a.parentNode;f(new db(b),function(a){d.insertBefore(a,c.nextSibling),c=a})},addClass:mb,removeClass:lb,toggleClass:function(a,b,c){r(c)&&(c=!kb(a,b)),(c?mb:lb)(a,b)},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){if(a.nextElementSibling)return a.nextElementSibling;for(a=a.nextSibling;null!=a&&1!==a.nodeType;)a=a.nextSibling;return a},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:eb,triggerHandler:function(a,b,c){b=(ib(a,"events")||{})[b],c=c||[];var d=[{preventDefault:o,stopPropagation:o}];f(b,function(b){b.apply(a,d.concat(c))})}},function(a,b){db.prototype[b]=function(b,c,d){for(var e,f=0;f<this.length;f++)r(e)?(e=a(this[f],b,c,d),s(e)&&(e=Oc(e))):nb(e,a(this[f],b,c,d));return s(e)?e:this},db.prototype.bind=db.prototype.on,db.prototype.unbind=db.prototype.off}),ub.prototype={put:function(a,b){this[tb(a)]=b},get:function(a){return this[tb(a)]},remove:function(a){var b=this[a=tb(a)];return delete this[a],b}};var md=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,nd=/,/,od=/^\s*(_?)(\S+?)\1\s*$/,pd=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,qd=d("$injector"),rd=d("$animate"),sd=["$provide",function(a){this.$$selectors={},this.register=function(b,c){var d=b+"-animation";if(b&&"."!=b.charAt(0))throw rd("notcsel",b);this.$$selectors[b.substr(1)]=d,a.factory(d,c)},this.classNameFilter=function(a){return 1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null),this.$$classNameFilter},this.$get=["$timeout",function(a){return{enter:function(b,c,d,e){d?d.after(b):(c&&c[0]||(c=d.parent()),c.append(b)),e&&a(e,0,!1)},leave:function(b,c){b.remove(),c&&a(c,0,!1)},move:function(a,b,c,d){this.enter(a,b,c,d)},addClass:function(b,c,d){c=u(c)?c:x(c)?c.join(" "):"",f(b,function(a){mb(a,c)}),d&&a(d,0,!1)},removeClass:function(b,c,d){c=u(c)?c:x(c)?c.join(" "):"",f(b,function(a){lb(a,c)}),d&&a(d,0,!1)},enabled:o}}]}],td=d("$compile");Cb.$inject=["$provide","$$sanitizeUriProvider"];var ud=/^(x[\:\-_]|data[\:\-_])/i,vd=a.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(b){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(c){}throw d("$httpBackend")("noxhr")},wd=d("$interpolate"),xd=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,yd={http:80,https:443,ftp:21},zd=d("$location");Zb.prototype=Yb.prototype=Xb.prototype={$$html5:!1,$$replace:!1,absUrl:$b("$$absUrl"),url:function(a,b){if(r(a))return this.$$url;var c=xd.exec(a);return c[1]&&this.path(decodeURIComponent(c[1])),(c[2]||c[1])&&this.search(c[3]||""),this.hash(c[5]||"",b),this},protocol:$b("$$protocol"),host:$b("$$host"),port:$b("$$port"),path:_b("$$path",function(a){return"/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(u(a))this.$$search=Q(a);else{if(!t(a))throw zd("isrcharg");this.$$search=a}break;default:r(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:_b("$$hash",p),replace:function(){return this.$$replace=!0,this}};var Ad,Bd=d("$parse"),Cd={},Dd={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:o,"+":function(a,b,d,e){return d=d(a,b),e=e(a,b),s(d)?s(e)?d+e:d:s(e)?e:c},"-":function(a,b,c,d){return c=c(a,b),d=d(a,b),(s(c)?c:0)-(s(d)?d:0)},"*":function(a,b,c,d){return c(a,b)*d(a,b)},"/":function(a,b,c,d){return c(a,b)/d(a,b)},"%":function(a,b,c,d){return c(a,b)%d(a,b)},"^":function(a,b,c,d){return c(a,b)^d(a,b)},"=":o,"===":function(a,b,c,d){return c(a,b)===d(a,b)},"!==":function(a,b,c,d){return c(a,b)!==d(a,b)},"==":function(a,b,c,d){return c(a,b)==d(a,b)},"!=":function(a,b,c,d){return c(a,b)!=d(a,b)},"<":function(a,b,c,d){return c(a,b)<d(a,b)},">":function(a,b,c,d){return c(a,b)>d(a,b)},"<=":function(a,b,c,d){return c(a,b)<=d(a,b)},">=":function(a,b,c,d){return c(a,b)>=d(a,b)},"&&":function(a,b,c,d){return c(a,b)&&d(a,b)},"||":function(a,b,c,d){return c(a,b)||d(a,b)},"&":function(a,b,c,d){return c(a,b)&d(a,b)},"|":function(a,b,c,d){return d(a,b)(a,b,c(a,b))},"!":function(a,b,c){return!c(a,b)}},Ed={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Fd=function(a){this.options=a};Fd.prototype={constructor:Fd,lex:function(a){this.text=a,this.index=0,this.ch=c,this.lastCh=":",this.tokens=[];var b;for(a=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent(),this.was("{,")&&"{"===a[0]&&(b=this.tokens[this.tokens.length-1])&&(b.json=-1===b.text.indexOf("."));else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch,json:this.was(":[,")&&this.is("{[")||this.is("}]:,")}),this.is("{[")&&a.unshift(this.ch),this.is("}]")&&a.shift(),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var d=this.ch+this.peek(),e=d+this.peek(2),f=Dd[this.ch],g=Dd[d],h=Dd[e];h?(this.tokens.push({index:this.index,text:e,fn:h}),this.index+=3):g?(this.tokens.push({index:this.index,text:d,fn:g}),this.index+=2):f?(this.tokens.push({index:this.index,text:this.ch,fn:f,json:this.was("[,:")&&this.is("+-")}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(a){return-1!==a.indexOf(this.ch)},was:function(a){return-1!==a.indexOf(this.lastCh)},peek:function(a){return a=a||1,this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return a>="0"&&"9">=a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||""===a||""===a},isIdent:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){throw c=c||this.index,b=s(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c,Bd("lexerr",a,b,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=Sc(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}a*=1,this.tokens.push({index:b,text:a,json:!0,fn:function(){return a}})},readIdent:function(){for(var a,b,c,d,e=this,f="",g=this.index;this.index<this.text.length&&(d=this.text.charAt(this.index),"."===d||this.isIdent(d)||this.isNumber(d));)"."===d&&(a=this.index),f+=d,this.index++;if(a)for(b=this.index;b<this.text.length;){if(d=this.text.charAt(b),"("===d){c=f.substr(a-g+1),f=f.substr(0,a-g),this.index=b;break}if(!this.isWhitespace(d))break;b++}if(g={index:g,text:f},Dd.hasOwnProperty(f))g.fn=Dd[f],g.json=Dd[f];else{var h=ic(f,this.options,this.text);g.fn=l(function(a,b){return h(a,b)},{assign:function(a,b){return ec(a,f,b,e.text,e.options)}})}this.tokens.push(g),c&&(this.tokens.push({index:a,text:".",json:!1}),this.tokens.push({index:a+1,text:c,json:!1}))},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index),d=d+f;if(e)"u"===f?(f=this.text.substring(this.index+1,this.index+5),f.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+f+"]"),this.index+=4,c+=String.fromCharCode(parseInt(f,16))):c=(e=Ed[f])?c+e:c+f,e=!1;else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,string:c,json:!0,fn:function(){return c}});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var Gd=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c};Gd.ZERO=function(){return 0},Gd.prototype={constructor:Gd,parse:function(a,b){this.text=a,this.json=b,this.tokens=this.lexer.lex(a),b&&(this.assignment=this.logicalOR,this.functionCall=this.fieldAccess=this.objectIndex=this.filterChain=function(){this.throwError("is not valid json",{text:a,index:0})});var c=b?this.primary():this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),c.literal=!!c.literal,c.constant=!!c.constant,c},primary:function(){var a;if(this.expect("("))a=this.filterChain(),this.consume(")");else if(this.expect("["))a=this.arrayDeclaration();else if(this.expect("{"))a=this.object();else{var b=this.expect();(a=b.fn)||this.throwError("not a primary expression",b),b.json&&(a.constant=!0,a.literal=!0)}for(var c;b=this.expect("(","[",".");)"("===b.text?(a=this.functionCall(a,c),c=null):"["===b.text?(c=a,a=this.objectIndex(a)):"."===b.text?(c=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,b){throw Bd("syntax",b.text,a,b.index+1,this.text,this.text.substring(b.index))},peekToken:function(){if(0===this.tokens.length)throw Bd("ueoe",this.text);return this.tokens[0]},peek:function(a,b,c,d){if(0<this.tokens.length){var e=this.tokens[0],f=e.text;if(f===a||f===b||f===c||f===d||!(a||b||c||d))return e}return!1},expect:function(a,b,c,d){return(a=this.peek(a,b,c,d))?(this.json&&!a.json&&this.throwError("is not valid json",a),this.tokens.shift(),a):!1},consume:function(a){this.expect(a)||this.throwError("is unexpected, expecting ["+a+"]",this.peek())},unaryFn:function(a,b){return l(function(c,d){return a(c,d,b)},{constant:b.constant})},ternaryFn:function(a,b,c){return l(function(d,e){return a(d,e)?b(d,e):c(d,e)},{constant:a.constant&&b.constant&&c.constant})},binaryFn:function(a,b,c){return l(function(d,e){return b(d,e,a,c)},{constant:a.constant&&c.constant})},statements:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(b,c){for(var d,e=0;e<a.length;e++){var f=a[e];f&&(d=f(b,c))}return d}},filterChain:function(){for(var a,b=this.expression();;){if(!(a=this.expect("|")))return b;b=this.binaryFn(b,a.fn,this.filter())}},filter:function(){for(var a=this.expect(),b=this.$filter(a.text),c=[];;){if(!(a=this.expect(":"))){var d=function(a,d,e){e=[e];for(var f=0;f<c.length;f++)e.push(c[f](a,d));return b.apply(a,e)};return function(){return d}}c.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var a,b,c=this.ternary();return(b=this.expect("="))?(c.assign||this.throwError("implies assignment but ["+this.text.substring(0,b.index)+"] can not be assigned to",b),a=this.ternary(),function(b,d){return c.assign(b,a(b,d),d)}):c},ternary:function(){var a,b,c=this.logicalOR();return this.expect("?")?(a=this.ternary(),(b=this.expect(":"))?this.ternaryFn(c,a,this.ternary()):void this.throwError("expected :",b)):c},logicalOR:function(){for(var a,b=this.logicalAND();;){if(!(a=this.expect("||")))return b;b=this.binaryFn(b,a.fn,this.logicalAND())}},logicalAND:function(){var a,b=this.equality();return(a=this.expect("&&"))&&(b=this.binaryFn(b,a.fn,this.logicalAND())),b},equality:function(){var a,b=this.relational();return(a=this.expect("==","!=","===","!=="))&&(b=this.binaryFn(b,a.fn,this.equality())),b},relational:function(){var a,b=this.additive();return(a=this.expect("<",">","<=",">="))&&(b=this.binaryFn(b,a.fn,this.relational())),b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b=this.binaryFn(b,a.fn,this.multiplicative());return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b=this.binaryFn(b,a.fn,this.unary());return b},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(Gd.ZERO,a.fn,this.unary()):(a=this.expect("!"))?this.unaryFn(a.fn,this.unary()):this.primary()},fieldAccess:function(a){var b=this,c=this.expect().text,d=ic(c,this.options,this.text);return l(function(b,c,e){return d(e||a(b,c),c)},{assign:function(d,e,f){return ec(a(d,f),c,e,b.text,b.options)}})},objectIndex:function(a){var b=this,d=this.expression();return this.consume("]"),l(function(e,f){var g,h=a(e,f),i=d(e,f);return h?((h=dc(h[i],b.text))&&h.then&&b.options.unwrapPromises&&(g=h,"$$v"in h||(g.$$v=c,g.then(function(a){g.$$v=a})),h=h.$$v),h):c},{assign:function(c,e,f){var g=d(c,f);return dc(a(c,f),b.text)[g]=e}})},functionCall:function(a,b){var c=[];if(")"!==this.peekToken().text)do c.push(this.expression());while(this.expect(","));this.consume(")");var d=this;return function(e,f){for(var g=[],h=b?b(e,f):e,i=0;i<c.length;i++)g.push(c[i](e,f));return i=a(e,f,h)||o,dc(h,d.text),dc(i,d.text),g=i.apply?i.apply(h,g):i(g[0],g[1],g[2],g[3],g[4]),dc(g,d.text)}},arrayDeclaration:function(){var a=[],b=!0;if("]"!==this.peekToken().text)do{var c=this.expression();a.push(c),c.constant||(b=!1)}while(this.expect(","));return this.consume("]"),l(function(b,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e](b,c));return d},{literal:!0,constant:b})},object:function(){var a=[],b=!0;if("}"!==this.peekToken().text)do{var c=this.expect(),c=c.string||c.text;this.consume(":");var d=this.expression();a.push({key:c,value:d}),d.constant||(b=!1)}while(this.expect(","));return this.consume("}"),l(function(b,c){for(var d={},e=0;e<a.length;e++){var f=a[e];d[f.key]=f.value(b,c)}return d},{literal:!0,constant:b})}};var Hd={},Id=d("$sce"),Jd={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Kd=b.createElement("a"),Ld=uc(a.location.href,!0);xc.$inject=["$provide"],zc.$inject=["$locale"],Ac.$inject=["$locale"];var Md=".",Nd={yyyy:Dc("FullYear",4),yy:Dc("FullYear",2,0,!0),y:Dc("FullYear",1),MMMM:Ec("Month"),MMM:Ec("Month",!0),MM:Dc("Month",2,1),M:Dc("Month",1,1),dd:Dc("Date",2),d:Dc("Date",1),HH:Dc("Hours",2),H:Dc("Hours",1),hh:Dc("Hours",2,-12),h:Dc("Hours",1,-12),mm:Dc("Minutes",2),m:Dc("Minutes",1),ss:Dc("Seconds",2),s:Dc("Seconds",1),sss:Dc("Milliseconds",3),EEEE:Ec("Day"),EEE:Ec("Day",!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a){return a=-1*a.getTimezoneOffset(),a=(a>=0?"+":"")+(Cc(Math[a>0?"floor":"ceil"](a/60),2)+Cc(Math.abs(a%60),2))}},Od=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Pd=/^\-?\d+$/;Fc.$inject=["$locale"];var Qd=q(Sc),Rd=q(Tc);Ic.$inject=["$parse"];var Sd=q({restrict:"E",compile:function(a,c){return 8>=Nc&&(c.href||c.name||c.$set("href",""),a.append(b.createComment("IE fix"))),c.href||c.name?void 0:function(a,b){b.on("click",function(a){b.attr("href")||a.preventDefault()})}}}),Td={};f(kd,function(a,b){if("multiple"!=a){var c=Db("ng-"+b);Td[c]=function(){return{priority:100,compile:function(){return function(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}}}}}}),f(["src","srcset","href"],function(a){var b=Db("ng-"+a);Td[b]=function(){return{priority:99,link:function(c,d,e){e.$observe(b,function(b){b&&(e.$set(a,b),Nc&&d.prop(a,e[a]))})}}}});var Ud={$addControl:o,$removeControl:o,$setValidity:o,$setDirty:o,$setPristine:o};Kc.$inject=["$element","$attrs","$scope"];var Vd=function(a){return["$timeout",function(b){return{name:"form",restrict:a?"EAC":"E",controller:Kc,compile:function(){return{pre:function(a,d,e,f){if(!e.action){var g=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};ed(d[0],"submit",g),d.on("$destroy",function(){b(function(){fd(d[0],"submit",g)},0,!1)})}var h=d.parent().controller("form"),i=e.name||e.ngForm;i&&ec(a,i,f,i),h&&d.on("$destroy",function(){h.$removeControl(f),i&&ec(a,i,c,i),l(f,Ud)})}}}}}]},Wd=Vd(),Xd=Vd(!0),Yd=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Zd=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,6}$/,$d=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,_d={text:Lc,number:function(a,b,d,e,f,g){Lc(a,b,d,e,f,g),e.$parsers.push(function(a){var b=e.$isEmpty(a);return b||$d.test(a)?(e.$setValidity("number",!0),""===a?null:b?a:parseFloat(a)):(e.$setValidity("number",!1),c)}),e.$formatters.push(function(a){return e.$isEmpty(a)?"":""+a}),d.min&&(a=function(a){var b=parseFloat(d.min);return!e.$isEmpty(a)&&b>a?(e.$setValidity("min",!1),c):(e.$setValidity("min",!0),a)},e.$parsers.push(a),e.$formatters.push(a)),d.max&&(a=function(a){var b=parseFloat(d.max);return!e.$isEmpty(a)&&a>b?(e.$setValidity("max",!1),c):(e.$setValidity("max",!0),a)},e.$parsers.push(a),e.$formatters.push(a)),e.$formatters.push(function(a){return e.$isEmpty(a)||v(a)?(e.$setValidity("number",!0),a):(e.$setValidity("number",!1),c)})},url:function(a,b,d,e,f,g){Lc(a,b,d,e,f,g),a=function(a){return e.$isEmpty(a)||Yd.test(a)?(e.$setValidity("url",!0),a):(e.$setValidity("url",!1),c)},e.$formatters.push(a),e.$parsers.push(a)},email:function(a,b,d,e,f,g){Lc(a,b,d,e,f,g),a=function(a){return e.$isEmpty(a)||Zd.test(a)?(e.$setValidity("email",!0),a):(e.$setValidity("email",!1),c)},e.$formatters.push(a),e.$parsers.push(a)},radio:function(a,b,c,d){r(c.name)&&b.attr("name",j()),b.on("click",function(){b[0].checked&&a.$apply(function(){d.$setViewValue(c.value)})}),d.$render=function(){b[0].checked=c.value==d.$viewValue},c.$observe("value",d.$render)},checkbox:function(a,b,c,d){var e=c.ngTrueValue,f=c.ngFalseValue;u(e)||(e=!0),u(f)||(f=!1),b.on("click",function(){a.$apply(function(){d.$setViewValue(b[0].checked)})}),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return a!==e},d.$formatters.push(function(a){return a===e}),d.$parsers.push(function(a){return a?e:f})},hidden:o,button:o,submit:o,reset:o},ae=["$browser","$sniffer",function(a,b){return{restrict:"E",require:"?ngModel",link:function(c,d,e,f){f&&(_d[Sc(e.type)]||_d.text)(c,d,e,f,b,a)}}}],be="ng-valid",ce="ng-invalid",de="ng-pristine",ee="ng-dirty",fe=["$scope","$exceptionHandler","$attrs","$element","$parse",function(a,b,c,e,g){function h(a,b){b=b?"-"+W(b,"-"):"",e.removeClass((a?ce:be)+b).addClass((a?be:ce)+b)}this.$modelValue=this.$viewValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=c.name;var i=g(c.ngModel),j=i.assign;if(!j)throw d("ngModel")("nonassign",c.ngModel,O(e));this.$render=o,this.$isEmpty=function(a){return r(a)||""===a||null===a||a!==a};var k=e.inheritedData("$formController")||Ud,l=0,m=this.$error={};e.addClass(de),h(!0),this.$setValidity=function(a,b){m[a]!==!b&&(b?(m[a]&&l--,l||(h(!0),this.$valid=!0,this.$invalid=!1)):(h(!1),this.$invalid=!0,this.$valid=!1,l++),m[a]=!b,h(b,a),k.$setValidity(a,b,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,e.removeClass(ee).addClass(de)
},this.$setViewValue=function(c){this.$viewValue=c,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,e.removeClass(de).addClass(ee),k.$setDirty()),f(this.$parsers,function(a){c=a(c)}),this.$modelValue!==c&&(this.$modelValue=c,j(a,c),f(this.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}}))};var n=this;a.$watch(function(){var b=i(a);if(n.$modelValue!==b){var c=n.$formatters,d=c.length;for(n.$modelValue=b;d--;)b=c[d](b);n.$viewValue!==b&&(n.$viewValue=b,n.$render())}return b})}],ge=function(){return{require:["ngModel","^?form"],controller:fe,link:function(a,b,c,d){var e=d[0],f=d[1]||Ud;f.$addControl(e),a.$on("$destroy",function(){f.$removeControl(e)})}}},he=q({require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),ie=function(){return{require:"?ngModel",link:function(a,b,c,d){if(d){c.required=!0;var e=function(a){return c.required&&d.$isEmpty(a)?void d.$setValidity("required",!1):(d.$setValidity("required",!0),a)};d.$formatters.push(e),d.$parsers.unshift(e),c.$observe("required",function(){e(d.$viewValue)})}}}},je=function(){return{require:"ngModel",link:function(a,b,d,e){var g=(a=/\/(.*)\//.exec(d.ngList))&&RegExp(a[1])||d.ngList||",";e.$parsers.push(function(a){if(!r(a)){var b=[];return a&&f(a.split(g),function(a){a&&b.push($c(a))}),b}}),e.$formatters.push(function(a){return x(a)?a.join(", "):c}),e.$isEmpty=function(a){return!a||!a.length}}}},ke=/^(true|false|\d+)$/,le=function(){return{priority:100,compile:function(a,b){return ke.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},me=Jc(function(a,b,d){b.addClass("ng-binding").data("$binding",d.ngBind),a.$watch(d.ngBind,function(a){b.text(a==c?"":a)})}),ne=["$interpolate",function(a){return function(b,c,d){b=a(c.attr(d.$attr.ngBindTemplate)),c.addClass("ng-binding").data("$binding",b),d.$observe("ngBindTemplate",function(a){c.text(a)})}}],oe=["$sce","$parse",function(a,b){return function(c,d,e){d.addClass("ng-binding").data("$binding",e.ngBindHtml);var f=b(e.ngBindHtml);c.$watch(function(){return(f(c)||"").toString()},function(){d.html(a.getTrustedHtml(f(c))||"")})}}],pe=Mc("",!0),qe=Mc("Odd",0),re=Mc("Even",1),se=Jc({compile:function(a,b){b.$set("ngCloak",c),a.removeClass("ng-cloak")}}),te=[function(){return{scope:!0,controller:"@",priority:500}}],ue={};f("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=Db("ng-"+a);ue[b]=["$parse",function(c){return{compile:function(d,e){var f=c(e[b]);return function(b,c){c.on(Sc(a),function(a){b.$apply(function(){f(b,{$event:a})})})}}}}]});var ve=["$animate",function(a){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i;c.$watch(e.ngIf,function(f){N(f)?i||(i=c.$new(),g(i,function(c){c[c.length++]=b.createComment(" end ngIf: "+e.ngIf+" "),h={clone:c},a.enter(c,d.parent(),d)})):(i&&(i.$destroy(),i=null),h&&(a.leave(_(h.clone)),h=null))})}}}],we=["$http","$templateCache","$anchorScroll","$animate","$sce",function(a,b,c,d,e){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Yc.noop,compile:function(f,g){var h=g.ngInclude||g.src,i=g.onload||"",j=g.autoscroll;return function(f,g,k,l,m){var n,o,p=0,q=function(){n&&(n.$destroy(),n=null),o&&(d.leave(o),o=null)};f.$watch(e.parseAsResourceUrl(h),function(e){var h=function(){!s(j)||j&&!f.$eval(j)||c()},k=++p;e?(a.get(e,{cache:b}).success(function(a){if(k===p){var b=f.$new();l.template=a,a=m(b,function(a){q(),d.enter(a,null,g,h)}),n=b,o=a,n.$emit("$includeContentLoaded"),f.$eval(i)}}).error(function(){k===p&&q()}),f.$emit("$includeContentRequested")):(q(),l.template=null)})}}}}],xe=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(b,c,d,e){c.html(e.template),a(c.contents())(b)}}}],ye=Jc({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),ze=Jc({terminal:!0,priority:1e3}),Ae=["$locale","$interpolate",function(a,b){var c=/{}/g;return{restrict:"EA",link:function(d,e,g){var h=g.count,i=g.$attr.when&&e.attr(g.$attr.when),j=g.offset||0,k=d.$eval(i)||{},l={},m=b.startSymbol(),n=b.endSymbol(),o=/^when(Minus)?(.+)$/;f(g,function(a,b){o.test(b)&&(k[Sc(b.replace("when","").replace("Minus","-"))]=e.attr(g.$attr[b]))}),f(k,function(a,d){l[d]=b(a.replace(c,m+h+"-"+j+n))}),d.$watch(function(){var b=parseFloat(d.$eval(h));return isNaN(b)?"":(b in k||(b=a.pluralCat(b-j)),l[b](d,e,!0))},function(a){e.text(a)})}}}],Be=["$parse","$animate",function(a,c){var g=d("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(d,h,i,j,k){var l,m,n,o,p,q,r=i.ngRepeat,s=r.match(/^\s*(.+)\s+in\s+([\r\n\s\S]*?)\s*(\s+track\s+by\s+(.+)\s*)?$/),t={$id:tb};if(!s)throw g("iexp",r);if(i=s[1],j=s[2],(s=s[4])?(l=a(s),m=function(a,b,c){return q&&(t[q]=a),t[p]=b,t.$index=c,l(d,t)}):(n=function(a,b){return tb(b)},o=function(a){return a}),s=i.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!s)throw g("iidexp",i);p=s[3]||s[1],q=s[2];var u={};d.$watchCollection(j,function(a){var i,j,l,s,t,v,w,x,y,z=h[0],A={},B=[];if(e(a))x=a,l=m||n;else{l=m||o,x=[];for(v in a)a.hasOwnProperty(v)&&"$"!=v.charAt(0)&&x.push(v);x.sort()}for(s=x.length,j=B.length=x.length,i=0;j>i;i++)if(v=a===x?i:x[i],w=a[v],w=l(v,w,i),Z(w,"`track by` id"),u.hasOwnProperty(w))y=u[w],delete u[w],A[w]=y,B[i]=y;else{if(A.hasOwnProperty(w))throw f(B,function(a){a&&a.scope&&(u[a.id]=a)}),g("dupes",r,w);B[i]={id:w},A[w]=!1}for(v in u)u.hasOwnProperty(v)&&(y=u[v],i=_(y.clone),c.leave(i),f(i,function(a){a.$$NG_REMOVED=!0}),y.scope.$destroy());for(i=0,j=x.length;j>i;i++){if(v=a===x?i:x[i],w=a[v],y=B[i],B[i-1]&&(z=B[i-1].clone[B[i-1].clone.length-1]),y.scope){t=y.scope,l=z;do l=l.nextSibling;while(l&&l.$$NG_REMOVED);y.clone[0]!=l&&c.move(_(y.clone),null,Oc(z)),z=y.clone[y.clone.length-1]}else t=d.$new();t[p]=w,q&&(t[q]=v),t.$index=i,t.$first=0===i,t.$last=i===s-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&i)),y.scope||k(t,function(a){a[a.length++]=b.createComment(" end ngRepeat: "+r+" "),c.enter(a,null,Oc(z)),z=a,y.scope=t,y.clone=a,A[y.id]=y})}u=A})}}}],Ce=["$animate",function(a){return function(b,c,d){b.$watch(d.ngShow,function(b){a[N(b)?"removeClass":"addClass"](c,"ng-hide")})}}],De=["$animate",function(a){return function(b,c,d){b.$watch(d.ngHide,function(b){a[N(b)?"addClass":"removeClass"](c,"ng-hide")})}}],Ee=Jc(function(a,b,c){a.$watch(c.ngStyle,function(a,c){c&&a!==c&&f(c,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),Fe=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(b,c,d,e){var g,h,i=[];b.$watch(d.ngSwitch||d.on,function(c){for(var j=0,k=i.length;k>j;j++)i[j].$destroy(),a.leave(h[j]);h=[],i=[],(g=e.cases["!"+c]||e.cases["?"])&&(b.$eval(d.change),f(g,function(c){var d=b.$new();i.push(d),c.transclude(d,function(b){var d=c.element;h.push(b),a.enter(b,d.parent(),d)})}))})}}}],Ge=Jc({transclude:"element",priority:800,require:"^ngSwitch",compile:function(a,b){return function(a,c,d,e,f){e.cases["!"+b.ngSwitchWhen]=e.cases["!"+b.ngSwitchWhen]||[],e.cases["!"+b.ngSwitchWhen].push({transclude:f,element:c})}}}),He=Jc({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),Ie=Jc({controller:["$element","$transclude",function(a,b){if(!b)throw d("ngTransclude")("orphan",O(a));this.$transclude=b}],link:function(a,b,c,d){d.$transclude(function(a){b.empty(),b.append(a)})}}),Je=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){"text/ng-template"==c.type&&a.put(c.id,b[0].text)}}}],Ke=d("ngOptions"),Le=q({terminal:!0}),Me=["$compile","$parse",function(a,d){var e=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/,h={$setViewValue:o};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,b,c){var d,e=this,f={},g=h;e.databound=c.ngModel,e.init=function(a,b,c){g=a,d=c},e.addOption=function(b){Z(b,'"option value"'),f[b]=!0,g.$viewValue==b&&(a.val(b),d.parent()&&d.remove())},e.removeOption=function(a){this.hasOption(a)&&(delete f[a],g.$viewValue==a&&this.renderUnknownOption(a))},e.renderUnknownOption=function(b){b="? "+tb(b)+" ?",d.val(b),a.prepend(d),a.val(b),d.prop("selected",!0)},e.hasOption=function(a){return f.hasOwnProperty(a)},b.$on("$destroy",function(){e.renderUnknownOption=o})}],link:function(h,i,j,k){function l(a,b,c,d){c.$render=function(){var a=c.$viewValue;d.hasOption(a)?(y.parent()&&y.remove(),b.val(a),""===a&&p.prop("selected",!0)):r(a)&&p?b.val(""):d.renderUnknownOption(a)},b.on("change",function(){a.$apply(function(){y.parent()&&y.remove(),c.$setViewValue(b.val())})})}function m(a,b,c){var d;c.$render=function(){var a=new ub(c.$viewValue);f(b.find("option"),function(b){b.selected=s(a.get(b.value))})},a.$watch(function(){H(d,c.$viewValue)||(d=F(c.$viewValue),c.$render())}),b.on("change",function(){a.$apply(function(){var a=[];f(b.find("option"),function(b){b.selected&&a.push(b.value)}),c.$setViewValue(a)})})}function n(b,f,h){function i(){var a,c,d,e,i,j={"":[]},t=[""];e=h.$modelValue,i=p(b)||[];var z,A,B,C=m?g(i):i;A={},d=!1;var D,E;if(q)if(r&&x(e))for(d=new ub([]),B=0;B<e.length;B++)A[l]=e[B],d.put(r(b,A),e[B]);else d=new ub(e);for(B=0;z=C.length,z>B;B++){if(c=B,m){if(c=C[B],"$"===c.charAt(0))continue;A[m]=c}A[l]=i[c],a=n(b,A)||"",(c=j[a])||(c=j[a]=[],t.push(a)),q?a=s(d.remove(r?r(b,A):o(b,A))):(r?(a={},a[l]=e,a=r(b,a)===r(b,A)):a=e===o(b,A),d=d||a),D=k(b,A),D=s(D)?D:"",c.push({id:r?r(b,A):m?C[B]:B,label:D,selected:a})}for(q||(u||null===e?j[""].unshift({id:"",label:"",selected:!d}):d||j[""].unshift({id:"?",label:"",selected:!0})),A=0,C=t.length;C>A;A++){for(a=t[A],c=j[a],y.length<=A?(e={element:w.clone().attr("label",a),label:c.label},i=[e],y.push(i),f.append(e.element)):(i=y[A],e=i[0],e.label!=a&&e.element.attr("label",e.label=a)),D=null,B=0,z=c.length;z>B;B++)d=c[B],(a=i[B+1])?(D=a.element,a.label!==d.label&&D.text(a.label=d.label),a.id!==d.id&&D.val(a.id=d.id),D[0].selected!==d.selected&&D.prop("selected",a.selected=d.selected)):(""===d.id&&u?E=u:(E=v.clone()).val(d.id).attr("selected",d.selected).text(d.label),i.push({element:E,label:d.label,id:d.id,selected:d.selected}),D?D.after(E):e.element.append(E),D=E);for(B++;i.length>B;)i.pop().element.remove()}for(;y.length>A;)y.pop()[0].element.remove()}var j;if(!(j=t.match(e)))throw Ke("iexp",t,O(f));var k=d(j[2]||j[1]),l=j[4]||j[6],m=j[5],n=d(j[3]||""),o=d(j[2]?j[1]:l),p=d(j[7]),r=j[8]?d(j[8]):null,y=[[{element:f,label:""}]];u&&(a(u)(b),u.removeClass("ng-scope"),u.remove()),f.empty(),f.on("change",function(){b.$apply(function(){var a,d,e,g,i,j,k,n,s=p(b)||[],t={};if(q){for(e=[],i=0,k=y.length;k>i;i++)for(a=y[i],g=1,j=a.length;j>g;g++)if((d=a[g].element)[0].selected){if(d=d.val(),m&&(t[m]=d),r)for(n=0;n<s.length&&(t[l]=s[n],r(b,t)!=d);n++);else t[l]=s[d];e.push(o(b,t))}}else if(d=f.val(),"?"==d)e=c;else if(""===d)e=null;else if(r){for(n=0;n<s.length;n++)if(t[l]=s[n],r(b,t)==d){e=o(b,t);break}}else t[l]=s[d],m&&(t[m]=d),e=o(b,t);h.$setViewValue(e)})}),h.$render=i,b.$watch(i)}if(k[1]){var o=k[0];k=k[1];var p,q=j.multiple,t=j.ngOptions,u=!1,v=Oc(b.createElement("option")),w=Oc(b.createElement("optgroup")),y=v.clone();j=0;for(var z=i.children(),A=z.length;A>j;j++)if(""===z[j].value){p=u=z.eq(j);break}o.init(k,u,y),q&&(k.$isEmpty=function(a){return!a||0===a.length}),t?n(h,i,k):q?m(h,i,k):l(h,i,k,o)}}}}],Ne=["$interpolate",function(a){var b={addOption:o,removeOption:o};return{restrict:"E",priority:100,compile:function(c,d){if(r(d.value)){var e=a(c.text(),!0);e||d.$set("value",c.text())}return function(a,c,d){var f=c.parent(),g=f.data("$selectController")||f.parent().data("$selectController");g&&g.databound?c.prop("selected",!1):g=b,e?a.$watch(e,function(a,b){d.$set("value",a),a!==b&&g.removeOption(b),g.addOption(a)}):g.addOption(d.value),c.on("$destroy",function(){g.removeOption(d.value)})}}}}],Oe=q({restrict:"E",terminal:!0});(Pc=a.jQuery)?(Oc=Pc,l(Pc.fn,{scope:jd.scope,isolateScope:jd.isolateScope,controller:jd.controller,injector:jd.injector,inheritedData:jd.inheritedData}),cb("remove",!0,!0,!1),cb("empty",!1,!1,!1),cb("html",!1,!1,!0)):Oc=db,Yc.element=Oc,function(b){l(b,{bootstrap:V,copy:F,extend:l,equals:H,element:Oc,forEach:f,injector:wb,noop:o,bind:J,toJson:L,fromJson:M,identity:p,isUndefined:r,isDefined:s,isString:u,isFunction:y,isObject:t,isNumber:v,isElement:B,isArray:x,version:ad,isDate:w,lowercase:Sc,uppercase:Tc,callbacks:{counter:0},$$minErr:d,$$csp:I}),Qc=ab(a);try{Qc("ngLocale")}catch(c){Qc("ngLocale",[]).provider("$locale",Qb)}Qc("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:nc}),a.provider("$compile",Cb).directive({a:Sd,input:ae,textarea:ae,form:Wd,script:Je,select:Me,style:Oe,option:Ne,ngBind:me,ngBindHtml:oe,ngBindTemplate:ne,ngClass:pe,ngClassEven:re,ngClassOdd:qe,ngCloak:se,ngController:te,ngForm:Xd,ngHide:De,ngIf:ve,ngInclude:we,ngInit:ye,ngNonBindable:ze,ngPluralize:Ae,ngRepeat:Be,ngShow:Ce,ngStyle:Ee,ngSwitch:Fe,ngSwitchWhen:Ge,ngSwitchDefault:He,ngOptions:Le,ngTransclude:Ie,ngModel:ge,ngList:je,ngChange:he,required:ie,ngRequired:ie,ngValue:le}).directive({ngInclude:xe}).directive(Td).directive(ue),a.provider({$anchorScroll:xb,$animate:sd,$browser:zb,$cacheFactory:Ab,$controller:Fb,$document:Gb,$exceptionHandler:Hb,$filter:xc,$interpolate:Ob,$interval:Pb,$http:Lb,$httpBackend:Mb,$location:ac,$log:bc,$parse:jc,$rootScope:mc,$q:kc,$sce:rc,$sceDelegate:qc,$sniffer:sc,$templateCache:Bb,$timeout:tc,$window:wc})}])}(Yc),Oc(b).ready(function(){U(b,V)})}(window,document),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}</style>'),function(a,b,c){"use strict";function d(a){var b={};a=a.split(",");var c;for(c=0;c<a.length;c++)b[a[c]]=!0;return b}function e(a,c){function d(a,d,g,h){if(d=b.lowercase(d),v[d])for(;r.last()&&w[r.last()];)e("",r.last());u[d]&&r.last()==d&&e("",d),(h=t[d]||!!h)||r.push(d);var i={};g.replace(l,function(a,b,c,d,e){i[b]=f(c||d||e||"")}),c.start&&c.start(d,i,h)}function e(a,d){var e,f=0;if(d=b.lowercase(d))for(f=r.length-1;f>=0&&r[f]!=d;f--);if(f>=0){for(e=r.length-1;e>=f;e--)c.end&&c.end(r[e]);r.length=f}}var g,h,r=[],s=a;for(r.last=function(){return r[r.length-1]};a;){if(h=!0,r.last()&&x[r.last()]?(a=a.replace(RegExp("(.*)<\\s*\\/\\s*"+r.last()+"[^>]*>","i"),function(a,b){return b=b.replace(o,"$1").replace(q,"$1"),c.chars&&c.chars(f(b)),""}),e("",r.last())):(0===a.indexOf("<!--")?(g=a.indexOf("--",4),g>=0&&a.lastIndexOf("-->",g)===g&&(c.comment&&c.comment(a.substring(4,g)),a=a.substring(g+3),h=!1)):p.test(a)?(g=a.match(p))&&(a=a.replace(g[0],""),h=!1):n.test(a)?(g=a.match(k))&&(a=a.substring(g[0].length),g[0].replace(k,e),h=!1):m.test(a)&&(g=a.match(j))&&(a=a.substring(g[0].length),g[0].replace(j,d),h=!1),h&&(g=a.indexOf("<"),h=0>g?a:a.substring(0,g),a=0>g?"":a.substring(g),c.chars&&c.chars(f(h)))),a==s)throw i("badparse",a);s=a}e()}function f(a){return B.innerHTML=a.replace(/</g,"&lt;"),B.innerText||B.textContent||""}function g(a){return a.replace(/&/g,"&amp;").replace(s,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(a){var c=!1,d=b.bind(a,a.push);return{start:function(a,e,f){a=b.lowercase(a),!c&&x[a]&&(c=a),c||!0!==y[a]||(d("<"),d(a),b.forEach(e,function(a,c){var e=b.lowercase(c);!0!==A[e]||!0===z[e]&&!a.match(r)||(d(" "),d(c),d('="'),d(g(a)),d('"'))}),d(f?"/>":">"))},end:function(a){a=b.lowercase(a),c||!0!==y[a]||(d("</"),d(a),d(">")),a==c&&(c=!1)},chars:function(a){c||d(g(a))}}}var i=b.$$minErr("$sanitize"),j=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,k=/^<\s*\/\s*([\w:-]+)[^>]*>/,l=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,m=/^</,n=/^<\s*\//,o=/\x3c!--(.*?)--\x3e/g,p=/<!DOCTYPE([^>]*?)>/i,q=/<!\[CDATA\[(.*?)]]\x3e/g,r=/^((ftp|https?):\/\/|mailto:|tel:|#)/i,s=/([^\#-~| |!])/g,t=d("area,br,col,hr,img,wbr");a=d("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),c=d("rp,rt");var u=b.extend({},c,a),v=b.extend({},a,d("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),w=b.extend({},c,d("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),x=d("script,style"),y=b.extend({},t,v,w,u),z=d("background,cite,href,longdesc,src,usemap"),A=b.extend({},z,d("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,span,start,summary,target,title,type,valign,value,vspace,width")),B=document.createElement("pre");b.module("ngSanitize",[]).value("$sanitize",function(a){var b=[];return e(a,h(b)),b.join("")}),b.module("ngSanitize").filter("linky",function(){var a=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>]/,c=/^mailto:/;return function(d,e){if(!d)return d;var f,g,i,j=d,k=[],l=h(k),m={};for(b.isDefined(e)&&(m.target=e);f=j.match(a);)g=f[0],f[2]==f[3]&&(g="mailto:"+g),i=f.index,l.chars(j.substr(0,i)),m.href=g,l.start("a",m),l.chars(f[0].replace(c,"")),l.end("a"),j=j.substring(i+f[0].length);return l.chars(j),k.join("")}})}(window,window.angular),function(a,b){"use strict";function c(){function a(a,c){return b.extend(new(b.extend(function(){},{prototype:a})),c)}function c(a,b){var c=b.caseInsensitiveMatch,d={originalPath:a,regexp:a},e=d.keys=[];return a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?|\*])?/g,function(a,b,c,d){var f="?"===d?d:null,g="*"===d?d:null;return e.push({name:c,optional:!!f}),b=b||"",""+(f?"":b)+"(?:"+(f?b:"")+(g&&"(.+?)"||"([^/]+)")+(f||"")+")"+(f||"")}).replace(/([\/$\*])/g,"\\$1"),d.regexp=new RegExp("^"+a+"$",c?"i":""),d}var d={};this.when=function(a,e){if(d[a]=b.extend({reloadOnSearch:!0},e,a&&c(a,e)),a){var f="/"==a[a.length-1]?a.substr(0,a.length-1):a+"/";d[f]=b.extend({redirectTo:a},c(f,e))}return this},this.otherwise=function(a){return this.when(null,a),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(c,e,f,g,h,i,j,k){function l(a,b){var c=b.keys,d={};if(!b.regexp)return null;var e=b.regexp.exec(a);if(!e)return null;for(var f=1,g=e.length;g>f;++f){var h=c[f-1],i="string"==typeof e[f]?decodeURIComponent(e[f]):e[f];h&&i&&(d[h.name]=i)}return d}function m(){var a=n(),d=q.current;a&&d&&a.$$route===d.$$route&&b.equals(a.pathParams,d.pathParams)&&!a.reloadOnSearch&&!p?(d.params=a.params,b.copy(d.params,f),c.$broadcast("$routeUpdate",d)):(a||d)&&(p=!1,c.$broadcast("$routeChangeStart",a,d),q.current=a,a&&a.redirectTo&&(b.isString(a.redirectTo)?e.path(o(a.redirectTo,a.params)).search(a.params).replace():e.url(a.redirectTo(a.pathParams,e.path(),e.search())).replace()),g.when(a).then(function(){if(a){var c,d,e=b.extend({},a.resolve);return b.forEach(e,function(a,c){e[c]=b.isString(a)?h.get(a):h.invoke(a)}),b.isDefined(c=a.template)?b.isFunction(c)&&(c=c(a.params)):b.isDefined(d=a.templateUrl)&&(b.isFunction(d)&&(d=d(a.params)),d=k.getTrustedResourceUrl(d),b.isDefined(d)&&(a.loadedTemplateUrl=d,c=i.get(d,{cache:j}).then(function(a){return a.data}))),b.isDefined(c)&&(e.$template=c),g.all(e)}}).then(function(e){a==q.current&&(a&&(a.locals=e,b.copy(a.params,f)),c.$broadcast("$routeChangeSuccess",a,d))},function(b){a==q.current&&c.$broadcast("$routeChangeError",a,d,b)}))}function n(){var c,f;return b.forEach(d,function(d){!f&&(c=l(e.path(),d))&&(f=a(d,{params:b.extend({},e.search(),c),pathParams:c}),f.$$route=d)}),f||d[null]&&a(d[null],{params:{},pathParams:{}})}function o(a,c){var d=[];return b.forEach((a||"").split(":"),function(a,b){if(0===b)d.push(a);else{var e=a.match(/(\w+)(.*)/),f=e[1];d.push(c[f]),d.push(e[2]||""),delete c[f]}}),d.join("")}var p=!1,q={routes:d,reload:function(){p=!0,c.$evalAsync(m)}};return c.$on("$locationChangeSuccess",m),q}]}function d(){this.$get=function(){return{}}}function e(a,c,d){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(e,f,g,h,i){function j(){l&&(l.$destroy(),l=null),m&&(d.leave(m),m=null)}function k(){var g=a.current&&a.current.locals,h=g&&g.$template;if(h){var k=e.$new(),p=a.current,q=i(k,function(a){d.enter(a,null,m||f,function(){!b.isDefined(n)||n&&!e.$eval(n)||c()}),j()});m=q,l=p.scope=k,l.$emit("$viewContentLoaded"),l.$eval(o)}else j()}var l,m,n=g.autoscroll,o=g.onload||"";e.$on("$routeChangeSuccess",k),k()}}}function f(a,b,c){return{restrict:"ECA",priority:-400,link:function(d,e){var f=c.current,g=f.locals;e.html(g.$template);var h=a(e.contents());if(f.controller){g.$scope=d;var i=b(f.controller,g);f.controllerAs&&(d[f.controllerAs]=i),e.data("$ngControllerController",i),e.children().data("$ngControllerController",i)}h(d)}}}var g=b.module("ngRoute",["ng"]).provider("$route",c);g.provider("$routeParams",d),g.directive("ngView",e),g.directive("ngView",f),e.$inject=["$route","$anchorScroll","$animate"],f.$inject=["$compile","$controller","$route"]}(window,window.angular),function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Spinner=b()}(this,function(){"use strict";function a(a,b){var c,d=document.createElement(a||"div");for(c in b)d[c]=b[c];return d}function b(a){for(var b=1,c=arguments.length;c>b;b++)a.appendChild(arguments[b]);return a}function c(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+c/d*100,g=Math.max(1-(1-a)/b*(100-f),a),h=k.substring(0,k.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";return m[e]||(n.insertRule("@"+i+"keyframes "+e+"{0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}100%{opacity:"+g+"}}",n.cssRules.length),m[e]=1),e}function d(a,b){var c,d,e=a.style;for(b=b.charAt(0).toUpperCase()+b.slice(1),d=0;d<l.length;d++)if(c=l[d]+b,void 0!==e[c])return c;return void 0!==e[b]?b:void 0}function e(a,b){for(var c in b)a.style[d(a,c)||c]=b[c];return a}function f(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)void 0===a[d]&&(a[d]=c[d])}return a}function g(a){for(var b={x:a.offsetLeft,y:a.offsetTop};a=a.offsetParent;)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b}function h(a,b){return"string"==typeof a?a:a[b%a.length]}function i(a){return"undefined"==typeof this?new i(a):void(this.opts=f(a||{},i.defaults,o))}function j(){function c(b,c){return a("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',c)}n.addRule(".spin-vml","behavior:url(#default#VML)"),i.prototype.lines=function(a,d){function f(){return e(c("group",{coordsize:k+" "+k,coordorigin:-j+" "+-j}),{width:k,height:k})}function g(a,g,i){b(m,b(e(f(),{rotation:360/d.lines*a+"deg",left:~~g}),b(e(c("roundrect",{arcsize:d.corners}),{width:j,height:d.width,left:d.radius,top:-d.width>>1,filter:i}),c("fill",{color:h(d.color,a),opacity:d.opacity}),c("stroke",{opacity:0}))))}var i,j=d.length+d.width,k=2*j,l=2*-(d.width+d.length)+"px",m=e(f(),{position:"absolute",top:l,left:l});if(d.shadow)for(i=1;i<=d.lines;i++)g(i,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(i=1;i<=d.lines;i++)g(i);return b(a,m)},i.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}}var k,l=["webkit","Moz","ms","O"],m={},n=function(){var c=a("style",{type:"text/css"});return b(document.getElementsByTagName("head")[0],c),c.sheet||c.styleSheet}(),o={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};i.defaults={},f(i.prototype,{spin:function(b){this.stop();var c,d,f=this,h=f.opts,i=f.el=e(a(0,{className:h.className}),{position:h.position,width:0,zIndex:h.zIndex}),j=h.radius+h.length+h.width;if(b&&(b.insertBefore(i,b.firstChild||null),d=g(b),c=g(i),e(i,{left:("auto"==h.left?d.x-c.x+(b.offsetWidth>>1):parseInt(h.left,10)+j)+"px",top:("auto"==h.top?d.y-c.y+(b.offsetHeight>>1):parseInt(h.top,10)+j)+"px"})),i.setAttribute("role","progressbar"),f.lines(i,f.opts),!k){var l,m=0,n=(h.lines-1)*(1-h.direction)/2,o=h.fps,p=o/h.speed,q=(1-h.opacity)/(p*h.trail/100),r=p/h.lines;!function s(){m++;for(var a=0;a<h.lines;a++)l=Math.max(1-(m+(h.lines-a)*r)%p*q,h.opacity),f.opacity(i,a*h.direction+n,l,h);f.timeout=f.el&&setTimeout(s,~~(1e3/o))}()}return f},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0),this},lines:function(d,f){function g(b,c){return e(a(),{position:"absolute",width:f.length+f.width+"px",height:f.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*j+f.rotate)+"deg) translate("+f.radius+"px,0)",borderRadius:(f.corners*f.width>>1)+"px"})}for(var i,j=0,l=(f.lines-1)*(1-f.direction)/2;j<f.lines;j++)i=e(a(),{position:"absolute",top:1+~(f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:k&&c(f.opacity,f.trail,l+j*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&b(i,e(g("#000","0 0 4px #000"),{top:"2px"})),b(d,b(i,g(h(f.color,j),"0 0 1px rgba(0,0,0,.1)")));return d},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});var p=e(a("group"),{behavior:"url(#default#VML)"});return!d(p,"transform")&&p.adj?j():k=d(p,"animation"),i});var iosOverlay=function(a){"use strict";var b,c=function(){},d={onbeforeshow:c,onshow:c,onbeforehide:c,onhide:c,text:"",icon:null,spinner:null,duration:null,id:null,parentEl:null},e=function(a,b){var c={};for(var d in a)c[d]=a[d];for(var e in b)c[e]=b[e];return c},f=function(){var a=document.body||document.documentElement,b=a.style,c="transition";if("string"==typeof b[c])return!0;var d=["Moz","Webkit","Khtml","O","ms"];c=c.charAt(0).toUpperCase()+c.substr(1);for(var e=0;e<d.length;e++)if("string"==typeof b[d[e]+c])return!0;return!1}(),g=e(d,a),h=function(a){"ios-overlay-show"===a.animationName&&g.onshow(),"ios-overlay-hide"===a.animationName&&(j(),g.onhide())},i=(function(){b=document.createElement("div"),b.className="ui-ios-overlay",b.innerHTML+='<span class="title">'+g.text+"</span",a.icon?b.innerHTML+='<img src="'+a.icon+'">':a.spinner&&b.appendChild(a.spinner.el),f&&(b.addEventListener("webkitAnimationEnd",h,!1),b.addEventListener("msAnimationEnd",h,!1),b.addEventListener("oAnimationEnd",h,!1),b.addEventListener("animationend",h,!1)),a.parentEl?document.getElementById(a.parentEl).appendChild(b):document.body.appendChild(b),g.onbeforeshow(),f?b.className+=" ios-overlay-show":"function"==typeof $&&$(b).fadeIn({duration:200},function(){g.onshow()}),g.duration&&window.setTimeout(function(){i()},g.duration)}(),function(){g.onbeforehide(),f?b.className=b.className.replace("show","hide"):"function"==typeof $&&$(b).fadeOut({duration:200},function(){j(),g.onhide()})}),j=function(){a.parentEl?document.getElementById(a.parentEl).removeChild(b):document.body.removeChild(b)},k=function(a){a.text&&(b.getElementsByTagName("span")[0].innerHTML=a.text),a.icon&&(g.spinner&&g.spinner.el.parentNode.removeChild(g.spinner.el),b.innerHTML+='<img src="'+a.icon+'">')};return{hide:i,destroy:j,update:k}};!function(a){if("object"==typeof exports)module.exports=a();else if("function"==typeof define&&define.amd)define(a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.PouchDB=a()}}(function(){var define,module,exports;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){"use strict";function c(a,b){for(var c=0;c<a.length;c++)if(b(a[c],c)===!0)return a[c];return!1}function d(a){return function(b,c){b||c[0].error?a(b||c[0]):a(null,c[0])}}function e(a){var b={},c=[];return i.traverseRevTree(a,function(a,d,e,f){var g=d+"-"+e;return a&&(b[g]=0),void 0!==f&&c.push({from:f,to:g}),g}),c.reverse(),c.forEach(function(a){b[a.from]=void 0===b[a.from]?1+b[a.to]:Math.min(b[a.from],1+b[a.to])}),b}function f(a,b,c){var d="limit"in b?b.keys.slice(b.skip,b.limit+b.skip):b.skip>0?b.keys.slice(b.skip):b.keys;if(b.descending&&d.reverse(),!d.length)return a._allDocs({limit:0},c);var e={offset:b.skip};return n.all(d.map(function(c){var d=h.extend(!0,{key:c,deleted:"ok"},b);return["limit","skip","keys"].forEach(function(a){delete d[a]}),new n(function(b,f){a._allDocs(d,function(a,d){return a?f(a):(e.total_rows=d.total_rows,void b(d.rows[0]||{key:c,error:"not_found"}))})})})).then(function(a){return e.rows=a,e})}function g(){var a=this;k.call(this),a.autoCompact=function(b){return a.auto_compaction?function(c,d){if(c)b(c);else{var e=d.length,f=function(){e--,e||b(null,d)};d.forEach(function(b){b.ok?a.compactDocument(b.id,1,f):f()})}}:b};var b,c=0,d=["change","delete","create","update"];this.on("newListener",function(e){if(~d.indexOf(e)){if(c)return void c++;c++;var f=0;b=this.changes({conflicts:!0,include_docs:!0,continuous:!0,since:"now",onChange:function(b){b.seq<=f||(f=b.seq,a.emit("change",b),b.doc._deleted?a.emit("delete",b):"1"===b.doc._rev.split("-")[0]?a.emit("create",b):a.emit("update",b))}})}}),this.on("removeListener",function(a){~d.indexOf(a)&&(c--,c||b.cancel())})}var h=a("./utils"),i=a("./merge"),j=a("./deps/errors"),k=a("events").EventEmitter,l=a("./deps/upsert"),m=a("./changes"),n=h.Promise;h.inherits(g,k),b.exports=g,g.prototype.post=h.adapterFun("post",function(a,b,c){return"function"==typeof b&&(c=b,b={}),"object"!=typeof a||Array.isArray(a)?c(j.NOT_AN_OBJECT):void this.bulkDocs({docs:[a]},b,this.autoCompact(d(c)))}),g.prototype.put=h.adapterFun("put",h.getArguments(function(a){var b,c,e,f,g=a.shift(),i="_id"in g;if("object"!=typeof g||Array.isArray(g))return(f=a.pop())(j.NOT_AN_OBJECT);for(g=h.clone(g);b=a.shift(),c=typeof b,"string"!==c||i?"string"!==c||!i||"_rev"in g?"object"===c?e=b:"function"===c&&(f=b):g._rev=b:(g._id=b,i=!0),a.length;);e=e||{};var k=h.invalidIdError(g._id);return k?f(k):void this.bulkDocs({docs:[g]},e,this.autoCompact(d(f)))})),g.prototype.putAttachment=h.adapterFun("putAttachment",function(a,b,c,d,e,f){function g(a){return a._attachments=a._attachments||{},a._attachments[b]={content_type:e,data:d},h.put(a)}var h=this;return"function"==typeof e&&(f=e,e=d,d=c,c=null),"undefined"==typeof e&&(e=d,d=c,c=null),h.get(a).then(function(a){if(a._rev!==c)throw j.REV_CONFLICT;return g(a)},function(b){if(b.error===j.MISSING_DOC.error)return g({_id:a});throw b})}),g.prototype.removeAttachment=h.adapterFun("removeAttachment",function(a,b,c,d){var e=this;e.get(a,function(a,f){return a?void d(a):f._rev!==c?void d(j.REV_CONFLICT):f._attachments?(delete f._attachments[b],0===Object.keys(f._attachments).length&&delete f._attachments,void e.put(f,d)):d()})}),g.prototype.remove=h.adapterFun("remove",function(a,b,c){"function"==typeof b?(c=b,b={}):"string"==typeof b?a={_id:a,_rev:b}:void 0===b&&(b={}),b=h.clone(b),b.was_delete=!0;var e={_id:a._id,_rev:a._rev};e._deleted=!0,this.bulkDocs({docs:[e]},b,d(c))}),g.prototype.revsDiff=h.adapterFun("revsDiff",function(a,b,c){function d(a,b){j[a]||(j[a]={missing:[]}),j[a].missing.push(b)
}function e(b,c){var e=a[b].slice(0);i.traverseRevTree(c,function(a,c,f,g,h){var i=c+"-"+f,j=e.indexOf(i);-1!==j&&(e.splice(j,1),"available"!==h.status&&d(b,i))}),e.forEach(function(a){d(b,a)})}"function"==typeof b&&(c=b,b={}),b=h.clone(b);var f=Object.keys(a),g=0,j={};f.map(function(b){this._getRevisionTree(b,function(d,h){if(d&&"not_found"===d.name&&"missing"===d.message)j[b]={missing:a[b]};else{if(d)return c(d);e(b,h)}return++g===f.length?c(null,j):void 0})},this)}),g.prototype.compactDocument=function(a,b,c){var d=this;this._getRevisionTree(a,function(f,g){if(f)return c(f);var h=e(g),j=[],k=[];Object.keys(h).forEach(function(a){h[a]>b&&j.push(a)}),i.traverseRevTree(g,function(a,b,c,d,e){var f=b+"-"+c;"available"===e.status&&-1!==j.indexOf(f)&&(e.status="missing",k.push(f))}),d._doCompaction(a,g,k,c)})},g.prototype.compact=h.adapterFun("compact",function(a,b){"function"==typeof a&&(b=a,a={});var c=this;this.changes({complete:function(a,d){if(a)return void b();var e=d.results.length;return e?void d.results.forEach(function(a){c.compactDocument(a.id,0,function(){e--,e||b()})}):void b()}})}),g.prototype.get=h.adapterFun("get",function(a,b,d){function e(){var c=[],e=f.length;return e?void f.forEach(function(f){g.get(a,{rev:f,revs:b.revs,attachments:b.attachments},function(a,b){c.push(a?{missing:f}:{ok:b}),e--,e||d(null,c)})}):d(null,c)}if("function"==typeof b&&(d=b,b={}),"string"!=typeof a)return d(j.INVALID_ID);var f=[],g=this;if(!b.open_revs)return this._get(a,b,function(a,e){if(b=h.clone(b),a)return d(a);var f=e.doc;if(!f)return d(new Error("no doc!"));var j=e.metadata,k=e.ctx;if(b.conflicts){var l=i.collectConflicts(j);l.length&&(f._conflicts=l)}if(b.revs||b.revs_info){var m=i.rootToLeaf(j.rev_tree),n=c(m,function(a){return-1!==a.ids.map(function(a){return a.id}).indexOf(f._rev.split("-")[1])}),o=n.ids.map(function(a){return a.id}).indexOf(f._rev.split("-")[1])+1,p=n.ids.length-o;if(n.ids.splice(o,p),n.ids.reverse(),b.revs&&(f._revisions={start:n.pos+n.ids.length-1,ids:n.ids.map(function(a){return a.id})}),b.revs_info){var q=n.pos+n.ids.length;f._revs_info=n.ids.map(function(a){return q--,{rev:q+"-"+a.id,status:a.opts.status}})}}if(b.local_seq&&(f._local_seq=e.metadata.seq),b.attachments&&f._attachments){var r=f._attachments,s=Object.keys(r).length;if(0===s)return d(null,f);Object.keys(r).forEach(function(a){this._getAttachment(r[a],{encode:!0,ctx:k},function(b,c){f._attachments[a].data=c,--s||d(null,f)})},g)}else{if(f._attachments)for(var t in f._attachments)f._attachments.hasOwnProperty(t)&&(f._attachments[t].stub=!0);d(null,f)}});if("all"===b.open_revs)this._getRevisionTree(a,function(a,b){a&&(b=[]),f=i.collectLeaves(b).map(function(a){return a.rev}),e()});else{if(!Array.isArray(b.open_revs))return d(j.error(j.UNKNOWN_ERROR,"function_clause"));f=b.open_revs;for(var k=0;k<f.length;k++){var l=f[k];if("string"!=typeof l||!/^\d+-/.test(l))return d(j.error(j.BAD_REQUEST,"Invalid rev format"))}e()}}),g.prototype.getAttachment=h.adapterFun("getAttachment",function(a,b,c,d){var e=this;c instanceof Function&&(d=c,c={}),c=h.clone(c),this._get(a,c,function(a,f){return a?d(a):f.doc._attachments&&f.doc._attachments[b]?(c.ctx=f.ctx,void e._getAttachment(f.doc._attachments[b],c,d)):d(j.MISSING_DOC)})}),g.prototype.allDocs=h.adapterFun("allDocs",function(a,b){if("function"==typeof a&&(b=a,a={}),a=h.clone(a),a.skip="undefined"!=typeof a.skip?a.skip:0,"keys"in a){if(!Array.isArray(a.keys))return b(new TypeError("options.keys must be an array"));var c=["startkey","endkey","key"].filter(function(b){return b in a})[0];if(c)return void b(j.error(j.QUERY_PARSE_ERROR,"Query parameter `"+c+"` is not compatible with multi-get"));if("http"!==this.type())return f(this,a,b)}return this._allDocs(a,b)}),g.prototype.changes=function(a,b){return"function"==typeof a&&(b=a,a={}),new m(this,a,b)},g.prototype.close=h.adapterFun("close",function(a){return this._closed=!0,this._close(a)}),g.prototype.info=h.adapterFun("info",function(a){var b=this;this._info(function(c,d){if(c)return a(c);var e=b.prefix.length;d.db_name.length>e&&d.db_name.slice(0,e)===b.prefix&&(d.db_name=d.db_name.slice(e)),a(null,d)})}),g.prototype.id=h.adapterFun("id",function(a){return this._id(a)}),g.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},g.prototype.bulkDocs=h.adapterFun("bulkDocs",function(a,b,c){if("function"==typeof b&&(c=b,b={}),b=h.clone(b),Array.isArray(a)&&(a={docs:a}),!a||!a.docs||!Array.isArray(a.docs))return c(j.MISSING_BULK_DOCS);for(var d=0;d<a.docs.length;++d)if("object"!=typeof a.docs[d]||Array.isArray(a.docs[d]))return c(j.NOT_AN_OBJECT);return a=h.clone(a),"new_edits"in b||(b.new_edits="new_edits"in a?a.new_edits:!0),this._bulkDocs(a,b,this.autoCompact(c))}),g.prototype.registerDependentDatabase=h.adapterFun("registerDependentDatabase",function(a,b){function c(b){return b.dependentDbs=b.dependentDbs||{},b.dependentDbs[a]?!1:(b.dependentDbs[a]=!0,b)}var d=new this.constructor(a,{adapter:this._adapter});l(this,"_local/_pouch_dependentDbs",c,function(a){return a?b(a):b(null,{db:d})})})},{"./changes":6,"./deps/errors":10,"./deps/upsert":11,"./merge":16,"./utils":21,events:25}],2:[function(a,b){"use strict";function c(a){for(var b=c.options,d=b.parser[b.strictMode?"strict":"loose"].exec(a),e={},f=14;f--;)e[b.key[f]]=d[f]||"";return e[b.q.name]={},e[b.key[12]].replace(b.q.parser,function(a,c,d){c&&(e[b.q.name][c]=d)}),e}function d(a){return/^_(design|local)/.test(a)?a:encodeURIComponent(a)}function e(a,b){if(/http(s?):/.test(a)){var d=c(a);d.remote=!0,(d.user||d.password)&&(d.auth={username:d.user,password:d.password});var e=d.path.replace(/(^\/|\/$)/g,"").split("/");if(d.db=e.pop(),d.path=e.join("/"),b=b||{},b=i.clone(b),d.headers=b.headers||{},b.auth||d.auth){var f=b.auth||d.auth,g=i.btoa(f.username+":"+f.password);d.headers.Authorization="Basic "+g}return b.headers&&(d.headers=b.headers),d}return{host:"",path:"/",db:a,auth:!1}}function f(a,b){return g(a,a.db+"/"+b)}function g(a,b){if(a.remote){var c=a.path?"/":"";return a.protocol+"://"+a.host+":"+a.port+"/"+a.path+c+b}return"/"+b}function h(a,b){function c(a,b){return i.ajax(i.extend({},n,a),b)}function h(a,d,e,f){d=i.clone(d);var h=k.getHost(f),j={source:l.db,target:h.protocol===l.protocol&&h.authority===l.authority?h.db:h.source};d.continuous&&(j.continuous=!0),d.create_target&&(j.create_target=!0),d.doc_ids&&(j.doc_ids=d.doc_ids),d.filter&&"string"==typeof d.filter&&(j.filter=d.filter),d.query_params&&(j.query_params=d.query_params);var m,n={},o={headers:l.headers,method:"POST",url:g(l,"_replicate"),body:j};e.cancel=function(){this.cancelled=!0,m&&!n.ok&&m.abort(),n._local_id&&(o.body={replication_id:n._local_id}),o.body.cancel=!0,c(o,function(a,c,e){return a?b(a):void i.call(d.complete,null,n,e)})},e.cancelled||(m=c(o,function(a,c,e){return a?b(a):(n.ok=!0,c._local_id&&(n._local_id=c._local_id),void i.call(d.complete,null,c,e))}))}var k=this;k.getHost=a.getHost?a.getHost:e;var l=k.getHost(a.name,a),m=f(l,"");k.getUrl=function(){return m};var n=a.ajax||{};a=i.clone(a);var o=function(){c({headers:l.headers,method:"PUT",url:m},function(a){a&&401===a.status?c({headers:l.headers,method:"HEAD",url:m},function(a){a?b(a):b(null,k)}):a&&412!==a.status?b(a):b(null,k)})};a.skipSetup||c({headers:l.headers,method:"GET",url:m},function(a){a?404===a.status?o():b(a):b(null,k)}),k.type=function(){return"http"},k.id=i.adapterFun("id",function(a){c({headers:l.headers,method:"GET",url:g(l,"")},function(b,c){var d=c&&c.uuid?c.uuid+l.db:f(l,"");a(null,d)})}),k.request=i.adapterFun("request",function(a,b){a.headers=l.headers,a.url=f(l,a.url),c(a,b)}),k.compact=i.adapterFun("compact",function(a,b){"function"==typeof a&&(b=a,a={}),a=i.clone(a),c({headers:l.headers,url:f(l,"_compact"),method:"POST"},function(){function c(){k.info(function(d,e){e.compact_running?setTimeout(c,a.interval||200):b()})}"function"==typeof b&&c()})}),k._info=function(a){c({headers:l.headers,method:"GET",url:f(l,"")},function(b,c){b?a(b):(c.host=f(l,""),a(null,c))})},k.get=i.adapterFun("get",function(a,b,e){"function"==typeof b&&(e=b,b={}),b=i.clone(b),void 0===b.auto_encode&&(b.auto_encode=!0);var g=[];b.revs&&g.push("revs=true"),b.revs_info&&g.push("revs_info=true"),b.local_seq&&g.push("local_seq=true"),b.open_revs&&("all"!==b.open_revs&&(b.open_revs=JSON.stringify(b.open_revs)),g.push("open_revs="+b.open_revs)),b.attachments&&g.push("attachments=true"),b.rev&&g.push("rev="+b.rev),b.conflicts&&g.push("conflicts="+b.conflicts),g=g.join("&"),g=""===g?"":"?"+g,b.auto_encode&&(a=d(a));var h={headers:l.headers,method:"GET",url:f(l,a+g)},j=a.split("/");(j.length>1&&"_design"!==j[0]&&"_local"!==j[0]||j.length>2&&"_design"===j[0]&&"_local"!==j[0])&&(h.binary=!0),c(h,function(a,b,c){return a?e(a):void e(null,b,c)})}),k.remove=i.adapterFun("remove",function(a,b,e){"function"==typeof b?(e=b,b={}):"string"==typeof b?a={_id:a,_rev:b}:void 0===b&&(b={}),c({headers:l.headers,method:"DELETE",url:f(l,d(a._id))+"?rev="+a._rev},e)}),k.getAttachment=i.adapterFun("getAttachment",function(a,b,c,e){"function"==typeof c&&(e=c,c={}),c=i.clone(c),void 0===c.auto_encode&&(c.auto_encode=!0),c.auto_encode&&(a=d(a)),c.auto_encode=!1,k.get(a+"/"+b,c,e)}),k.removeAttachment=i.adapterFun("removeAttachment",function(a,b,e,g){c({headers:l.headers,method:"DELETE",url:f(l,d(a)+"/"+b)+"?rev="+e},g)}),k.putAttachment=i.adapterFun("putAttachment",function(a,b,e,g,h,i){"function"==typeof h&&(i=h,h=g,g=e,e=null),"undefined"==typeof h&&(h=g,g=e,e=null);var j=d(a)+"/"+b,k=f(l,j);e&&(k+="?rev="+e);var m={headers:l.headers,method:"PUT",url:k,processData:!1,body:g,timeout:6e4};m.headers["Content-Type"]=h,c(m,i)}),k.put=i.adapterFun("put",i.getArguments(function(a){var b,e,g,h,k=a.shift(),m="_id"in k;if("object"!=typeof k||Array.isArray(k))return(h=a.pop())(j.NOT_AN_OBJECT);for(k=i.clone(k);b=a.shift(),e=typeof b,"string"!==e||m?"string"!==e||!m||"_rev"in k?"object"===e?g=i.clone(b):"function"===e&&(h=b):k._rev=b:(k._id=b,m=!0),a.length;);g=g||{};var n=i.invalidIdError(k._id);if(n)return h(n);var o=[];g&&"undefined"!=typeof g.new_edits&&o.push("new_edits="+g.new_edits),o=o.join("&"),""!==o&&(o="?"+o),c({headers:l.headers,method:"PUT",url:f(l,d(k._id))+o,body:k},h)})),k.post=i.adapterFun("post",function(a,b,c){return"function"==typeof b&&(c=b,b={}),b=i.clone(b),"object"!=typeof a?c(j.NOT_AN_OBJECT):("_id"in a||(a._id=i.uuid()),void k.put(a,b,c))}),k._bulkDocs=function(a,b,d){"undefined"!=typeof b.new_edits&&(a.new_edits=b.new_edits),c({headers:l.headers,method:"POST",url:f(l,"_bulk_docs"),body:a},d)},k.allDocs=i.adapterFun("allDocs",function(a,b){"function"==typeof a&&(b=a,a={}),a=i.clone(a);var d,e=[],g="GET";if(a.conflicts&&e.push("conflicts=true"),a.descending&&e.push("descending=true"),a.include_docs&&e.push("include_docs=true"),a.key&&e.push("key="+encodeURIComponent(JSON.stringify(a.key))),a.startkey&&e.push("startkey="+encodeURIComponent(JSON.stringify(a.startkey))),a.endkey&&e.push("endkey="+encodeURIComponent(JSON.stringify(a.endkey))),"undefined"!=typeof a.inclusive_end&&e.push("inclusive_end="+!!a.inclusive_end),"undefined"!=typeof a.limit&&e.push("limit="+a.limit),"undefined"!=typeof a.skip&&e.push("skip="+a.skip),e=e.join("&"),""!==e&&(e="?"+e),"undefined"!=typeof a.keys){var h=2e3,j="keys="+encodeURIComponent(JSON.stringify(a.keys));j.length+e.length+1<=h?e+=(-1!==e.indexOf("?")?"&":"?")+j:(g="POST",d=JSON.stringify({keys:a.keys}))}c({headers:l.headers,method:g,url:f(l,"_all_docs"+e),body:d},b)}),k._changes=function(a){var b=25;a=i.clone(a),a.timeout=a.timeout||3e4;var d={timeout:a.timeout-5e3},e="undefined"!=typeof a.limit?a.limit:!1;0===e&&(e=1);var g;g="returnDocs"in a?a.returnDocs:!0;var h=e;if(a.style&&(d.style=a.style),(a.include_docs||a.filter&&"function"==typeof a.filter)&&(d.include_docs=!0),a.continuous&&(d.feed="longpoll"),a.conflicts&&(d.conflicts=!0),a.descending&&(d.descending=!0),a.filter&&"string"==typeof a.filter&&(d.filter=a.filter,"_view"===a.filter&&a.view&&"string"==typeof a.view&&(d.view=a.view)),a.query_params&&"object"==typeof a.query_params)for(var k in a.query_params)a.query_params.hasOwnProperty(k)&&(d[k]=a.query_params[k]);var m,n,o=function(g,i){if(!a.aborted){d.since=g,a.descending?e&&(d.limit=h):d.limit=!e||h>b?b:h;var j="?"+Object.keys(d).map(function(a){return a+"="+d[a]}).join("&"),k={headers:l.headers,method:"GET",url:f(l,"_changes"+j),timeout:a.timeout};n=g,a.aborted||(m=c(k,i))}},p=10,q=0,r={results:[]},s=function(c,d){if(!a.aborted){var f=0;if(d&&d.results){f=d.results.length,r.last_seq=d.last_seq;var k={};k.query=a.query_params,d.results=d.results.filter(function(b){h--;var c=i.filterChange(a)(b);return c&&(g&&r.results.push(b),i.call(a.onChange,b)),c})}else if(c)return a.aborted=!0,void i.call(a.complete,c);d&&d.last_seq&&(n=d.last_seq);var l=e&&0>=h||d&&b>f||a.descending;if((!a.continuous||e&&0>=h)&&l)i.call(a.complete,null,r);else{c?q+=1:q=0;var m=1<<q,t=p*m,u=a.maximumWait||3e4;if(t>u)return void i.call(a.complete,c||j.UNKNOWN_ERROR);setTimeout(function(){o(n,s)},t)}}};return o(a.since||0,s),{cancel:function(){a.aborted=!0,m&&m.abort()}}},k.revsDiff=i.adapterFun("revsDif",function(a,b,d){"function"==typeof b&&(d=b,b={}),c({headers:l.headers,method:"POST",url:f(l,"_revs_diff"),body:a},function(a,b){d(a,b)})}),k._close=function(a){a()},k.replicateOnServer=function(a,b,c){return k.taskqueue.isReady?void a.info(function(d,e){h(a,b,c,e.host)}):(k.taskqueue.addTask("replicateOnServer",[a,b,c]),c)},k.destroy=i.adapterFun("destroy",function(a){c({url:f(l,""),method:"DELETE",headers:l.headers},function(b,c){b?(k.emit("error",b),a(b)):(k.emit("destroyed"),a(null,c))})})}var i=a("../utils"),j=a("../deps/errors");c.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},h.destroy=i.toPromise(function(a,b,c){var d=e(a,b);b=b||{},"function"==typeof b&&(c=b,b={}),b=i.clone(b),b.headers=d.headers,b.method="DELETE",b.url=f(d,"");var g=b.ajax||{};b=i.extend({},b,g),i.ajax(b,c)}),h.valid=function(){return!0},b.exports=h},{"../deps/errors":10,"../utils":21}],3:[function(a,b){(function(c,d){"use strict";function e(a,b,c){try{a.apply(b,c)}catch(d){window.PouchDB&&window.PouchDB.emit("error",d)}}function f(){if(!p.running&&p.queue.length){p.running=!0;var a=p.queue.shift();a.action(function(b,d){e(a.callback,this,[b,d]),p.running=!1,c.nextTick(f)})}}function g(a){return function(b){var c=b.target&&b.target.error&&b.target.error.name||b.target;a(n.error(n.IDB_ERROR,c,b.type))}}function h(){var a="_pouch__checkModernIdb_"+(d.navigator&&d.navigator.appVersion),b=l.hasLocalStorage()&&d.localStorage[a];if(b)return JSON.parse(b);var c="_pouch__checkModernIdb",e=null===d.indexedDB.open(c,1).onupgradeneeded;return d.indexedDB.deleteDatabase&&d.indexedDB.deleteDatabase(c),l.hasLocalStorage()&&(d.localStorage[a]=JSON.stringify(e)),e}function i(a,b){var c=this;p.queue.push({action:function(b){j(c,a,b)},callback:b}),f()}function j(a,b,e){function f(a){a.createObjectStore(r,{keyPath:"id"}).createIndex("seq","seq",{unique:!0}),a.createObjectStore(s,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),a.createObjectStore(t,{keyPath:"digest"}),a.createObjectStore(u,{keyPath:"id",autoIncrement:!1}),a.createObjectStore(v)}function h(a){var b=a.currentTarget.transaction.objectStore(r);b.openCursor().onsuccess=function(a){var c=a.target.result;if(c){var d=c.value,e=l.isDeleted(d),f=l.isLocalId(d.id);d.deletedOrLocal=e||f?"1":"0",b.put(d),c["continue"]()}else b.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1})}}function j(a,b){return a._bulk_seq-b._bulk_seq}function k(a,b,c){var e="startkey"in b?b.startkey:!1,f="endkey"in b?b.endkey:!1,g="key"in b?b.key:!1,h=b.skip||0,i="number"==typeof b.limit?b.limit:-1,j=b.inclusive_end!==!1,k="descending"in b&&b.descending?"prev":null,o=!1;k&&e&&f&&(o=f,f=!1);var p=null;try{e&&f?p=d.IDBKeyRange.bound(e,f,!1,!j):e?p=k?d.IDBKeyRange.upperBound(e):d.IDBKeyRange.lowerBound(e):f?p=k?d.IDBKeyRange.lowerBound(f,!j):d.IDBKeyRange.upperBound(f,!j):g&&(p=d.IDBKeyRange.only(g))}catch(q){return"DataError"===q.name&&0===q.code?c(null,{total_rows:a,offset:b.skip,rows:[]}):c(n.error(n.IDB_ERROR,q.name,q.message))}var t=A.transaction([r,s],"readonly");t.oncomplete=function(){c(null,{total_rows:a,offset:b.skip,rows:w})};var u=t.objectStore(r),v=k?u.openCursor(p,k):u.openCursor(p),w=[];v.onsuccess=function(a){function c(a,c){if(l.isLocalId(a.id))return d["continue"]();var e={id:a.id,key:a.id,value:{rev:f}};if(b.include_docs){e.doc=c,e.doc._rev=f,e.doc._doc_id_rev&&delete e.doc._doc_id_rev,b.conflicts&&(e.doc._conflicts=m.collectConflicts(a));for(var g in e.doc._attachments)e.doc._attachments.hasOwnProperty(g)&&(e.doc._attachments[g].stub=!0)}var k=l.isDeleted(a,f);if("ok"===b.deleted)k&&(e.value.deleted=!0,e.doc=null),w.push(e);else if(!k&&h--<=0){if(o){if(j&&e.key<o)return;if(!j&&e.key<=o)return}if(w.push(e),0===--i)return}d["continue"]()}if(a.target.result){var d=a.target.result,e=d.value,f=e.winningRev||m.winningRev(e);if(b.include_docs){var g=t.objectStore(s).index("_doc_id_rev"),k=e.id+"::"+f;g.get(k).onsuccess=function(a){c(d.value,a.target.result)}}else c(e)}}}function p(a){if(-1!==B)return a(null,B);var b,c=A.transaction([r],"readonly"),e=c.objectStore(r).index("deletedOrLocal");e.count(d.IDBKeyRange.only("0")).onsuccess=function(a){b=a.target.result},c.onerror=g(a),c.oncomplete=function(){B=b,a(null,B)}}var q=2,r="document-store",s="by-sequence",t="attach-store",u="meta-store",v="detect-blob-support",w=b.name,x=null,y=null,z=!1,A=null,B=-1;a.type=function(){return"idb"},a._id=l.toPromise(function(a){a(null,y)}),a._bulkDocs=function(a,b,c){function d(a){var b=a.target.result;b.updateSeq=(b.updateSeq||0)+I,F.objectStore(u).put(b)}function e(){if(!D.length)return void(F.objectStore(u).get(u).onsuccess=d);var a=D.shift(),b=a.metadata.id;if(b in H)return p(H[b],a);var c=F.objectStore(r).get(b);c.onsuccess=function(b){var c=b.target.result;c?p(c,a):q(a)}}function f(){var a=[];G.sort(j),G.forEach(function(b){if(delete b._bulk_seq,b.error)return void a.push(b);var c=b.metadata,d=m.winningRev(c);a.push({ok:!0,id:c.id,rev:d}),l.isLocalId(c.id)}),i.Changes.notify(w),B=-1,c(null,a)}function h(a,b){if(a.stub)return b();if("string"==typeof a.data){var d;try{d=atob(a.data)}catch(e){var f=n.error(n.BAD_ARG,"Attachments need to be base64 encoded");return c(f)}if(a.digest="md5-"+l.MD5(d),x){var g=a.content_type;d=l.fixBinary(d),a.data=l.createBlob([d],{type:g})}return b()}var h=new FileReader;h.onloadend=function(){var c=l.arrayBufferToBinaryString(this.result);a.digest="md5-"+l.MD5(c),x||(a.data=btoa(c)),b()},h.readAsArrayBuffer(a.data)}function k(a){function b(){c++,D.length===c&&a()}if(!D.length)return a();var c=0;D.forEach(function(a){function c(){e++,e===d.length&&b()}var d=a.data&&a.data._attachments?Object.keys(a.data._attachments):[];if(!d.length)return b();var e=0;for(var f in a.data._attachments)a.data._attachments.hasOwnProperty(f)&&h(a.data._attachments[f],c)})}function o(a,b,c,d){function e(a){h||(a?(h=a,d(h)):i===j.length&&g())}function f(a){i++,e(a)}function g(){a.data._doc_id_rev=a.data._id+"::"+a.data._rev;var e=F.objectStore(s).index("_doc_id_rev");e.getKey(a.data._doc_id_rev).onsuccess=function(e){var f=e.target.result?F.objectStore(s).put(a.data,e.target.result):F.objectStore(s).put(a.data);f.onsuccess=function(e){var f=a.metadata;f.seq=e.target.result,delete f.rev;var g=l.isLocalId(f.id);f.deletedOrLocal=c||g?"1":"0",f.winningRev=b;var h=F.objectStore(r).put(f);h.onsuccess=function(){delete f.deletedOrLocal,delete f.winningRev,G.push(a),H[a.metadata.id]=a.metadata,l.call(d)}}}}var h=null,i=0;a.data._id=a.metadata.id,a.data._rev=a.metadata.rev,I++,c&&(a.data._deleted=!0);var j=a.data._attachments?Object.keys(a.data._attachments):[];for(var k in a.data._attachments)if(a.data._attachments[k].stub)i++,e();else{var m=a.data._attachments[k].data;delete a.data._attachments[k].data;var n=a.data._attachments[k].digest;y(a,n,m,f)}j.length||g()}function p(a,b){var c=m.merge(a.rev_tree,b.metadata.rev_tree[0],1e3),d=l.isDeleted(a),f=l.isDeleted(b.metadata),g=d&&f&&z||!d&&z&&"new_leaf"!==c.conflicts;if(g)return G.push(v(n.REV_CONFLICT,b._bulk_seq)),e();b.metadata.rev_tree=c.tree;var h=m.winningRev(b.metadata);f=l.isDeleted(b.metadata,h),o(b,h,f,e)}function q(a){var c=m.winningRev(a.metadata),d=l.isDeleted(a.metadata,c);return"was_delete"in b&&d?(G.push(n.MISSING_DOC),e()):void o(a,c,d,e)}function v(a,b){return a._bulk_seq=b,a}function y(a,b,c,d){var e=F.objectStore(t);e.get(b).onsuccess=function(f){var g=f.target.result&&f.target.result.refs||{},h=[a.metadata.id,a.metadata.rev].join("@"),i={digest:b,body:c,refs:g};i.refs[h]=!0,e.put(i).onsuccess=function(){l.call(d)}}}var z=b.new_edits,C=a.docs,D=C.map(function(a,b){var c=l.parseDoc(a,z);return c._bulk_seq=b,c}),E=D.filter(function(a){return a.error});if(E.length)return c(E[0]);var F,G=[],H={},I=0;k(function(){F=A.transaction([r,s,t,u],"readwrite"),F.onerror=g(c),F.ontimeout=g(c),F.oncomplete=f,e()})},a._get=function(a,b,c){function d(){c(g,{doc:e,metadata:f,ctx:h})}var e,f,g,h;b=l.clone(b),h=b.ctx?b.ctx:A.transaction([r,s,t],"readonly"),h.objectStore(r).get(a).onsuccess=function(a){if(f=a.target.result,!f)return g=n.MISSING_DOC,d();if(l.isDeleted(f)&&!b.rev)return g=n.error(n.MISSING_DOC,"deleted"),d();var c=h.objectStore(s),i=b.rev||f.winningRev||m.winningRev(f),j=f.id+"::"+i;c.index("_doc_id_rev").get(j).onsuccess=function(a){return e=a.target.result,e&&e._doc_id_rev&&delete e._doc_id_rev,e?void d():(g=n.MISSING_DOC,d())}}},a._getAttachment=function(a,b,c){var d,e;b=l.clone(b),e=b.ctx?b.ctx:A.transaction([r,s,t],"readonly");var f=a.digest,g=a.content_type;e.objectStore(t).get(f).onsuccess=function(a){var e=a.target.result.body;if(b.encode)if(x){var f=new FileReader;f.onloadend=function(){var a=l.arrayBufferToBinaryString(this.result);d=btoa(a),c(null,d)},f.readAsArrayBuffer(e)}else d=e,c(null,d);else x?d=e:(e=l.fixBinary(atob(e)),d=l.createBlob([e],{type:g})),c(null,d)}},a._allDocs=function(a,b){p(function(c,d){return c?b(c):0===a.limit?b(null,{total_rows:d,offset:a.skip,rows:[]}):void k(d,a,b)})},a._info=function(a){p(function(b,c){if(b)return a(b);if(null===A){var d=new Error("db isn't open");return d.id="idbNull",a(d)}var e=0,f=A.transaction([u],"readonly");f.objectStore(u).get(u).onsuccess=function(a){e=a.target.result&&a.target.result.updateSeq||0},f.oncomplete=function(){a(null,{db_name:w,doc_count:c,update_seq:e})}})},a._changes=function(b){function c(){o=A.transaction([r,s]),o.oncomplete=f;var a;a=h?o.objectStore(s).openCursor(d.IDBKeyRange.lowerBound(b.since,!0),h):o.objectStore(s).openCursor(d.IDBKeyRange.lowerBound(b.since,!0)),a.onsuccess=e,a.onerror=onerror}function e(a){var c=a.target.result;if(c){var d=c.value;if(l.isLocalId(d._id)||b.doc_ids&&-1===b.doc_ids.indexOf(d._id))return c["continue"]();var e=o.objectStore(r);e.get(d._id).onsuccess=function(a){var e=a.target.result;j<e.seq&&(j=e.seq);var f=e.winningRev||m.winningRev(e);if(d._rev!==f)return c["continue"]();delete d._doc_id_rev;var g=b.processChange(d,e,b);g.seq=c.key,t(g)&&(q++,n&&p.push(g),b.onChange(g)),q!==k&&c["continue"]()}}}function f(){b.continuous||b.complete(null,{results:p,last_seq:j})}if(b=l.clone(b),b.continuous){var g=w+":"+l.uuid();return i.Changes.addListener(w,g,a,b),i.Changes.notify(w),{cancel:function(){i.Changes.removeListener(w,g)}}}var h=b.descending?"prev":null,j=0;b.since=b.since&&!h?b.since:0;var k="limit"in b?b.limit:-1;0===k&&(k=1);var n;n="returnDocs"in b?b.returnDocs:!0;var o,p=[],q=0,t=l.filterChange(b);c()},a._close=function(a){return null===A?a(n.NOT_OPEN):(A.close(),delete o[w],A=null,void a())},a._getRevisionTree=function(a,b){var c=A.transaction([r],"readonly"),d=c.objectStore(r).get(a);d.onsuccess=function(a){var c=a.target.result;c?b(null,c.rev_tree):b(n.MISSING_DOC)}},a._doCompaction=function(a,b,c,d){var e=A.transaction([r,s],"readwrite"),f=e.objectStore(r);f.get(a).onsuccess=function(d){var f=d.target.result;f.rev_tree=b;var g=c.length;c.forEach(function(b){var c=e.objectStore(s).index("_doc_id_rev"),d=a+"::"+b;c.getKey(d).onsuccess=function(a){var b=a.target.result;b&&(e.objectStore(s)["delete"](b),g--,g||e.objectStore(r).put(f))}})},e.oncomplete=function(){l.call(d)}};var C=o[w];if(C)return A=C.idb,x=C.blobSupport,y=C.instanceId,z=C.idStored,void c.nextTick(function(){e(null,a)});var D=d.indexedDB.open(w,q);"openReqList"in i||(i.openReqList={}),i.openReqList[w]=D,D.onupgradeneeded=function(a){var b=a.target.result;a.oldVersion<1&&f(b),a.oldVersion<2&&h(a)},D.onsuccess=function(b){A=b.target.result,A.onversionchange=function(){A.close(),delete o[w]},A.onabort=function(){A.close(),delete o[w]};var c=A.transaction([u,v],"readwrite"),d=c.objectStore(u).get(u);d.onsuccess=function(b){var d=function(){null!==x&&z&&(o[w]={idb:A,blobSupport:x,instanceId:y,idStored:z,loaded:!0},e(null,a))},f=b.target.result||{id:u};w+"_id"in f?(y=f[w+"_id"],z=!0,d()):(y=l.uuid(),f[w+"_id"]=y,c.objectStore(u).put(f).onsuccess=function(){z=!0,d()});try{c.objectStore(v).put(l.createBlob(),"key"),x=!0}catch(g){x=!1}finally{d()}}},D.onerror=g(e)}function k(a,b,c){"openReqList"in i||(i.openReqList={}),i.Changes.removeAllListeners(a),i.openReqList[a]&&i.openReqList[a].result&&i.openReqList[a].result.close();var e=d.indexedDB.deleteDatabase(a);e.onsuccess=function(){i.openReqList[a]&&(i.openReqList[a]=null),l.hasLocalStorage()&&delete d.localStorage[a],delete o[a],c(null,{ok:!0})},e.onerror=g(c)}var l=a("../utils"),m=a("../merge"),n=a("../deps/errors"),o={},p={running:!1,queue:[]};i.valid=function(){return d.indexedDB&&h()},i.destroy=l.toPromise(function(a,b,c){p.queue.push({action:function(c){k(a,b,c)},callback:c}),f()}),i.Changes=new l.Changes,b.exports=i}).call(this,a("/Users/daleharvey/src/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../deps/errors":10,"../merge":16,"../utils":21,"/Users/daleharvey/src/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":26}],4:[function(a,b){b.exports=["idb","websql"]},{}],5:[function(a,b){(function(c){"use strict";function d(a){return"'"+a+"'"}function e(a,b,c,d,e){return"SELECT "+a+" FROM "+("string"==typeof b?b:b.join(" JOIN "))+(c?" ON "+c:"")+(d?" WHERE "+("string"==typeof d?d:d.join(" AND ")):"")+(e?" ORDER BY "+e:"")}function f(a){return function(b){var c=b&&b.constructor.toString().match(/function ([^\(]+)/),d=c&&c[1]||b.type,e=b.target||b.message;a(l.error(l.WSQ_ERROR,e,d))}}function g(a){return decodeURIComponent(window.escape(a))}function h(a,b){for(var c="",d="UTF-8"===b?2:4,e=0,f=a.length;f>e;e+=d){var h=a.substring(e,e+d);4===d&&(h=h.substring(2,4)+h.substring(0,2)),c+=String.fromCharCode(parseInt(h,16))}return c="UTF-8"===b?g(c):c}function i(a,b){function d(){j.hasLocalStorage()&&(c.localStorage["_pouch__websqldb_"+H]=!0),b(null,F)}function g(a){a.executeSql(x),a.executeSql("ALTER TABLE "+s+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){a.executeSql(v),a.executeSql("ALTER TABLE "+r+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){a.executeSql(w);var b="SELECT "+r+".winningseq AS seq, "+r+".json AS metadata FROM "+s+" JOIN "+r+" ON "+s+".seq = "+r+".winningseq";a.executeSql(b,[],function(a,b){for(var c=[],d=[],e=0;e<b.rows.length;e++){var f=b.rows.item(e),g=f.seq,h=JSON.parse(f.metadata);j.isDeleted(h)&&c.push(g),j.isLocalId(h.id)&&d.push(h.id)}a.executeSql("UPDATE "+r+"SET local = 1 WHERE id IN ("+d.map(function(){return"?"}).join(",")+")",d),a.executeSql("UPDATE "+s+" SET deleted = 1 WHERE seq IN ("+c.map(function(){return"?"}).join(",")+")",c)})})})}function m(a){for(;I.length>0;){var b=I.pop();b(null,G)}A(a)}function A(a){a.executeSql("SELECT dbid, hex(dbid) AS hexId FROM "+u,[],function(a,b){var c=b.rows.item(0).dbid,d=b.rows.item(0).hexId;E=d.length===2*c.length?"UTF-8":"UTF-16"})}function B(a,b){if(0===b){var c="CREATE TABLE IF NOT EXISTS "+u+" (update_seq, dbid, db_version INTEGER)",d="CREATE TABLE IF NOT EXISTS "+t+" (digest, json, body BLOB)",e="CREATE TABLE IF NOT EXISTS "+r+" (id unique, json, winningseq, local TINYINT(1))",f="CREATE TABLE IF NOT EXISTS "+s+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, doc_id_rev UNIQUE, json, deleted TINYINT(1))";a.executeSql(d),a.executeSql(e,[],function(){a.executeSql(x),a.executeSql(w)}),a.executeSql(f,[],function(){a.executeSql(v)}),a.executeSql(c,[],function(){var b="INSERT INTO "+u+" (update_seq, db_version, dbid) VALUES (?, ?, ?)";G=j.uuid(),a.executeSql(b,[0,q,G]),m(a)})}else 1===b&&(g(a),a.executeSql("UPDATE "+u+" SET db_version = "+q)),a.executeSql("SELECT dbid FROM "+u,[],function(a,b){G=b.rows.item(0).dbid,m(a)})}function C(){K.transaction(function(a){a.executeSql("SELECT sql FROM sqlite_master WHERE tbl_name = "+u,[],function(a,b){b.rows.length?/db_version/.test(b.rows.item(0).sql)?a.executeSql("SELECT db_version FROM "+u,[],function(a,b){var c=b.rows.item(0).db_version;B(a,c)}):a.executeSql("ALTER TABLE "+u+" ADD COLUMN db_version INTEGER",[],function(){B(a,1)}):B(a,0)})},f(b),d)}function D(a,b){if(-1!==J)return b(J);var c=e("COUNT("+r+".id) AS 'num'",[r,s],y,[s+".deleted=0",r+".local=0"]);a.executeSql(c,[],function(a,c){J=c.rows.item(0).num,b(J)})}var E,F=this,G=null,H=a.name,I=[],J=-1,K=n(H,o,H,p);return K?("function"!=typeof K.readTransaction&&(K.readTransaction=K.transaction),j.isCordova()&&"undefined"!=typeof c?c.addEventListener(H+"_pouch",function L(){c.removeEventListener(H+"_pouch",L,!1),C()},!1):C(),F.type=function(){return"websql"},F._id=j.toPromise(function(a){a(null,G)}),F._info=function(a){K.readTransaction(function(b){D(b,function(c){var d="SELECT update_seq FROM "+u;b.executeSql(d,[],function(b,d){var e=d.rows.item(0).update_seq;a(null,{db_name:H,doc_count:c,update_seq:e})})})},f(a))},F._bulkDocs=function(a,b,c){function d(a,b){return a._bulk_seq-b._bulk_seq}function g(){var a=[];D.sort(d),D.forEach(function(b){if(delete b._bulk_seq,b.error)return void a.push(b);var c=b.metadata,d=k.winningRev(c);a.push({ok:!0,id:c.id,rev:d}),j.isLocalId(c.id)||z++}),i.Changes.notify(H);var b="SELECT update_seq FROM "+u;C.executeSql(b,[],function(b,d){var e=d.rows.item(0).update_seq+z,f="UPDATE "+u+" SET update_seq=?";b.executeSql(f,[e],function(){c(null,a)})})}function h(a,b){if(a.stub)return b();if("string"==typeof a.data){try{a.data=atob(a.data)}catch(d){var e=l.error(l.BAD_ARG,"Attachments need to be base64 encoded");return c(e)}var f=j.fixBinary(a.data);a.data=j.createBlob([f],{type:a.content_type})}var g=new FileReader;g.onloadend=function(){var c=j.arrayBufferToBinaryString(this.result);a.data=c,a.digest="md5-"+j.MD5(c),b()},g.readAsArrayBuffer(a.data)}function m(a){function b(){c++,A.length===c&&a()}if(!A.length)return a();var c=0;A.forEach(function(a){function c(){e++,e===d.length&&b()}var d=a.data&&a.data._attachments?Object.keys(a.data._attachments):[],e=0;if(!d.length)return b();for(var f in a.data._attachments)a.data._attachments.hasOwnProperty(f)&&h(a.data._attachments[f],c)})}function n(a,b,c,d,f){function g(){var b=a.data,d=b._id+"::"+b._rev,f=c?1:0,g=e("seq",s,null,"doc_id_rev=?");C.executeSql(g,[d],function(a,c){var e,g;c.rows.length?(e="UPDATE "+s+" SET json=?, deleted=? WHERE doc_id_rev=?;",g=[JSON.stringify(b),f,d],C.executeSql(e,g,function(a){k(a,c.rows.item(0).seq)})):(e="INSERT INTO "+s+" (doc_id_rev, json, deleted) VALUES (?, ?, ?);",g=[d,JSON.stringify(b),f],C.executeSql(e,g,function(a,b){k(a,b.insertId)
}))})}function h(a){l||(a?(l=a,d(l)):m===n.length&&g())}function i(a){m++,h(a)}function k(c,e){a.metadata.seq=e,delete a.metadata.rev;var g=f?"UPDATE "+r+" SET json=?, winningseq=(SELECT seq FROM "+s+" WHERE doc_id_rev=?) WHERE id=?":"INSERT INTO "+r+" (id, winningseq, json, local) VALUES (?, ?, ?, ?);",h=JSON.stringify(a.metadata),i=a.metadata.id+"::"+b,k=j.isLocalId(a.metadata.id)?1:0,l=f?[h,i,a.metadata.id]:[a.metadata.id,e,h,k];c.executeSql(g,l,function(){D.push(a),E[a.metadata.id]=a.metadata,d()})}var l=null,m=0;a.data._id=a.metadata.id,a.data._rev=a.metadata.rev,c&&(a.data._deleted=!0);var n=a.data._attachments?Object.keys(a.data._attachments):[];for(var o in a.data._attachments)if(a.data._attachments[o].stub)m++,h();else{var p=a.data._attachments[o].data;delete a.data._attachments[o].data;var q=a.data._attachments[o].digest;w(a,q,p,i)}n.length||g()}function o(a,b){var c=k.merge(a.rev_tree,b.metadata.rev_tree[0],1e3),d=j.isDeleted(b.metadata),e=j.isDeleted(a),f=e&&d&&x||!e&&x&&"new_leaf"!==c.conflicts;if(f)return D.push(v(l.REV_CONFLICT,b._bulk_seq)),q();b.metadata.rev_tree=c.tree;var g=k.winningRev(b.metadata);d=j.isDeleted(b.metadata,g),n(b,g,d,q,!0)}function p(a){var c=k.winningRev(a.metadata),d=j.isDeleted(a.metadata,c);return"was_delete"in b&&d?(D.push(l.MISSING_DOC),q()):void n(a,c,d,q,!1)}function q(){if(!A.length)return g();var a=A.shift(),b=a.metadata.id;return b in E?o(E[b],a):void C.executeSql("SELECT json FROM "+r+" WHERE id = ?",[b],function(b,c){if(c.rows.length){var d=JSON.parse(c.rows.item(0).json);o(d,a)}else p(a)})}function v(a,b){return a._bulk_seq=b,a}function w(a,b,c,d){var e=[a.metadata.id,a.metadata.rev].join("@"),f={digest:b},g="SELECT digest, json FROM "+t+" WHERE digest=?";C.executeSql(g,[b],function(a,h){h.rows.length?(f.refs=JSON.parse(h.rows.item(0).json).refs,g="UPDATE "+t+" SET json=?, body=? WHERE digest=?",a.executeSql(g,[JSON.stringify(f),c,b],function(){d()})):(f.refs={},f.refs[e]=!0,g="INSERT INTO "+t+"(digest, json, body) VALUES (?, ?, ?)",a.executeSql(g,[b,JSON.stringify(f),c],function(){d()}))})}var x=b.new_edits,y=a.docs,z=0,A=y.map(function(a,b){var c=j.parseDoc(a,x);return c._bulk_seq=b,c}),B=A.filter(function(a){return a.error});if(B.length)return c(B[0]);var C,D=[],E={};m(function(){K.transaction(function(a){C=a,q()},f(c),function(){J=-1})})},F._get=function(a,b,c){function d(){c(h,{doc:f,metadata:g,ctx:m})}b=j.clone(b);var f,g,h;if(!b.ctx)return void K.readTransaction(function(d){b.ctx=d,F._get(a,b,c)});var i,k,m=b.ctx;b.rev?(i=e(z,[r,s],null,[s+".doc_id_rev=?",r+".id=?"]),k=[a+"::"+b.rev,a]):(i=e(z,[r,s],y,r+".id=?"),k=[a]),m.executeSql(i,k,function(a,c){if(!c.rows.length)return h=l.MISSING_DOC,d();var e=c.rows.item(0);return g=JSON.parse(e.metadata),e.deleted&&!b.rev?(h=l.error(l.MISSING_DOC,"deleted"),d()):(f=JSON.parse(e.data),void d())})},F._allDocs=function(a,b){var c,d=[],g="startkey"in a?a.startkey:!1,h="endkey"in a?a.endkey:!1,i="key"in a?a.key:!1,j="descending"in a?a.descending:!1,l="limit"in a?a.limit:-1,m="skip"in a?a.skip:0,n=a.inclusive_end!==!1,o=[],p=[r+".local = 0"];if(i!==!1)p.push(r+".id = ?"),o.push(i);else if(g!==!1||h!==!1){if(g!==!1&&(p.push(r+".id "+(j?"<=":">=")+" ?"),o.push(g)),h!==!1){var q=j?">":"<";n&&(q+="="),p.push(r+".id "+q+" ?"),o.push(h)}i!==!1&&(p.push(r+".id = ?"),o.push(i))}"ok"!==a.deleted&&p.push(s+".deleted = 0"),K.readTransaction(function(b){D(b,function(f){if(c=f,0!==l){var g=e(z,[r,s],y,p,r+".id "+(j?"DESC":"ASC"));g+=" LIMIT "+l+" OFFSET "+m,b.executeSql(g,o,function(b,c){for(var e=0,f=c.rows.length;f>e;e++){var g=c.rows.item(e),h=JSON.parse(g.metadata),i=JSON.parse(g.data),j=i._rev,l={id:h.id,key:h.id,value:{rev:j}};if(a.include_docs){l.doc=i,l.doc._rev=j,a.conflicts&&(l.doc._conflicts=k.collectConflicts(h));for(var m in l.doc._attachments)l.doc._attachments.hasOwnProperty(m)&&(l.doc._attachments[m].stub=!0)}if(g.deleted){if("ok"!==a.deleted)continue;l.value.deleted=!0,l.doc=null}d.push(l)}})}})},f(b),function(){b(null,{total_rows:c,offset:a.skip,rows:d})})},F._changes=function(a){function b(){var b=[r+".winningseq > "+a.since,r+".local = 0"],c=[];a.doc_ids&&(b.push(r+".id IN ("+a.doc_ids.map(function(){return"?"}).join(",")+")"),c=a.doc_ids);var i=e(z,[r,s],y,b,r+".winningseq "+(d?"DESC":"ASC")),l=j.filterChange(a);a.view||a.filter||(i+=" LIMIT "+f),K.readTransaction(function(b){b.executeSql(i,c,function(b,c){for(var d=0,e=0,i=c.rows.length;i>e;e++){var j=c.rows.item(e),m=JSON.parse(j.metadata);d<j.seq&&(d=j.seq);var n=JSON.parse(j.data),o=a.processChange(n,m,a);if(o.seq=j.seq,l(o)&&(k++,g&&h.push(o),a.onChange(o)),k===f)break}a.continuous||a.complete(null,{results:h,last_seq:d})})})}if(a=j.clone(a),a.continuous){var c=H+":"+j.uuid();return i.Changes.addListener(H,c,F,a),i.Changes.notify(H),{cancel:function(){i.Changes.removeListener(H,c)}}}var d=a.descending;a.since=a.since&&!d?a.since:0;var f="limit"in a?a.limit:-1;0===f&&(f=1);var g;g="returnDocs"in a?a.returnDocs:!0;var h=[],k=0;b()},F._close=function(a){a()},F._getAttachment=function(a,b,c){var d,e=b.ctx,f=a.digest,g=a.content_type,i="SELECT hex(body) as body FROM "+t+" WHERE digest=?";e.executeSql(i,[f],function(a,e){var f=h(e.rows.item(0).body,E);b.encode?d=btoa(f):(f=j.fixBinary(f),d=j.createBlob([f],{type:g})),c(null,d)})},F._getRevisionTree=function(a,b){K.readTransaction(function(c){var d="SELECT json AS metadata FROM "+r+" WHERE id = ?";c.executeSql(d,[a],function(a,c){if(c.rows.length){var d=JSON.parse(c.rows.item(0).metadata);b(null,d.rev_tree)}else b(l.MISSING_DOC)})})},void(F._doCompaction=function(a,b,c,d){return c.length?void K.transaction(function(e){var f="SELECT json AS metadata FROM "+r+" WHERE id = ?";e.executeSql(f,[a],function(e,f){if(!f.rows.length)return j.call(d);var g=JSON.parse(f.rows.item(0).metadata);g.rev_tree=b;var h=0;c.forEach(function(b){var f=a+"::"+b,i="DELETE FROM "+s+" WHERE doc_id_rev = ?";e.executeSql(i,[f],function(b){if(++h===c.length){var e="UPDATE "+r+" SET json = ? WHERE id = ?";b.executeSql(e,[JSON.stringify(g),a],function(){d()})}})})})}):d()})):b(l.UNKNOWN_ERROR)}var j=a("../utils"),k=a("../merge"),l=a("../deps/errors"),m={},n=j.getArguments(function(a){if("undefined"!=typeof c){if(c.navigator&&c.navigator.sqlitePlugin&&c.navigator.sqlitePlugin.openDatabase)return navigator.sqlitePlugin.openDatabase.apply(navigator.sqlitePlugin,a);if(c.sqlitePlugin&&c.sqlitePlugin.openDatabase)return c.sqlitePlugin.openDatabase.apply(c.sqlitePlugin,a);var b=m[a[0]];return b||(b=m[a[0]]=c.openDatabase.apply(c,a)),b}}),o=1,p=0,q=2,r=d("document-store"),s=d("by-sequence"),t=d("attach-store"),u=d("metadata-store"),v="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+s+" (seq, deleted)",w="CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+r+" (local, id)",x="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+r+" (winningseq)",y=s+".seq = "+r+".winningseq",z=s+".seq AS seq, "+s+".deleted AS deleted, "+s+".json AS data, "+r+".json AS metadata";i.valid=function(){if("undefined"!=typeof c){if(c.navigator&&c.navigator.sqlitePlugin&&c.navigator.sqlitePlugin.openDatabase)return!0;if(c.sqlitePlugin&&c.sqlitePlugin.openDatabase)return!0;if(c.openDatabase)return!0}return!1},i.destroy=j.toPromise(function(a,b,d){i.Changes.removeAllListeners(a);var e=n(a,o,a,p);e.transaction(function(a){var b=[r,s,t,u];b.forEach(function(b){a.executeSql("DROP TABLE IF EXISTS "+b,[])})},f(d),function(){j.hasLocalStorage()&&(delete c.localStorage["_pouch__websqldb_"+a],delete c.localStorage[a]),d(null,{ok:!0})})}),i.Changes=new j.Changes,b.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../deps/errors":10,"../merge":16,"../utils":21}],6:[function(a,b){"use strict";function c(a,b,c){function d(){f.cancel()}h.call(this);var f=this;this.db=a,b=b?e.clone(b):{};var g=c||b.complete||function(){},i=b.complete=e.once(function(b,c){b?f.emit("error",b):f.emit("complete",c),f.removeAllListeners(),a.removeListener("destroyed",d)});g&&(f.on("complete",function(a){g(null,a)}),f.on("error",function(a){g(a)}));var j=b.onChange;j&&f.on("change",j),a.once("destroyed",d),b.onChange=function(a){b.isCancelled||(f.emit("change",a),f.startSeq&&f.startSeq<=a.seq&&(f.emit("uptodate"),f.startSeq=!1),a.deleted?f.emit("delete",a):1===a.changes.length&&"1-"===a.changes[0].rev.slice(0,2)?f.emit("create",a):f.emit("update",a))};var k=new e.Promise(function(a,c){b.complete=function(b,d){b?c(b):a(d)}});f.once("cancel",function(){j&&f.removeListener("change",j),b.complete(null,{status:"cancelled"})}),this.then=k.then.bind(k),this["catch"]=k["catch"].bind(k),this.then(function(a){i(null,a)},i),a.taskqueue.isReady?f.doChanges(b):a.taskqueue.addTask(function(){f.isCancelled?f.emit("cancel"):f.doChanges(b)})}function d(a,b,c){var d=[{rev:a._rev}];"all_docs"===c.style&&(d=f.collectLeaves(b.rev_tree).map(function(a){return{rev:a.rev}}));var g={id:b.id,changes:d,doc:a};return e.isDeleted(b,a._rev)&&(g.deleted=!0),c.conflicts&&(g.doc._conflicts=f.collectConflicts(b),g.doc._conflicts.length||delete g.doc._conflicts),g}var e=a("./utils"),f=a("./merge"),g=a("./deps/errors"),h=a("events").EventEmitter,i=a("./evalFilter"),j=a("./evalView");b.exports=c,e.inherits(c,h),c.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},c.prototype.doChanges=function(a){var b=this,c=a.complete;if(a=e.clone(a),"live"in a&&!("continuous"in a)&&(a.continuous=a.live),a.processChange=d,"latest"===a.since&&(a.since="now"),a.since||(a.since=0),"now"===a.since)return void this.db.info().then(function(d){return b.isCancelled?void c(null,{status:"cancelled"}):(a.since=d.update_seq-1,void b.doChanges(a))},c);if(a.continuous&&"now"!==a.since&&this.db.info().then(function(a){b.startSeq=a.update_seq-1},function(a){if("idbNull"!==a.id)throw a}),"http"!==this.db.type()&&a.filter&&"string"==typeof a.filter)return this.filterChanges(a);"descending"in a||(a.descending=!1),a.limit=0===a.limit?1:a.limit,a.complete=c;var f=this.db._changes(a);if(f&&"function"==typeof f.cancel){var g=b.cancel;b.cancel=e.getArguments(function(a){f.cancel(),g.apply(this,a)})}},c.prototype.filterChanges=function(a){var b=this,c=a.complete;if("_view"===a.filter){if(!a.view||"string"!=typeof a.view){var d=new Error("`view` filter parameter is not provided.");return d.status=g.BAD_REQUEST.status,d.name=g.BAD_REQUEST.name,d.error=!0,void c(d)}var e=a.view.split("/");this.db.get("_design/"+e[0],function(d,f){if(b.isCancelled)return void c(null,{status:"cancelled"});if(d)return void c(d);if(f&&f.views&&f.views[e[1]]){var h=j(f.views[e[1]].map);return a.filter=h,void b.doChanges(a)}var i=f.views?"missing json key: "+e[1]:"missing json key: views";d||(d=new Error(i),d.status=g.MISSING_DOC.status,d.name=g.MISSING_DOC.name,d.error=!0),c(d)})}else{var f=a.filter.split("/");this.db.get("_design/"+f[0],function(d,e){if(b.isCancelled)return void c(null,{status:"cancelled"});if(d)return void c(d);if(e&&e.filters&&e.filters[f[1]]){var h=i(e.filters[f[1]]);return a.filter=h,void b.doChanges(a)}var j=e&&e.filters?"missing json key: "+f[1]:"missing json key: filters";return d||(d=new Error(j),d.status=g.MISSING_DOC.status,d.name=g.MISSING_DOC.name,d.error=!0),void c(d)})}}},{"./deps/errors":10,"./evalFilter":13,"./evalView":14,"./merge":16,"./utils":21,events:25}],7:[function(a,b){(function(c){"use strict";function d(a){a&&c.debug&&console.error(a)}function e(a,b,c){if(!(this instanceof e))return new e(a,b,c);var j=this;("function"==typeof b||"undefined"==typeof b)&&(c=b,b={}),"object"==typeof a&&(b=a,a=void 0),"undefined"==typeof c&&(c=d),b=b||{};var k=c;j.auto_compaction=b.auto_compaction,j.prefix=e.prefix,f.call(j),j.taskqueue=new h;var l=new i(function(d,f){c=function(a,b){return a?f(a):(delete b.then,void d(b))},b=g.clone(b);var h,i,k=b.name||a;return function(){try{if("string"!=typeof k)throw i=new Error("Missing/invalid DB name"),i.code=400,i;if(h=e.parseAdapter(k,b),b.originalName=k,b.name=h.name,b.adapter=b.adapter||h.adapter,j._adapter=b.adapter,!e.adapters[b.adapter])throw i=new Error("Adapter is missing"),i.code=404,i;if(!e.adapters[b.adapter].valid())throw i=new Error("Invalid Adapter"),i.code=404,i}catch(a){j.taskqueue.fail(a),j.changes=g.toPromise(function(b){b.complete&&b.complete(a)})}}(),i?f(i):(j.adapter=b.adapter,j.replicate={},j.replicate.from=function(a,b,c){return e.replicate(a,j,b,c)},j.replicate.to=function(a,b,c){return e.replicate(j,a,b,c)},j.sync=function(a,b,c){return e.sync(j,a,b,c)},j.replicate.sync=j.sync,j.destroy=g.adapterFun("destroy",function(a){var b=this;b.info(function(b,c){return b?a(b):void e.destroy(c.db_name,a)})}),e.adapters[b.adapter].call(j,b,function(a){function d(a){"destroyed"===a&&(j.emit("destroyed"),e.removeListener(b.name,d))}return a?void(c&&(j.taskqueue.fail(a),c(a))):(e.on(b.name,d),j.emit("created",j),e.emit("created",b.originalName),j.taskqueue.ready(j),void c(null,j))}),b.skipSetup&&j.taskqueue.ready(j),void(g.isCordova()&&cordova.fireWindowEvent(b.name+"_pouch",{})))});l.then(function(a){k(null,a)},k),j.then=l.then.bind(l),j["catch"]=l["catch"].bind(l)}var f=a("./adapter"),g=a("./utils"),h=a("./taskqueue"),i=g.Promise;g.inherits(e,f),b.exports=e}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./adapter":1,"./taskqueue":20,"./utils":21}],8:[function(a,b){"use strict";function c(a,b){function c(b,c,d){if(a.binary||a.json||!a.processData||"string"==typeof b){if(!a.binary&&a.json&&"string"==typeof b)try{b=JSON.parse(b)}catch(e){return d(e)}}else b=JSON.stringify(b);Array.isArray(b)&&(b=b.map(function(a){var b;return a.ok?a:a.error&&"conflict"===a.error?(b=f.REV_CONFLICT,b.id=a.id,b):a.error&&"forbidden"===a.error?(b=f.FORBIDDEN,b.id=a.id,b.reason=a.reason,b):a.missing?(b=f.MISSING_DOC,b.missing=a.missing,b):a})),d(null,b,c)}function h(a,b){var c,d,e,g;try{c=JSON.parse(a.responseText);for(g in f)if(f.hasOwnProperty(g)&&f[g].name===c.error){e=f[g];break}e||(e=f.UNKNOWN_ERROR,a.status&&(e.status=a.status),a.statusText&&(a.name=a.statusText)),d=f.error(e,c.reason)}catch(h){for(var g in f)if(f.hasOwnProperty(g)&&f[g].status===a.status){e=f[g];break}e||(e=f.UNKNOWN_ERROR,a.status&&(e.status=a.status),a.statusText&&(a.name=a.statusText)),d=f.error(e)}b(d)}var i=!1,j=g.getArguments(function(a){i||(b.apply(this,a),i=!0)});"function"==typeof a&&(j=a,a={}),a=g.clone(a);var k={method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1};if(a=g.extend(!0,k,a),"GET"===a.method&&!a.cache){var l=-1!==a.url.indexOf("?");a.url+=(l?"&":"?")+"_nonce="+g.uuid(16)}var m,n;n=a.xhr?new a.xhr:new XMLHttpRequest,n.open(a.method,a.url),n.withCredentials=!0,a.json&&(a.headers.Accept="application/json",a.headers["Content-Type"]=a.headers["Content-Type"]||"application/json",a.body&&a.processData&&"string"!=typeof a.body&&(a.body=JSON.stringify(a.body))),a.binary&&(n.responseType="arraybuffer");var o=function(a,b,c){var d="";if(c){var e=new Date;e.setTime(e.getTime()+24*c*60*60*1e3),d="; expires="+e.toGMTString()}document.cookie=a+"="+b+d+"; path=/"};for(var p in a.headers)if("Cookie"===p){var q=a.headers[p].split("=");o(q[0],q[1],10)}else n.setRequestHeader(p,a.headers[p]);"body"in a||(a.body=null);var r=function(){i||(n.abort(),h(n,j))};if(n.onreadystatechange=function(){if(4===n.readyState&&!i)if(clearTimeout(m),n.status>=200&&n.status<300){var b;b=a.binary?e([n.response||""],{type:n.getResponseHeader("Content-Type")}):n.responseText,c(b,n,j)}else h(n,j)},a.timeout>0&&(m=setTimeout(r,a.timeout),n.onprogress=function(){clearTimeout(m),m=setTimeout(r,a.timeout)},"undefined"==typeof d&&(d=-1!==Object.keys(n).indexOf("upload")),d&&(n.upload.onprogress=n.onprogress)),a.body&&a.body instanceof Blob){var s=new FileReader;s.onloadend=function(){for(var a="",b=new Uint8Array(this.result),c=b.byteLength,d=0;c>d;d++)a+=String.fromCharCode(b[d]);a=g.fixBinary(a),n.send(a)},s.readAsArrayBuffer(a.body)}else n.send(a.body);return{abort:r}}var d,e=a("./blob.js"),f=a("./errors"),g=a("../utils");b.exports=c},{"../utils":21,"./blob.js":9,"./errors":10}],9:[function(a,b){(function(a){"use strict";function c(b,c){b=b||[],c=c||{};try{return new Blob(b,c)}catch(d){if("TypeError"!==d.name)throw d;for(var e=a.BlobBuilder||a.MSBlobBuilder||a.MozBlobBuilder||a.WebKitBlobBuilder,f=new e,g=0;g<b.length;g+=1)f.append(b[g]);return f.getBlob(c.type)}}b.exports=c}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(a,b,c){"use strict";function d(a){this.status=a.status,this.name=a.error,this.message=a.reason,this.error=!0}d.prototype__proto__=Error.prototype,d.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message})},c.UNAUTHORIZED=new d({status:401,error:"unauthorized",reason:"Name or password is incorrect."}),c.MISSING_BULK_DOCS=new d({status:400,error:"bad_request",reason:"Missing JSON list of 'docs'"}),c.MISSING_DOC=new d({status:404,error:"not_found",reason:"missing"}),c.REV_CONFLICT=new d({status:409,error:"conflict",reason:"Document update conflict"}),c.INVALID_ID=new d({status:400,error:"invalid_id",reason:"_id field must contain a string"}),c.MISSING_ID=new d({status:412,error:"missing_id",reason:"_id is required for puts"}),c.RESERVED_ID=new d({status:400,error:"bad_request",reason:"Only reserved document ids may start with underscore."}),c.NOT_OPEN=new d({status:412,error:"precondition_failed",reason:"Database not open"}),c.UNKNOWN_ERROR=new d({status:500,error:"unknown_error",reason:"Database encountered an unknown error"}),c.BAD_ARG=new d({status:500,error:"badarg",reason:"Some query argument is invalid"}),c.INVALID_REQUEST=new d({status:400,error:"invalid_request",reason:"Request was invalid"}),c.QUERY_PARSE_ERROR=new d({status:400,error:"query_parse_error",reason:"Some query parameter is invalid"}),c.DOC_VALIDATION=new d({status:500,error:"doc_validation",reason:"Bad special document member"}),c.BAD_REQUEST=new d({status:400,error:"bad_request",reason:"Something wrong with the request"}),c.NOT_AN_OBJECT=new d({status:400,error:"bad_request",reason:"Document must be a JSON object"}),c.DB_MISSING=new d({status:404,error:"not_found",reason:"Database not found"}),c.IDB_ERROR=new d({status:500,error:"indexed_db_went_bad",reason:"unknown"}),c.WSQ_ERROR=new d({status:500,error:"web_sql_went_bad",reason:"unknown"}),c.LDB_ERROR=new d({status:500,error:"levelDB_went_went_bad",reason:"unknown"}),c.FORBIDDEN=new d({status:403,error:"forbidden",reason:"Forbidden by design doc validate_doc_update function"}),c.error=function(a,b,c){function d(){this.message=b,c&&(this.name=c)}return d.prototype=a,new d(b)}},{}],11:[function(a,b){"use strict";function c(a,b,c){return new e(function(e,f){return b&&"object"==typeof b&&(b=b._id),"string"!=typeof b?f(new Error("doc id is required")):void a.get(b,function(g,h){if(g)return"not_found"!==g.name?f(g):e(d(a,c({_id:b}),c));var i=c(h);return i?void e(d(a,i,c)):e(h)})})}function d(a,b,d){return a.put(b)["catch"](function(e){if("conflict"!==e.name)throw e;return c(a,b,d)})}var e=a("../utils").Promise;b.exports=function(a,b,d,e){return"function"!=typeof e?c(a,b,d):void c(a,b,d).then(function(a){e(null,a)},e)}},{"../utils":21}],12:[function(a,b){"use strict";function c(a){return 0|Math.random()*a}function d(a,b){b=b||e.length;var d="",f=-1;if(a){for(;++f<a;)d+=e[c(b)];return d}for(;++f<36;)switch(f){case 8:case 13:case 18:case 23:d+="-";break;case 19:d+=e[3&c(16)|8];break;default:d+=e[c(16)]}return d}var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");b.exports=d},{}],13:[function(_dereq_,module,exports){"use strict";function evalFilter(input){return eval(["(function () { return ",input," })()"].join(""))}module.exports=evalFilter},{}],14:[function(_dereq_,module,exports){"use strict";function evalView(input){return eval(["(function () {","  return function (doc) {","    var emitted = false;","    var emit = function (a, b) {","      emitted = true;","    };","    var view = "+input+";","    view(doc);","    if (emitted) {","      return true;","    }","  }","})()"].join("\n"))}module.exports=evalView},{}],15:[function(a,b){(function(c){"use strict";var d=a("./setup");b.exports=d,d.ajax=a("./deps/ajax"),d.extend=a("pouchdb-extend"),d.utils=a("./utils"),d.Errors=a("./deps/errors"),d.replicate=a("./replicate").replicate,d.sync=a("./sync"),d.version=a("./version");var e=a("./adapters/http");if(d.adapter("http",e),d.adapter("https",e),d.adapter("idb",a("./adapters/idb")),d.adapter("websql",a("./adapters/websql")),d.plugin(a("pouchdb-mapreduce")),!c.browser){var f=a("./adapters/leveldb");d.adapter("ldb",f),d.adapter("leveldb",f)}}).call(this,a("/Users/daleharvey/src/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"./adapters/http":2,"./adapters/idb":3,"./adapters/leveldb":24,"./adapters/websql":5,"./deps/ajax":8,"./deps/errors":10,"./replicate":17,"./setup":18,"./sync":19,"./utils":21,"./version":22,"/Users/daleharvey/src/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":26,"pouchdb-extend":47,"pouchdb-mapreduce":50}],16:[function(a,b){"use strict";function c(a){for(var b,c=a.shift(),d=[c.id,c.opts,[]],e=d;a.length;)c=a.shift(),b=[c.id,c.opts,[]],e[2].push(b),e=b;return d}function d(a,b){for(var c=[{tree1:a,tree2:b}],d=!1;c.length>0;){var e=c.pop(),f=e.tree1,g=e.tree2;(f[1].status||g[1].status)&&(f[1].status="available"===f[1].status||"available"===g[1].status?"available":"missing");for(var h=0;h<g[2].length;h++)if(f[2][0]){for(var i=!1,j=0;j<f[2].length;j++)f[2][j][0]===g[2][h][0]&&(c.push({tree1:f[2][j],tree2:g[2][h]}),i=!0);i||(d="new_branch",f[2].push(g[2][h]),f[2].sort())}else d="new_leaf",f[2][0]=g[2][h]}return{conflicts:d,tree:a}}function e(a,b,c){var e,f=[],g=!1,h=!1;return a.length?(a.forEach(function(a){if(a.pos===b.pos&&a.ids[0]===b.ids[0])e=d(a.ids,b.ids),f.push({pos:a.pos,ids:e.tree}),g=g||e.conflicts,h=!0;else if(c!==!0){var i=a.pos<b.pos?a:b,j=a.pos<b.pos?b:a,k=j.pos-i.pos,l=[],m=[];for(m.push({ids:i.ids,diff:k,parent:null,parentIdx:null});m.length>0;){var n=m.pop();0!==n.diff?n.ids&&n.ids[2].forEach(function(a,b){m.push({ids:a,diff:n.diff-1,parent:n.ids,parentIdx:b})}):n.ids[0]===j.ids[0]&&l.push(n)}var o=l[0];o?(e=d(o.ids,j.ids),o.parent[2][o.parentIdx]=e.tree,f.push({pos:i.pos,ids:i.ids}),g=g||e.conflicts,h=!0):f.push(a)}else f.push(a)}),h||f.push(b),f.sort(function(a,b){return a.pos-b.pos}),{tree:f,conflicts:g||"internal_node"}):{tree:[b],conflicts:"new_leaf"}}function f(a,b){var d=h.rootToLeaf(a).map(function(a){var d=a.ids.slice(-b);return{pos:a.pos+(a.ids.length-d.length),ids:c(d)}});return d.reduce(function(a,b){return e(a,b,!0).tree},[d.shift()])}var g=a("pouchdb-extend"),h={};h.merge=function(a,b,c){a=g(!0,[],a),b=g(!0,{},b);var d=e(a,b);return{tree:f(d.tree,c),conflicts:d.conflicts}},h.winningRev=function(a){var b=[];return h.traverseRevTree(a.rev_tree,function(a,c,d,e,f){a&&b.push({pos:c,id:d,deleted:!!f.deleted})}),b.sort(function(a,b){return a.deleted!==b.deleted?a.deleted>b.deleted?1:-1:a.pos!==b.pos?b.pos-a.pos:a.id<b.id?1:-1}),b[0].pos+"-"+b[0].id},h.traverseRevTree=function(a,b){for(var c,d=a.slice();c=d.pop();)for(var e=c.pos,f=c.ids,g=f[2],h=b(0===g.length,e,f[0],c.ctx,f[1]),i=0,j=g.length;j>i;i++)d.push({pos:e+1,ids:g[i],ctx:h})},h.collectLeaves=function(a){var b=[];return h.traverseRevTree(a,function(a,c,d,e,f){a&&b.unshift({rev:c+"-"+d,pos:c,opts:f})}),b.sort(function(a,b){return b.pos-a.pos}),b.map(function(a){delete a.pos}),b},h.collectConflicts=function(a){var b=h.winningRev(a),c=h.collectLeaves(a.rev_tree),d=[];return c.forEach(function(a){a.rev===b||a.opts.deleted||d.push(a.rev)}),d},h.rootToLeaf=function(a){var b=[];return h.traverseRevTree(a,function(a,c,d,e,f){if(e=e?e.slice(0):[],e.push({id:d,opts:f}),a){var g=c+1-e.length;b.unshift({pos:g,ids:e})}return e}),b},b.exports=h},{"pouchdb-extend":47}],17:[function(a,b,c){"use strict";function d(){m.call(this),this.cancelled=!1;var a=this,b=new k.Promise(function(b,c){a.once("complete",b),a.once("error",c)});a.then=function(a,c){return b.then(a,c)},a["catch"]=function(a){return b["catch"](a)},a["catch"](function(){})}function e(a,b,c){var d=c.filter?c.filter.toString():"";return a.id().then(function(a){return b.id().then(function(b){var e=a+b+d+JSON.stringify(c.query_params)+c.doc_ids;return"_local/"+k.MD5(e)})})}function f(a,b,c){return a.get(b)["catch"](function(a){if(404===a.status)return{_id:b};throw a}).then(function(b){return b.last_seq=c,a.put(b)})}function g(a,b,c){this.src=a,this.target=b,this.id=c}function h(a,b,c,d,e){function f(){if(0!==x.docs.length){var a=x.docs;return c.bulkDocs({docs:a},{new_edits:!1}).then(function(a){if(e.cancelled)throw r(),new Error("cancelled");var b=[];if(a.forEach(function(a){a.ok||(L.doc_write_failures++,b.push(new Error(a.reason||a.message||"Unknown reason")))}),b.length>0){var c=new Error("bulkDocs error");throw c.other_errors=b,q("target.bulkDocs failed to write docs",c),new Error("bulkWrite partial failure")}},function(b){throw L.doc_write_failures+=a.length,b})}}function h(){var a=x.diffs,c=Object.keys(a)[0],d=a[c].missing;return b.get(c,{revs:!0,open_revs:d,attachments:!0}).then(function(b){b.forEach(function(b){return e.cancelled?r():void(b.ok&&(L.docs_read++,x.pendingRevs++,x.docs.push(b.ok),delete a[b.ok._id]))})})}function i(){return Object.keys(x.diffs).length>0?h().then(i):k.Promise.resolve()}function j(){var a=Object.keys(x.diffs).filter(function(a){var b=x.diffs[a].missing;return 1===b.length&&"1-"===b[0].slice(0,2)});return b.allDocs({keys:a,include_docs:!0}).then(function(a){if(e.cancelled)throw r(),new Error("cancelled");a.rows.forEach(function(a){!a.doc||a.deleted||"1-"!==a.value.rev.slice(0,2)||a.doc._attachments&&0!==Object.keys(a.doc._attachments).length||(L.docs_read++,x.pendingRevs++,x.docs.push(a.doc),delete x.diffs[a.id])})})}function l(){return"http"===b.type()?j().then(i):i()}function m(){return A=!0,K.writeCheckpoint(x.seq).then(function(){if(A=!1,e.cancelled)throw r(),new Error("cancelled");L.last_seq=D=x.seq,L.docs_written+=x.docs.length,e.emit("change",k.clone(L)),x=void 0,v()})["catch"](function(a){throw A=!1,q("writeCheckpoint completed with error",a),a})}function n(){var a={};return x.changes.forEach(function(b){a[b.id]=b.changes.map(function(a){return a.rev})}),c.revsDiff(a).then(function(a){if(e.cancelled)throw r(),new Error("cancelled");x.diffs=a,x.pendingRevs=0})}function o(){if(!e.cancelled&&!x){if(0===y.length)return void p(!0);x=y.shift(),n().then(l).then(f).then(m).then(o)["catch"](function(a){q("batch processing terminated with error",a)})}}function p(a){return 0===z.changes.length?void(0!==y.length||x||((E&&M.live||B)&&e.emit("uptodate",k.clone(L)),B&&r())):void((a||B||z.changes.length>=F)&&(y.push(z),z={seq:0,changes:[],docs:[]},o()))}function q(a,b){C||(L.ok=!1,L.status="aborted",b.message=a,L.errors.push(b),y=[],z={seq:0,changes:[],docs:[]},r())}function r(){if(!(C||e.cancelled&&(L.status="cancelled",A)))if(L.status=L.status||"complete",L.end_time=new Date,L.last_seq=D,C=e.cancelled=!0,L.errors.length>0){var a=L.errors.pop();L.errors.length>0&&(a.other_errors=L.errors),a.result=L,e.emit("error",a)}else e.emit("complete",L)}function s(a){return e.cancelled?r():(I++,0!==z.changes.length||0!==y.length||x||e.emit("outofdate",k.clone(L)),z.seq=a.seq,z.changes.push(a),void p(0===y.length))}function t(a){return H=!1,e.cancelled?r():(I>0?(M.since=a.last_seq,v()):E?(M.live=!0,v()):B=!0,void p(!0))}function u(a){return H=!1,e.cancelled?r():void q("changes rejected",a)}function v(){!H&&!B&&y.length<G&&(H=!0,I=0,b.changes(M).on("change",s).then(t)["catch"](u))}function w(){K.getCheckpoint().then(function(a){D=a,M={since:D,limit:F,style:"all_docs",doc_ids:J,returnDocs:!1},d.filter&&(M.filter=d.filter),d.query_params&&(M.query_params=d.query_params),v()})["catch"](function(a){q("getCheckpoint rejected with ",a)})}var x,y=[],z={seq:0,changes:[],docs:[]},A=!1,B=!1,C=!1,D=0,E=d.continuous||d.live||!1,F=d.batch_size||100,G=d.batches_limit||10,H=!1,I=0,J=d.doc_ids,K=new g(b,c,a),L={ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]},M={};e.ready(b,c),e.once("cancel",r),"function"==typeof d.onChange&&e.on("change",d.onChange),"function"==typeof d.complete&&(e.once("error",d.complete),e.once("complete",function(a){d.complete(null,a)})),"undefined"==typeof d.since?w():(A=!0,K.writeCheckpoint(d.since).then(function(){return A=!1,e.cancelled?void r():(D=d.since,void w())})["catch"](function(a){throw A=!1,q("writeCheckpoint completed with error",a),a}))}function i(a){return"string"==typeof a?new l(a):a.then?a:k.Promise.resolve(a)}function j(a,b,c,f){"function"==typeof c&&(f=c,c={}),"undefined"==typeof c&&(c={}),c.complete||(c.complete=f||function(){}),c=k.clone(c),c.continuous=c.continuous||c.live;var g=new d(c);return i(a).then(function(a){return i(b).then(function(b){if(!c.server)return e(a,b,c).then(function(d){g.emit("id",d),h(d,a,b,c,g)});if("function"!=typeof a.replicateOnServer)throw new TypeError("Server replication not supported for "+a.type()+" adapter");if(a.type()!==b.type())throw new TypeError("Server replication for different adapter types ("+a.type()+" and "+b.type()+") is not supported");a.replicateOnServer(b,c,g)})})["catch"](function(a){g.emit("error",a),c.complete(a)}),g}var k=a("./utils"),l=a("./index"),m=a("events").EventEmitter;k.inherits(d,m),d.prototype.cancel=function(){this.cancelled=!0,this.emit("cancel")},d.prototype.ready=function(a,b){function c(){e.cancel()}function d(){e.removeAllListeners(),a.removeListener("destroyed",c),b.removeListener("destroyed",c)}var e=this;a.once("destroyed",c),b.once("destroyed",c),this.then(d,d)},g.prototype.writeCheckpoint=function(a){var b=this;return this.updateTarget(a).then(function(){return b.updateSource(a)})},g.prototype.updateTarget=function(a){return f(this.target,this.id,a)},g.prototype.updateSource=function(a){var b=this;return this.readOnlySource?k.Promise.resolve(!0):f(this.src,this.id,a)["catch"](function(a){if(401===a.status)return b.readOnlySource=!0,!0;throw a})},g.prototype.getCheckpoint=function(){var a=this;return a.target.get(a.id).then(function(b){return a.src.get(a.id).then(function(a){return b.last_seq===a.last_seq?a.last_seq:0},function(c){if(404===c.status&&b.last_seq)return a.src.put({_id:a.id,last_seq:0}).then(function(){return 0},function(c){return 401===c.status?(a.readOnlySource=!0,b.last_seq):0});throw c})})["catch"](function(a){if(404!==a.status)throw a;return 0})},c.replicate=j},{"./index":15,"./utils":21,events:25}],18:[function(a,b){(function(c){"use strict";var d=a("./constructor"),e=a("./utils"),f=e.Promise,g=a("events").EventEmitter;d.adapters={},d.preferredAdapters=a("./adapters/preferredAdapters.js"),d.prefix="_pouch_";var h=new g,i=["on","addListener","emit","listeners","once","removeAllListeners","removeListener","setMaxListeners"];i.forEach(function(a){d[a]=h[a].bind(h)}),d.setMaxListeners(0),d.parseAdapter=function(a,b){var f,g,h=a.match(/([a-z\-]*):\/\/(.*)/);if(h){if(a=/http(s?)/.test(h[1])?h[1]+"://"+h[2]:h[2],f=h[1],!d.adapters[f].valid())throw"Invalid adapter";return{name:a,adapter:h[1]}}var i="idb"in d.adapters&&"websql"in d.adapters&&e.hasLocalStorage()&&c.localStorage["_pouch__websqldb_"+d.prefix+a];if("undefined"!=typeof b&&b.db)g="leveldb";else for(var j=0;j<d.preferredAdapters.length;++j)if(g=d.preferredAdapters[j],g in d.adapters){if(i&&"idb"===g)continue;break}if(f=d.adapters[g],g&&f){var k="use_prefix"in f?f.use_prefix:!0;return{name:k?d.prefix+a:a,adapter:g}}throw"No valid adapter found"},d.destroy=e.toPromise(function(a,b,c){function e(){i.destroy(h,b,function(a,b){a?c(a):(d.emit("destroyed",h),d.emit(h,"destroyed"),c(null,b||{ok:!0}))})}("function"==typeof b||"undefined"==typeof b)&&(c=b,b={}),"object"==typeof a&&(b=a,a=void 0);var g=d.parseAdapter(b.name||a,b),h=g.name,i=d.adapters[g.adapter],j="use_prefix"in i?i.use_prefix:!0,k=j?h.replace(new RegExp("^"+d.prefix),""):h;
new d(k,{adapter:g.adapter},function(a,b){return a?c(a):void b.get("_local/_pouch_dependentDbs",function(a,b){if(a)return"not_found"!==a.name?c(a):e();var h=b.dependentDbs,i=Object.keys(h).map(function(a){var b=j?a.replace(new RegExp("^"+d.prefix),""):a;return d.destroy(b,{adapter:g.adapter})});f.all(i).then(e,function(a){c(a)})})})}),d.allDbs=e.toPromise(function(a){var b=new Error("allDbs method removed");b.stats="400",a(b)}),d.adapter=function(a,b){b.valid()&&(d.adapters[a]=b)},d.plugin=function(a){Object.keys(a).forEach(function(b){d.prototype[b]=a[b]})},b.exports=d}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./adapters/preferredAdapters.js":4,"./constructor":7,"./utils":21,events:25}],19:[function(a,b){"use strict";function c(a,b,f,g){function h(a){o||(o=!0,l.emit("cancel",a))}function i(a){l.emit("change",{direction:"pull",change:a})}function j(a){l.emit("change",{direction:"push",change:a})}function k(a,b){"change"!==a||b!==i&&b!==j?"cancel"===a&&b===h?l.removeAllListeners("cancel"):a in p&&b===p[a]&&l.removeAllListeners(a):l.removeAllListeners("change")}if(!(this instanceof c))return new c(a,b,f,g);var l=this;"function"==typeof f&&(g=f,f={}),"undefined"==typeof f&&(f={}),this.canceled=!1,f=d.clone(f);var m,n;"onChange"in f&&(m=f.onChange,delete f.onChange),"function"!=typeof g||f.complete?"complete"in f&&(n=f.complete,delete f.complete):n=g,this.push=e(a,b,f),this.pull=e(b,a,f);var o=!1,p={};this.on("newListener",function(a){"change"===a?(l.pull.on("change",i),l.push.on("change",j)):"cancel"===a?(l.pull.on("cancel",h),l.push.on("cancel",h)):"error"===a||"complete"===a||a in p||(p[a]=function(b){l.emit(a,b)},l.pull.on(a,p[a]),l.push.on(a,p[a]))}),this.on("removeListener",function(a){"change"===a?(l.pull.removeListener("change",i),l.push.removeListener("change",j)):"cancel"===a?(l.pull.removeListener("cancel",h),l.push.removeListener("cancel",h)):a in p&&"function"==typeof p[a]&&(l.pull.removeListener(a,p[a]),l.push.removeListener(a,p[a]),delete p[a])}),this.pull.on("removeListener",k),this.push.on("removeListener",k);var q=d.Promise.all([this.push,this.pull]).then(function(a){var b={push:a[0],pull:a[1]};return l.emit("complete",b),n&&n(null,b),l.removeAllListeners(),b},function(a){throw l.cancel(),l.emit("error",a),n&&n(a),l.removeAllListeners(),a});this.then=function(a,b){return q.then(a,b)},this["catch"]=function(a){return q["catch"](a)}}var d=a("./utils"),e=a("./replicate").replicate,f=a("events").EventEmitter;b.exports=c,d.inherits(c,f),c.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())}},{"./replicate":17,"./utils":21,events:25}],20:[function(a,b){"use strict";function c(){this.isReady=!1,this.failed=!1,this.queue=[]}b.exports=c,c.prototype.execute=function(){var a,b;if(this.failed)for(;a=this.queue.shift();)"function"!=typeof a?(b=a.parameters[a.parameters.length-1],"function"==typeof b?b(this.failed):"changes"===a.name&&"function"==typeof b.complete&&b.complete(this.failed)):a(this.failed);else if(this.isReady)for(;a=this.queue.shift();)"function"==typeof a?a():a.task=this.db[a.name].apply(this.db,a.parameters)},c.prototype.fail=function(a){this.failed=a,this.execute()},c.prototype.ready=function(a){return this.failed?!1:0===arguments.length?this.isReady:(this.isReady=a?!0:!1,this.db=a,void this.execute())},c.prototype.addTask=function(a,b){if("function"!=typeof a){var c={name:a,parameters:b};return this.queue.push(c),this.failed&&this.execute(),c}this.queue.push(a),this.failed&&this.execute()}},{}],21:[function(a,b,c){(function(b,d){function e(a){var b={};return a.forEach(function(a){b[a]=!0}),b}function f(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local}function g(){if(!(this instanceof g))return new g;var a=this;m.call(this),this.isChrome=f(),this.listeners={},this.hasLocal=!1,this.isChrome||(this.hasLocal=c.hasLocalStorage()),this.isChrome?chrome.storage.onChanged.addListener(function(b){null!=b.db_name&&a.emit(b.dbName.newValue)}):this.hasLocal&&(d.addEventListener?d.addEventListener("storage",function(b){a.emit(b.key)}):d.attachEvent("storage",function(b){a.emit(b.key)}))}var h=a("crypto"),i=a("md5-jkmyers"),j=a("./merge");c.extend=a("pouchdb-extend"),c.ajax=a("./deps/ajax"),c.createBlob=a("./deps/blob"),c.uuid=a("./deps/uuid"),c.getArguments=a("argsarray");var k=a("./deps/buffer"),l=a("./deps/errors"),m=a("events").EventEmitter;c.Promise="function"==typeof d.Promise?d.Promise:a("bluebird");var n=c.Promise,o=e(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree"]);c.clone=function(a){return c.extend(!0,{},a)},c.inherits=a("inherits"),c.invalidIdError=function(a){return a?"string"!=typeof a?l.INVALID_ID:/^_/.test(a)&&!/^_(design|local)/.test(a)?l.RESERVED_ID:void 0:l.MISSING_ID},c.call=c.getArguments(function(a){if(a.length){var b=a.shift();"function"==typeof b&&b.apply(this,a)}}),c.isLocalId=function(a){return/^_local/.test(a)},c.isDeleted=function(a,b){b||(b=j.winningRev(a));var c=b.indexOf("-");-1!==c&&(b=b.substring(c+1));var d=!1;return j.traverseRevTree(a.rev_tree,function(a,c,e,f,g){e===b&&(d=!!g.deleted)}),d},c.filterChange=function(a){return function(b){var c={},d=a.filter&&"function"==typeof a.filter;if(c.query=a.query_params,a.filter&&d&&!a.filter.call(this,b.doc,c))return!1;if(a.doc_ids&&-1===a.doc_ids.indexOf(b.id))return!1;if(a.include_docs)for(var e in b.doc._attachments)b.doc._attachments.hasOwnProperty(e)&&(b.doc._attachments[e].stub=!0);else delete b.doc;return!0}},c.parseDoc=function(a,b){var d,e,f,g={status:"available"};if(a._deleted&&(g.deleted=!0),b)if(a._id||(a._id=c.uuid()),e=c.uuid(32,16).toLowerCase(),a._rev){if(f=/^(\d+)-(.+)$/.exec(a._rev),!f)throw"invalid value for property '_rev'";a._rev_tree=[{pos:parseInt(f[1],10),ids:[f[2],{status:"missing"},[[e,g,[]]]]}],d=parseInt(f[1],10)+1}else a._rev_tree=[{pos:1,ids:[e,g,[]]}],d=1;else if(a._revisions&&(a._rev_tree=[{pos:a._revisions.start-a._revisions.ids.length+1,ids:a._revisions.ids.reduce(function(a,b){return null===a?[b,g,[]]:[b,{status:"missing"},[a]]},null)}],d=a._revisions.start,e=a._revisions.ids[0]),!a._rev_tree){if(f=/^(\d+)-(.+)$/.exec(a._rev),!f)return l.BAD_ARG;d=parseInt(f[1],10),e=f[2],a._rev_tree=[{pos:parseInt(f[1],10),ids:[f[2],g,[]]}]}var h=c.invalidIdError(a._id);if(h)return h;a._id=decodeURIComponent(a._id),a._rev=[d,e].join("-");var i={metadata:{},data:{}};for(var j in a)if(a.hasOwnProperty(j)){var k="_"===j[0];if(k&&!o[j])return h=l.error(l.DOC_VALIDATION),h.reason+=": "+j,h;k&&"_attachments"!==j?i.metadata[j.slice(1)]=a[j]:i.data[j]=a[j]}return i},c.isCordova=function(){return"undefined"!=typeof cordova||"undefined"!=typeof PhoneGap||"undefined"!=typeof phonegap},c.hasLocalStorage=function(){if(f())return!1;try{return d.localStorage}catch(a){return!1}},c.Changes=g,c.inherits(g,m),g.prototype.addListener=function(a,b,d,e){function f(){d.changes({include_docs:e.include_docs,conflicts:e.conflicts,continuous:!1,descending:!1,filter:e.filter,view:e.view,since:e.since,query_params:e.query_params,onChange:function(a){a.seq>e.since&&!e.cancelled&&(e.since=a.seq,c.call(e.onChange,a))}})}this.listeners[b]||(this.listeners[b]=f,this.on(a,f))},g.prototype.removeListener=function(a,b){b in this.listeners&&m.prototype.removeListener.call(this,a,this.listeners[b])},g.prototype.notifyLocalWindows=function(a){this.isChrome?chrome.storage.local.set({dbName:a}):this.hasLocal&&(localStorage[a]="a"===localStorage[a]?"b":"a")},g.prototype.notify=function(a){this.emit(a),this.notifyLocalWindows(a)},c.atob=b.browser&&"atob"in d?function(a){return atob(a)}:function(a){var b=new k(a,"base64");if(b.toString("base64")!==a)throw"Cannot base64 encode full string";return b.toString("binary")},c.btoa=b.browser&&"btoa"in d?function(a){return btoa(a)}:function(a){return new k(a,"binary").toString("base64")},c.fixBinary=function(a){if(!b.browser)return a;for(var c=a.length,d=new ArrayBuffer(c),e=new Uint8Array(d),f=0;c>f;f++)e[f]=a.charCodeAt(f);return d},c.once=function(a){var b=!1;return c.getArguments(function(c){if(b)throw"function"==typeof console.trace&&console.trace(),new Error("once called  more than once");b=!0,a.apply(this,c)})},c.toPromise=function(a){return c.getArguments(function(d){var e,f=this,g="function"==typeof d[d.length-1]?d.pop():!1;g&&(e=function(a,c){b.nextTick(function(){g(a,c)})});var h=new n(function(b,e){var g;try{var h=c.once(function(a,c){a?e(a):b(c)});d.push(h),g=a.apply(f,d),g&&"function"==typeof g.then&&b(g)}catch(i){e(i)}});return e&&h.then(function(a){e(null,a)},e),h.cancel=function(){return this},h})},c.adapterFun=function(a,b){return c.toPromise(c.getArguments(function(d){if(this._closed)return n.reject(new Error("database is closed"));var e=this;return this.taskqueue.isReady?b.apply(this,d):new c.Promise(function(b,c){e.taskqueue.addTask(function(f){f?c(f):b(e[a].apply(e,d))})})}))},c.arrayBufferToBinaryString=function(a){for(var b="",c=new Uint8Array(a),d=c.byteLength,e=0;d>e;e++)b+=String.fromCharCode(c[e]);return b},c.cancellableFun=function(a,b,d){d=d?c.clone(!0,{},d):{};var e=new m,f=d.complete||function(){},g=d.complete=c.once(function(a,b){a?f(a):(e.emit("end",b),f(null,b)),e.removeAllListeners()}),h=d.onChange||function(){},i=0;b.on("destroyed",function(){e.removeAllListeners()}),d.onChange=function(a){h(a),a.seq<=i||(i=a.seq,e.emit("change",a),a.deleted?e.emit("delete",a):1===a.changes.length&&"1-"===a.changes[0].rev.slice(0,1)?e.emit("create",a):e.emit("update",a))};var j=new n(function(a,b){d.complete=function(c,d){c?b(c):a(d)}});return j.then(function(a){g(null,a)},g),j.cancel=function(){j.isCancelled=!0,b.taskqueue.isReady&&d.complete(null,{status:"cancelled"})},b.taskqueue.isReady?a(b,d,j):b.taskqueue.addTask(function(){j.isCancelled?d.complete(null,{status:"cancelled"}):a(b,d,j)}),j.on=e.on.bind(e),j.once=e.once.bind(e),j.addListener=e.addListener.bind(e),j.removeListener=e.removeListener.bind(e),j.removeAllListeners=e.removeAllListeners.bind(e),j.setMaxListeners=e.setMaxListeners.bind(e),j.listeners=e.listeners.bind(e),j.emit=e.emit.bind(e),j},c.Crypto={},c.MD5=c.Crypto.MD5=function(a){return b.browser?i(a):h.createHash("md5").update(a).digest("hex")}}).call(this,a("/Users/daleharvey/src/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./deps/ajax":8,"./deps/blob":9,"./deps/buffer":24,"./deps/errors":10,"./deps/uuid":12,"./merge":16,"/Users/daleharvey/src/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":26,argsarray:23,bluebird:32,crypto:24,events:25,inherits:27,"md5-jkmyers":46,"pouchdb-extend":47}],22:[function(a,b){b.exports="2.2.3"},{}],23:[function(a,b){"use strict";function c(a){return function(){var b=arguments.length;if(b){for(var c=[],d=-1;++d<b;)c[d]=arguments[d];return a.call(this,c)}return a.call(this,[])}}b.exports=c},{}],24:[function(){},{}],25:[function(a,b){function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function d(a){return"function"==typeof a}function e(a){return"number"==typeof a}function f(a){return"object"==typeof a&&null!==a}function g(a){return void 0===a}b.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0,c.defaultMaxListeners=10,c.prototype.setMaxListeners=function(a){if(!e(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},c.prototype.emit=function(a){var b,c,e,h,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||f(this._events.error)&&!this._events.error.length))throw b=arguments[1],b instanceof Error?b:TypeError('Uncaught, unspecified "error" event.');if(c=this._events[a],g(c))return!1;if(d(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(e=arguments.length,h=new Array(e-1),i=1;e>i;i++)h[i-1]=arguments[i];c.apply(this,h)}else if(f(c)){for(e=arguments.length,h=new Array(e-1),i=1;e>i;i++)h[i-1]=arguments[i];for(j=c.slice(),e=j.length,i=0;e>i;i++)j[i].apply(this,h)}return!0},c.prototype.addListener=function(a,b){var e;if(!d(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,d(b.listener)?b.listener:b),this._events[a]?f(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,f(this._events[a])&&!this._events[a].warned){var e;e=g(this._maxListeners)?c.defaultMaxListeners:this._maxListeners,e&&e>0&&this._events[a].length>e&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},c.prototype.on=c.prototype.addListener,c.prototype.once=function(a,b){function c(){this.removeListener(a,c),e||(e=!0,b.apply(this,arguments))}if(!d(b))throw TypeError("listener must be a function");var e=!1;return c.listener=b,this.on(a,c),this},c.prototype.removeListener=function(a,b){var c,e,g,h;if(!d(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],g=c.length,e=-1,c===b||d(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(f(c)){for(h=g;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){e=h;break}if(0>e)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(e,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},c.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],d(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},c.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?d(this._events[a])?[this._events[a]]:this._events[a].slice():[]},c.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?d(a._events[b])?1:a._events[b].length:0}},{}],26:[function(a,b){var c=b.exports={};c.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),c.title="browser",c.browser=!0,c.env={},c.argv=[],c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")}},{}],27:[function(a,b){b.exports="function"==typeof Object.create?function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],28:[function(a,b){"use strict";function c(){}b.exports=c},{}],29:[function(a,b){"use strict";var c=a("./promise"),d=a("./reject"),e=a("./resolve"),f=a("./INTERNAL"),g=a("./handlers"),h=d(new TypeError("must be an array"));b.exports=function(a){function b(a,b){function c(a){i[b]=a,++j===d&&g.resolve(l,i)}e(a).then(c,function(a){g.reject(l,a)})}if("[object Array]"!==Object.prototype.toString.call(a))return h;var d=a.length;if(!d)return e([]);for(var i=new Array(d),j=0,k=-1,l=new c(f);++k<d;)b(a[k],k);return l}},{"./INTERNAL":28,"./handlers":31,"./promise":33,"./reject":35,"./resolve":36}],30:[function(a,b){"use strict";function c(a){var b=a&&a.then;return a&&"object"==typeof a&&"function"==typeof b?function(){b.apply(a,arguments)}:void 0}b.exports=c},{}],31:[function(a,b,c){"use strict";var d=a("./tryCatch"),e=a("./getThen"),f=a("./resolveThenable"),g=a("./states");c.resolve=function(a,b){var h=d(e,b);if("error"===h.status)return c.reject(a,h.value);var i=h.value;if(i)f.safely(a,i);else{a.state=g.FULFILLED,a.outcome=b;for(var j=-1,k=a.queue.length;++j<k;)a.queue[j].callFulfilled(b)}return a},c.reject=function(a,b){a.state=g.REJECTED,a.outcome=b;for(var c=-1,d=a.queue.length;++c<d;)a.queue[c].callRejected(b);return a}},{"./getThen":30,"./resolveThenable":37,"./states":38,"./tryCatch":39}],32:[function(a,b,c){b.exports=c=a("./promise"),c.resolve=a("./resolve"),c.reject=a("./reject"),c.all=a("./all")},{"./all":29,"./promise":33,"./reject":35,"./resolve":36}],33:[function(a,b){"use strict";function c(a){if(!(this instanceof c))return new c(a);if("function"!=typeof a)throw new TypeError("reslover must be a function");this.state=g.PENDING,this.queue=[],a!==e&&f.safely(this,a)}var d=a("./unwrap"),e=a("./INTERNAL"),f=a("./resolveThenable"),g=a("./states"),h=a("./queueItem");b.exports=c,c.prototype["catch"]=function(a){return this.then(null,a)},c.prototype.then=function(a,b){if("function"!=typeof a&&this.state===g.FULFILLED||"function"!=typeof b&&this.state===g.REJECTED)return this;var f=new c(e);if(this.state!==g.PENDING){var i=this.state===g.FULFILLED?a:b;d(f,i,this.outcome)}else this.queue.push(new h(f,a,b));return f}},{"./INTERNAL":28,"./queueItem":34,"./resolveThenable":37,"./states":38,"./unwrap":40}],34:[function(a,b){"use strict";function c(a,b,c){this.promise=a,"function"==typeof b&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),"function"==typeof c&&(this.onRejected=c,this.callRejected=this.otherCallRejected)}var d=a("./handlers"),e=a("./unwrap");b.exports=c,c.prototype.callFulfilled=function(a){d.resolve(this.promise,a)},c.prototype.otherCallFulfilled=function(a){e(this.promise,this.onFulfilled,a)},c.prototype.callRejected=function(a){d.reject(this.promise,a)},c.prototype.otherCallRejected=function(a){e(this.promise,this.onRejected,a)}},{"./handlers":31,"./unwrap":40}],35:[function(a,b){"use strict";function c(a){var b=new d(e);return f.reject(b,a)}var d=a("./promise"),e=a("./INTERNAL"),f=a("./handlers");b.exports=c},{"./INTERNAL":28,"./handlers":31,"./promise":33}],36:[function(a,b){"use strict";function c(a){if(a)return a instanceof d?a:f.resolve(new d(e),a);var b=typeof a;switch(b){case"boolean":return g;case"undefined":return i;case"object":return h;case"number":return j;case"string":return k}}var d=a("./promise"),e=a("./INTERNAL"),f=a("./handlers");b.exports=c;var g=f.resolve(new d(e),!1),h=f.resolve(new d(e),null),i=f.resolve(new d(e),void 0),j=f.resolve(new d(e),0),k=f.resolve(new d(e),"")},{"./INTERNAL":28,"./handlers":31,"./promise":33}],37:[function(a,b,c){"use strict";function d(a,b){function c(b){h||(h=!0,e.reject(a,b))}function d(b){h||(h=!0,e.resolve(a,b))}function g(){b(d,c)}var h=!1,i=f(g);"error"===i.status&&c(i.value)}var e=a("./handlers"),f=a("./tryCatch");c.safely=d},{"./handlers":31,"./tryCatch":39}],38:[function(a,b,c){c.REJECTED=["REJECTED"],c.FULFILLED=["FULFILLED"],c.PENDING=["PENDING"]},{}],39:[function(a,b){"use strict";function c(a,b){var c={};try{c.value=a(b),c.status="success"}catch(d){c.status="error",c.value=d}return c}b.exports=c},{}],40:[function(a,b){"use strict";function c(a,b,c){d(function(){var d;try{d=b(c)}catch(f){return e.reject(a,f)}d===a?e.reject(a,new TypeError("Cannot resolve promise with itself")):e.resolve(a,d)})}var d=a("immediate"),e=a("./handlers");b.exports=c},{"./handlers":31,immediate:41}],41:[function(a,b){"use strict";function c(){e=!0;for(var a,b,c=h.length;c;){for(b=h,h=[],a=-1;++a<c;)b[a]();c=h.length}e=!1}function d(a){1!==h.push(a)||e||f()}for(var e,f,g=[a("./nextTick"),a("./mutation.js"),a("./messageChannel"),a("./stateChange"),a("./timeout")],h=[],i=-1,j=g.length;++i<j;)if(g[i]&&g[i].test&&g[i].test()){f=g[i].install(c);break}b.exports=d},{"./messageChannel":42,"./mutation.js":43,"./nextTick":24,"./stateChange":44,"./timeout":45}],42:[function(a,b,c){(function(a){"use strict";c.test=function(){return a.setImmediate?!1:"undefined"!=typeof a.MessageChannel},c.install=function(b){var c=new a.MessageChannel;return c.port1.onmessage=b,function(){c.port2.postMessage(0)}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],43:[function(a,b,c){(function(a){"use strict";var b=a.MutationObserver||a.WebKitMutationObserver;c.test=function(){return b},c.install=function(c){var d=0,e=new b(c),f=a.document.createTextNode("");return e.observe(f,{characterData:!0}),function(){f.data=d=++d%2}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(a,b,c){(function(a){"use strict";c.test=function(){return"document"in a&&"onreadystatechange"in a.document.createElement("script")},c.install=function(b){return function(){var c=a.document.createElement("script");return c.onreadystatechange=function(){b(),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},a.document.documentElement.appendChild(c),b}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(a,b,c){"use strict";c.test=function(){return!0},c.install=function(a){return function(){setTimeout(a,0)}}},{}],46:[function(a,b,c){!function(a,d){"function"==typeof define&&define.amd?define(d):"object"==typeof c?b.exports=d():a.md5=d()}(this,function(){function a(a,b){var g=a[0],h=a[1],i=a[2],j=a[3];g=c(g,h,i,j,b[0],7,-680876936),j=c(j,g,h,i,b[1],12,-389564586),i=c(i,j,g,h,b[2],17,606105819),h=c(h,i,j,g,b[3],22,-1044525330),g=c(g,h,i,j,b[4],7,-176418897),j=c(j,g,h,i,b[5],12,1200080426),i=c(i,j,g,h,b[6],17,-1473231341),h=c(h,i,j,g,b[7],22,-45705983),g=c(g,h,i,j,b[8],7,1770035416),j=c(j,g,h,i,b[9],12,-1958414417),i=c(i,j,g,h,b[10],17,-42063),h=c(h,i,j,g,b[11],22,-1990404162),g=c(g,h,i,j,b[12],7,1804603682),j=c(j,g,h,i,b[13],12,-40341101),i=c(i,j,g,h,b[14],17,-1502002290),h=c(h,i,j,g,b[15],22,1236535329),g=d(g,h,i,j,b[1],5,-165796510),j=d(j,g,h,i,b[6],9,-1069501632),i=d(i,j,g,h,b[11],14,643717713),h=d(h,i,j,g,b[0],20,-373897302),g=d(g,h,i,j,b[5],5,-701558691),j=d(j,g,h,i,b[10],9,38016083),i=d(i,j,g,h,b[15],14,-660478335),h=d(h,i,j,g,b[4],20,-405537848),g=d(g,h,i,j,b[9],5,568446438),j=d(j,g,h,i,b[14],9,-1019803690),i=d(i,j,g,h,b[3],14,-187363961),h=d(h,i,j,g,b[8],20,1163531501),g=d(g,h,i,j,b[13],5,-1444681467),j=d(j,g,h,i,b[2],9,-51403784),i=d(i,j,g,h,b[7],14,1735328473),h=d(h,i,j,g,b[12],20,-1926607734),g=e(g,h,i,j,b[5],4,-378558),j=e(j,g,h,i,b[8],11,-2022574463),i=e(i,j,g,h,b[11],16,1839030562),h=e(h,i,j,g,b[14],23,-35309556),g=e(g,h,i,j,b[1],4,-1530992060),j=e(j,g,h,i,b[4],11,1272893353),i=e(i,j,g,h,b[7],16,-155497632),h=e(h,i,j,g,b[10],23,-1094730640),g=e(g,h,i,j,b[13],4,681279174),j=e(j,g,h,i,b[0],11,-358537222),i=e(i,j,g,h,b[3],16,-722521979),h=e(h,i,j,g,b[6],23,76029189),g=e(g,h,i,j,b[9],4,-640364487),j=e(j,g,h,i,b[12],11,-421815835),i=e(i,j,g,h,b[15],16,530742520),h=e(h,i,j,g,b[2],23,-995338651),g=f(g,h,i,j,b[0],6,-198630844),j=f(j,g,h,i,b[7],10,1126891415),i=f(i,j,g,h,b[14],15,-1416354905),h=f(h,i,j,g,b[5],21,-57434055),g=f(g,h,i,j,b[12],6,1700485571),j=f(j,g,h,i,b[3],10,-1894986606),i=f(i,j,g,h,b[10],15,-1051523),h=f(h,i,j,g,b[1],21,-2054922799),g=f(g,h,i,j,b[8],6,1873313359),j=f(j,g,h,i,b[15],10,-30611744),i=f(i,j,g,h,b[6],15,-1560198380),h=f(h,i,j,g,b[13],21,1309151649),g=f(g,h,i,j,b[4],6,-145523070),j=f(j,g,h,i,b[11],10,-1120210379),i=f(i,j,g,h,b[2],15,718787259),h=f(h,i,j,g,b[9],21,-343485551),a[0]=l(g,a[0]),a[1]=l(h,a[1]),a[2]=l(i,a[2]),a[3]=l(j,a[3])}function b(a,b,c,d,e,f){return b=l(l(b,a),l(d,f)),l(b<<e|b>>>32-e,c)}function c(a,c,d,e,f,g,h){return b(c&d|~c&e,a,c,f,g,h)}function d(a,c,d,e,f,g,h){return b(c&e|d&~e,a,c,f,g,h)}function e(a,c,d,e,f,g,h){return b(c^d^e,a,c,f,g,h)}function f(a,c,d,e,f,g,h){return b(d^(c|~e),a,c,f,g,h)}function g(b){txt="";var c,d=b.length,e=[1732584193,-271733879,-1732584194,271733878];for(c=64;c<=b.length;c+=64)a(e,h(b.substring(c-64,c)));b=b.substring(c-64);var f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(c=0;c<b.length;c++)f[c>>2]|=b.charCodeAt(c)<<(c%4<<3);if(f[c>>2]|=128<<(c%4<<3),c>55)for(a(e,f),c=0;16>c;c++)f[c]=0;return f[14]=8*d,a(e,f),e}function h(a){var b,c=[];for(b=0;64>b;b+=4)c[b>>2]=a.charCodeAt(b)+(a.charCodeAt(b+1)<<8)+(a.charCodeAt(b+2)<<16)+(a.charCodeAt(b+3)<<24);return c}function i(a){for(var b="",c=0;4>c;c++)b+=m[a>>8*c+4&15]+m[a>>8*c&15];return b}function j(a){for(var b=0;b<a.length;b++)a[b]=i(a[b]);return a.join("")}function k(a){return j(g(a))}function l(a,b){return a+b&4294967295}function l(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}var m="0123456789abcdef".split("");return"5d41402abc4b2a76b9719d911017c592"!=k("hello"),k})},{}],47:[function(a,b){"use strict";function c(a){return null===a?String(a):"object"==typeof a||"function"==typeof a?h[l.call(a)]||"object":typeof a}function d(a){return null!==a&&a===a.window}function e(a){if(!a||"object"!==c(a)||a.nodeType||d(a))return!1;try{if(a.constructor&&!m.call(a,"constructor")&&!m.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}var e;for(e in a);return void 0===e||m.call(a,e)}function f(a){return"function"===c(a)}function g(){var a,b,c,d,h,i,j=arguments[0]||{},k=1,l=arguments.length,m=!1;for("boolean"==typeof j&&(m=j,j=arguments[1]||{},k=2),"object"==typeof j||f(j)||(j={}),l===k&&(j=this,--k);l>k;k++)if(null!=(a=arguments[k]))for(b in a)if(!(b in Object.prototype)){if(c=j[b],d=a[b],j===d)continue;m&&d&&(e(d)||(h=n(d)))?(h?(h=!1,i=c&&n(c)?c:[]):i=c&&e(c)?c:{},j[b]=g(m,i,d)):void 0!==d&&(n(a)&&f(d)||(j[b]=d))}return j}for(var h={},i=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],j=0;j<i.length;j++){var k=i[j];h["[object "+k+"]"]=k.toLowerCase()}var l=h.toString,m=h.hasOwnProperty,n=Array.isArray||function(a){return"array"===c(a)};b.exports=g},{}],48:[function(a,b){"use strict";var c=a("./upsert"),d=a("./utils"),e=d.Promise;b.exports=function(a){var b=a.db,f=a.viewName,g=a.map,h=a.reduce,i=a.temporary,j=g.toString()+(h&&h.toString())+"undefined";if(!i&&b._cachedViews){var k=b._cachedViews[j];if(k)return e.resolve(k)}return b.info().then(function(a){function e(a){a.views=a.views||{};var b=f;-1===b.indexOf("/")&&(b=f+"/"+f);var c=a.views[b]=a.views[b]||{};return c[k]?void 0:(c[k]=!0,a)}var k=a.db_name+"-mrview-"+(i?"temp":d.MD5(j));return c(b,"_local/mrviews",e).then(function(){return b.registerDependentDatabase(k).then(function(a){var c=a.db;c.auto_compaction=!0;var d={name:k,db:c,sourceDB:b,adapter:b.adapter,mapFun:g,reduceFun:h};return d.db.get("_local/lastSeq")["catch"](function(a){if("not_found"!==a.name)throw a}).then(function(a){return d.seq=a?a.seq:0,i||(b._cachedViews=b._cachedViews||{},b._cachedViews[j]=d,d.db.on("destroyed",function(){delete b._cachedViews[j]})),d})})})})}},{"./upsert":55,"./utils":56}],49:[function(_dereq_,module,exports){"use strict";module.exports=function(func,emit,sum,log,isArray,toJSON){return eval("'use strict'; ("+func+");")}},{}],50:[function(a,b,c){"use strict";function d(a){return-1===a.indexOf("/")?[a,a]:a.split("/")}function e(a,b,c){try{return{output:b.apply(null,c)}}catch(d){return a.emit("error",d),{error:d}}}function f(a,b){var c=w(a.key,b.key);return 0!==c?c:w(a.value,b.value)}function g(a,b,c){return c=c||0,"number"==typeof b?a.slice(c,b+c):c>0?a.slice(c):a}function h(a){var b=new Error("builtin "+a+" function requires map values to be numbers or number arrays");return b.name="invalid_value",b.status=500,b}function i(a){for(var b=0,c=0,d=a.length;d>c;c++){var e=a[c];if("number"!=typeof e){if(!Array.isArray(e))throw h("_sum");b="number"==typeof b?[b]:b;for(var f=0,g=e.length;g>f;f++){var i=e[f];if("number"!=typeof i)throw h("_sum");"undefined"==typeof b[f]?b.push(i):b[f]+=i}}else"number"==typeof b?b+=e:b[0]+=e}return b}function j(a,b,c,d){var e=b[a];"undefined"!=typeof e&&(d&&(e=encodeURIComponent(JSON.stringify(e))),c.push(a+"="+e))}function k(a,b){var c=a.descending?"endkey":"startkey",d=a.descending?"startkey":"endkey";if("undefined"!=typeof a[c]&&"undefined"!=typeof a[d]&&w(a[c],a[d])>0)throw new s("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(b.reduce&&a.reduce!==!1){if(a.include_docs)throw new s("{include_docs:true} is invalid for reduce");if(a.keys&&a.keys.length>1&&!a.group&&!a.group_level)throw new s("Multi-key fetches for reduce views must use {group: true}")}if(a.group_level){if("number"!=typeof a.group_level)throw new s('Invalid value for integer: "'+a.group_level+'"');if(a.group_level<0)throw new s('Invalid value for positive integer: "'+a.group_level+'"')}}function l(a,b,c){var e,f=[],g="GET";if(j("reduce",c,f),j("include_docs",c,f),j("limit",c,f),j("descending",c,f),j("group",c,f),j("group_level",c,f),j("skip",c,f),j("startkey",c,f,!0),j("endkey",c,f,!0),j("inclusive_end",c,f),j("key",c,f,!0),f=f.join("&"),f=""===f?"":"?"+f,"undefined"!=typeof c.keys){var h=2e3,i="keys="+encodeURIComponent(JSON.stringify(c.keys));i.length+f.length+1<=h?f+=("?"===f[0]?"&":"?")+i:(g="POST","string"==typeof b?e=JSON.stringify({keys:c.keys}):b.keys=c.keys)}if("string"==typeof b){var k=d(b);return a.request({method:g,url:"_design/"+k[0]+"/_view/"+k[1]+f,body:e})}return e=e||{},Object.keys(b).forEach(function(a){e[a]=Array.isArray(b[a])?b[a]:b[a].toString()}),a.request({method:"POST",url:"_temp_view"+f,body:e})}function m(a){return function(b){if("not_found"===b.name)return a;throw b}}function n(a,b,c){var d="_local/doc_"+a;return b.db.get(d)["catch"](m({_id:d,keys:[]})).then(function(d){return b.db.allDocs({keys:d.keys,include_docs:!0}).then(function(b){var e=b.rows.map(function(a){return a.doc}).filter(function(a){return a}),f=c[a],g={};e.forEach(function(a){g[a._id]=!0,a._deleted=!f[a._id],a._deleted||(a.value=f[a._id])});var h=Object.keys(f);return h.forEach(function(a){g[a]||e.push({_id:a,value:f[a]})}),d.keys=B.uniq(h.concat(d.keys)),e.splice(0,0,d),e})})}function o(a,b,c){var d="_local/lastSeq";return a.db.get(d)["catch"](m({_id:d,seq:0})).then(function(d){var e=Object.keys(b);return C.all(e.map(function(c){return n(c,a,b)})).then(function(b){var e=[];return b.forEach(function(a){e=e.concat(a)}),d.seq=c,e.push(d),a.db.bulkDocs({docs:e})})})}function p(a,b,c){0===c.group_level&&delete c.group_level;var d,f=c.group||c.group_level;d=G[a.reduceFun]?G[a.reduceFun]:A(a.reduceFun.toString(),null,i,t,Array.isArray,JSON.parse);var h=[],j=c.group_level;b.forEach(function(a){var b=h[h.length-1],c=f?a.key:null;return f&&Array.isArray(c)&&"number"==typeof j&&(c=c.length>j?c.slice(0,j):c),b&&0===w(b.key[0][0],c)?(b.key.push([c,a.id]),void b.value.push(a.value)):void h.push({key:[[c,a.id]],value:[a.value]})});for(var k=0,l=h.length;l>k;k++){var m=h[k],n=e(a.sourceDB,d,[m.key,m.value,!1]);m.value=n.error?null:n.output,m.key=m.key[0][0]}return{rows:g(h,c.limit,c.skip)}}function q(a){return a.request({method:"POST",url:"_view_cleanup"})}function r(a,b,c){if("http"===a.type())return l(a,b,c);if("string"!=typeof b){k(c,b);var e={db:a,viewName:"temp_view/temp_view",map:b.map,reduce:b.reduce,temporary:!0};return E.add(function(){return z(e).then(function(a){function b(){return a.db.destroy()}return B.fin(H(a).then(function(){return I(a,c)}),b)})}),E.finish()}var f=b,g=d(f),h=g[0],i=g[1];return a.get("_design/"+h).then(function(b){var d=b.views&&b.views[i];if(!d||"string"!=typeof d.map){var e=new Error("ddoc "+h+" has no view named "+i);throw e.name="not_found",e.status=400,e}k(c,d);var g={db:a,viewName:f,map:d.map,reduce:d.reduce};
return z(g).then(function(a){return"ok"===c.stale||"update_after"===c.stale?("update_after"===c.stale&&H(a),I(a,c)):H(a).then(function(){return I(a,c)})})})}function s(a){this.status=400,this.name="query_parse_error",this.message=a,this.error=!0;try{Error.captureStackTrace(this,s)}catch(b){}}var t,u=a("pouchdb-collate"),v=a("./taskqueue"),w=u.collate,x=u.toIndexableString,y=u.normalizeKey,z=a("./create-view"),A=a("./evalfunc");t="undefined"!=typeof console&&"function"==typeof console.log?Function.prototype.bind.call(console.log,console):function(){};var B=a("./utils"),C=B.Promise,D=new v,E=new v,F=50,G={_sum:function(a,b){return i(b)},_count:function(a,b){return b.length},_stats:function(a,b){function c(a){for(var b=0,c=0,d=a.length;d>c;c++){var e=a[c];b+=e*e}return b}return{sum:i(b),min:Math.min.apply(null,b),max:Math.max.apply(null,b),count:b.length,sumsqr:c(b)}}},H=B.sequentialize(D,function(a){function b(a,b){d.push({id:g._id,key:y(a),value:y(b)})}function c(b,c){return function(){return o(a,b,c)}}var d,g,h;if("function"==typeof a.mapFun&&2===a.mapFun.length){var j=a.mapFun;h=function(a){return j(a,b)}}else h=A(a.mapFun.toString(),b,i,t,Array.isArray,JSON.parse);var k=a.seq||0,l=new v;return new C(function(b,i){function j(){l.finish().then(function(){a.seq=k,b()})}function m(){function b(a){i(a)}a.sourceDB.changes({conflicts:!0,include_docs:!0,since:k,limit:F}).on("complete",function(b){var i=b.results;if(!i.length)return j();for(var n={},o=0,p=i.length;p>o;o++){var q=i[o];if("_"!==q.doc._id[0]){d=[],g=q.doc,g._deleted||e(a.sourceDB,h,[g]),d.sort(f);for(var r={},s=0,t=d.length;t>s;s++){var u=d[s],v=x([u.key,u.id,s]);r[v]=u}n[q.doc._id]=r}k=q.seq}return l.add(c(n,k)),i.length<F?j():m()}).on("error",b)}m()})}),I=B.sequentialize(D,function(a,b){function c(b){return b.include_docs=!0,a.db.allDocs(b).then(function(a){return e=a.total_rows,a.rows.map(function(a){return a.doc.value})})}function d(c){var d;if(d=f?p(a,c,b):{total_rows:e,offset:g,rows:c},b.include_docs){var h=c.map(function(b){var c=b.value,d=c&&"object"==typeof c&&c._id||b.id;return a.sourceDB.get(d).then(function(a){b.doc=a},function(){})});return C.all(h).then(function(){return d})}return d}var e,f=a.reduceFun&&b.reduce!==!1,g=b.skip||0;"undefined"==typeof b.keys||b.keys.length||(b.limit=0,delete b.keys);var h=function(a){return a.reduce(function(a,b){return a.concat(b)})};if("undefined"!=typeof b.keys){var i=b.keys,j=i.map(function(a){var b={startkey:x([a]),endkey:x([a,{}])};return c(b)});return C.all(j).then(h).then(d)}var k={descending:b.descending};if("undefined"!=typeof b.startkey&&(k.startkey=x(b.descending?[b.startkey,{}]:[b.startkey])),"undefined"!=typeof b.endkey){var l=b.inclusive_end!==!1;b.descending&&(l=!l),k.endkey=x(l?[b.endkey,{}]:[b.endkey])}if("undefined"!=typeof b.key){var m=x([b.key]),n=x([b.key,{}]);k.descending?(k.endkey=m,k.startkey=n):(k.startkey=m,k.endkey=n)}return f||("number"==typeof b.limit&&(k.limit=b.limit),k.skip=g),c(k).then(d)}),J=B.sequentialize(D,function(a){return a.get("_local/mrviews").then(function(b){var c={};Object.keys(b.views).forEach(function(a){var b=d(a),e="_design/"+b[0],f=b[1];c[e]=c[e]||{},c[e][f]=!0});var e={keys:Object.keys(c),include_docs:!0};return a.allDocs(e).then(function(d){var e={};d.rows.forEach(function(a){var d=a.key.substring(8);Object.keys(c[a.key]).forEach(function(c){var f=d+"/"+c;b.views[f]||(f=c);var g=Object.keys(b.views[f]),h=a.doc&&a.doc.views&&a.doc.views[c];g.forEach(function(a){e[a]=e[a]||h})})});var f=Object.keys(e).filter(function(a){return!e[a]}),g=f.map(function(b){return a.constructor.destroy(b,{adapter:a.adapter})});return C.all(g).then(function(){return{ok:!0}})})},m({ok:!0}))});c.viewCleanup=B.callbackify(function(){var a=this;return"http"===a.type()?q(a):J(a)}),c.query=function(a,b,c){"function"==typeof b&&(c=b,b={}),b=B.extend({},b),"function"==typeof a&&(a={map:a});var d=this,e=C.resolve().then(function(){return r(d,a,b)});return B.promisedCallback(e,c),e},B.inherits(s,Error)},{"./create-view":48,"./evalfunc":49,"./taskqueue":54,"./utils":56,"pouchdb-collate":52}],51:[function(a,b){function c(a){if(!a||"[object Object]"!==e.call(a)||a.nodeType||a.setInterval)return!1;var b=d.call(a,"constructor"),c=d.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!b&&!c)return!1;var f;for(f in a);return void 0===f||d.call(a,f)}var d=Object.prototype.hasOwnProperty,e=Object.prototype.toString;b.exports=function f(){var a,b,d,e,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;for("boolean"==typeof i&&(l=i,i=arguments[1]||{},j=2),"object"!=typeof i&&"function"!=typeof i&&(i={});k>j;j++)if(null!=(a=arguments[j]))for(b in a)d=i[b],e=a[b],i!==e&&(l&&e&&(c(e)||(g=Array.isArray(e)))?(g?(g=!1,h=d&&Array.isArray(d)?d:[]):h=d&&c(d)?d:{},i[b]=f(l,h,e)):void 0!==e&&(i[b]=e));return i}},{}],52:[function(a,b,c){"use strict";function d(a){if(null!==a)switch(typeof a){case"boolean":return a?1:0;case"number":return i(a);case"string":return a.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var b=Array.isArray(a),d=b?a:Object.keys(a),e=-1,f=d.length,g="";if(b)for(;++e<f;)g+=c.toIndexableString(d[e]);else for(;++e<f;){var h=d[e];g+=c.toIndexableString(h)+c.toIndexableString(a[h])}return g}return""}function e(a,b){for(var d=Math.min(a.length,b.length),e=0;d>e;e++){var f=c.collate(a[e],b[e]);if(0!==f)return f}return a.length===b.length?0:a.length>b.length?1:-1}function f(a,b){return a===b?0:a>b?1:-1}function g(a,b){for(var d=Object.keys(a),e=Object.keys(b),f=Math.min(d.length,e.length),g=0;f>g;g++){var h=c.collate(d[g],e[g]);if(0!==h)return h;if(h=c.collate(a[d[g]],b[e[g]]),0!==h)return h}return d.length===e.length?0:d.length>e.length?1:-1}function h(a){var b=["boolean","number","string","object"],c=b.indexOf(typeof a);return~c?null===a?1:Array.isArray(a)?5:3>c?c+2:c+3:Array.isArray(a)?5:void 0}function i(a){if(0===a)return"1";var b=a.toExponential().split(/e\+?/),c=parseInt(b[1],10),d=0>a,e=d?"0":"2",f=(d?-c:c)-j,g=m.padLeft(f.toString(),"0",k);e+=l+g;var h=Math.abs(parseFloat(b[0]));d&&(h=10-h);var i=h.toFixed(20);return i=i.replace(/\.?0+$/,""),e+=l+i}var j=-324,k=3,l="",m=a("./utils");c.collate=function(a,b){if(a===b)return 0;a=c.normalizeKey(a),b=c.normalizeKey(b);var d=h(a),i=h(b);if(d-i!==0)return d-i;if(null===a)return 0;switch(typeof a){case"number":return a-b;case"boolean":return a===b?0:b>a?-1:1;case"string":return f(a,b)}return Array.isArray(a)?e(a,b):g(a,b)},c.normalizeKey=function(a){switch(typeof a){case"undefined":return null;case"number":return 1/0===a||a===-1/0||isNaN(a)?null:a;case"object":var b=a;if(Array.isArray(a)){var d=a.length;a=new Array(d);for(var e=0;d>e;e++)a[e]=c.normalizeKey(b[e])}else{if(a instanceof Date)return a.toJSON();if(null!==a){a={};for(var f in b)if(b.hasOwnProperty(f)){var g=b[f];"undefined"!=typeof g&&(a[f]=c.normalizeKey(g))}}}}return a},c.toIndexableString=function(a){var b="\x00";return a=c.normalizeKey(a),h(a)+l+d(a)+b}},{"./utils":53}],53:[function(a,b,c){"use strict";function d(a,b,c){for(var d="",e=c-a.length;d.length<e;)d+=b;return d}c.padLeft=function(a,b,c){var e=d(a,b,c);return e+a},c.padRight=function(a,b,c){var e=d(a,b,c);return a+e},c.stringLexCompare=function(a,b){var c,d=a.length,e=b.length;for(c=0;d>c;c++){if(c===e)return 1;var f=a.charAt(c),g=b.charAt(c);if(f!==g)return g>f?-1:1}return e>d?-1:0},c.intToDecimalForm=function(a){var b=0>a,c="";do{var d=b?-Math.ceil(a%10):Math.floor(a%10);c=d+c,a=b?Math.ceil(a/10):Math.floor(a/10)}while(a);return b&&"0"!==c&&(c="-"+c),c}},{}],54:[function(a,b){"use strict";function c(){this.promise=new d(function(a){a()})}var d=a("./utils").Promise;c.prototype.add=function(a){return this.promise=this.promise["catch"](function(){}).then(function(){return a()}),this.promise},c.prototype.finish=function(){return this.promise},b.exports=c},{"./utils":56}],55:[function(a,b){"use strict";function c(a,b,c){return new e(function(e,f){return b&&"object"==typeof b&&(b=b._id),"string"!=typeof b?f(new Error("doc id is required")):void a.get(b,function(g,h){if(g)return"not_found"!==g.name?f(g):e(d(a,c({_id:b}),c));var i=c(h);return i?void e(d(a,i,c)):e(h)})})}function d(a,b,d){return a.put(b)["catch"](function(e){if("conflict"!==e.name)throw e;return c(a,b,d)})}var e=a("./utils").Promise;b.exports=c},{"./utils":56}],56:[function(a,b,c){(function(b,d){"use strict";c.Promise="function"==typeof d.Promise?d.Promise:a("lie"),c.uniq=function(a){var b={};return a.forEach(function(a){b[a]=!0}),Object.keys(b)},c.inherits=a("inherits"),c.extend=a("extend");var e=a("argsarray");c.promisedCallback=function(a,c){return c&&a.then(function(a){b.nextTick(function(){c(null,a)})},function(a){b.nextTick(function(){c(a)})}),a},c.callbackify=function(a){return e(function(b){var d=b.pop(),e=a.apply(this,b);return"function"==typeof d&&c.promisedCallback(e,d),e})},c.fin=function(a,b){return a.then(function(a){var c=b();return"function"==typeof c.then?c.then(function(){return a}):a},function(a){var c=b();if("function"==typeof c.then)return c.then(function(){throw a});throw a})},c.sequentialize=function(a,b){return function(){var c=arguments,d=this;return a.add(function(){return b.apply(d,c)})}};var f=a("crypto"),g=a("md5-jkmyers");c.MD5=function(a){return b.browser?g(a):f.createHash("md5").update(a).digest("hex")}}).call(this,a("/Users/daleharvey/src/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"/Users/daleharvey/src/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":26,argsarray:23,crypto:24,extend:51,inherits:27,lie:32,"md5-jkmyers":46}]},{},[15])(15)});var requirejs,require,define;!function(global){function isFunction(a){return"[object Function]"===ostring.call(a)}function isArray(a){return"[object Array]"===ostring.call(a)}function each(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function eachReverse(a,b){if(a){var c;for(c=a.length-1;c>-1&&(!a[c]||!b(a[c],c,a));c-=1);}}function hasProp(a,b){return hasOwn.call(a,b)}function eachProp(a,b){var c;for(c in a)if(a.hasOwnProperty(c)&&b(a[c],c))break}function mixin(a,b,c,d){return b&&eachProp(b,function(b,e){(c||!hasProp(a,e))&&(d&&"string"!=typeof b?(a[e]||(a[e]={}),mixin(a[e],b,c,d)):a[e]=b)}),a}function bind(a,b){return function(){return b.apply(a,arguments)}}function scripts(){return document.getElementsByTagName("script")}function getGlobal(a){if(!a)return a;var b=global;return each(a.split("."),function(a){b=b[a]}),b}function makeError(a,b,c,d){var e=new Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a);return e.requireType=a,e.requireModules=d,c&&(e.originalError=c),e}function newContext(a){function b(a){var b,c;for(b=0;a[b];b+=1)if(c=a[b],"."===c)a.splice(b,1),b-=1;else if(".."===c){if(1===b&&(".."===a[2]||".."===a[0]))break;b>0&&(a.splice(b-1,2),b-=2)}}function c(a,c,d){var e,f,g,h,i,j,k,l,m,n,o,p=c&&c.split("/"),q=p,r=x.map,s=r&&r["*"];if(a&&"."===a.charAt(0)&&(c?(q=x.pkgs[c]?p=[c]:p.slice(0,p.length-1),a=q.concat(a.split("/")),b(a),f=x.pkgs[e=a[0]],a=a.join("/"),f&&a===e+"/"+f.main&&(a=e)):0===a.indexOf("./")&&(a=a.substring(2))),d&&(p||s)&&r){for(h=a.split("/"),i=h.length;i>0;i-=1){if(k=h.slice(0,i).join("/"),p)for(j=p.length;j>0;j-=1)if(g=r[p.slice(0,j).join("/")],g&&(g=g[k])){l=g,m=i;break}if(l)break;!n&&s&&s[k]&&(n=s[k],o=i)}!l&&n&&(l=n,m=o),l&&(h.splice(0,m,l),a=h.join("/"))}return a}function d(a){isBrowser&&each(scripts(),function(b){return b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===u.contextName?(b.parentNode.removeChild(b),!0):void 0})}function e(a){var b=x.paths[a];return b&&isArray(b)&&b.length>1?(d(a),b.shift(),u.require.undef(a),u.require([a]),!0):void 0}function f(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function g(a,b,d,e){var g,h,i,j,k=null,l=b?b.name:null,m=a,n=!0,o="";return a||(n=!1,a="_@r"+(D+=1)),j=f(a),k=j[0],a=j[1],k&&(k=c(k,l,e),h=B[k]),a&&(k?o=h&&h.normalize?h.normalize(a,function(a){return c(a,l,e)}):c(a,l,e):(o=c(a,l,e),j=f(o),k=j[0],o=j[1],d=!0,g=u.nameToUrl(o))),i=!k||h||d?"":"_unnormalized"+(E+=1),{prefix:k,name:o,parentMap:b,unnormalized:!!i,url:g,originalName:m,isDefine:n,id:(k?k+"!"+o:o)+i}}function h(a){var b=a.id,c=y[b];return c||(c=y[b]=new u.Module(a)),c}function i(a,b,c){var d=a.id,e=y[d];!hasProp(B,d)||e&&!e.defineEmitComplete?h(a).on(b,c):"defined"===b&&c(B[d])}function j(a,b){var c=a.requireModules,d=!1;b?b(a):(each(c,function(b){var c=y[b];c&&(c.error=a,c.events.error&&(d=!0,c.emit("error",a)))}),d||req.onError(a))}function k(){globalDefQueue.length&&(apsp.apply(A,[A.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function l(a){delete y[a]}function m(a,b,c){var d=a.map.id;a.error?a.emit("error",a.error):(b[d]=!0,each(a.depMaps,function(d,e){var f=d.id,g=y[f];!g||a.depMatched[e]||c[f]||(b[f]?(a.defineDep(e,B[f]),a.check()):m(g,b,c))}),c[d]=!0)}function n(){var a,b,c,f,g=1e3*x.waitSeconds,h=g&&u.startTime+g<(new Date).getTime(),i=[],k=[],l=!1,o=!0;if(!s){if(s=!0,eachProp(y,function(c){if(a=c.map,b=a.id,c.enabled&&(a.isDefine||k.push(c),!c.error))if(!c.inited&&h)e(b)?(f=!0,l=!0):(i.push(b),d(b));else if(!c.inited&&c.fetched&&a.isDefine&&(l=!0,!a.prefix))return o=!1}),h&&i.length)return c=makeError("timeout","Load timeout for modules: "+i,null,i),c.contextName=u.contextName,j(c);o&&each(k,function(a){m(a,{},{})}),h&&!f||!l||!isBrowser&&!isWebWorker||w||(w=setTimeout(function(){w=0,n()},50)),s=!1}}function o(a){h(g(a[0],null,!0)).init(a[1],a[2])}function p(a,b,c,d){a.detachEvent&&!isOpera?d&&a.detachEvent(d,b):a.removeEventListener(c,b,!1)}function q(a){var b=a.currentTarget||a.srcElement;return p(b,u.onScriptLoad,"load","onreadystatechange"),p(b,u.onScriptError,"error"),{node:b,id:b&&b.getAttribute("data-requiremodule")}}function r(){var a;for(k();A.length;){if(a=A.shift(),null===a[0])return j(makeError("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));o(a)}}var s,t,u,v,w,x={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},map:{},config:{}},y={},z={},A=[],B={},C={},D=1,E=1;return v={require:function(a){return a.require?a.require:a.require=u.makeRequire(a.map)},exports:function(a){return a.usingExports=!0,a.map.isDefine?a.exports?a.exports:a.exports=B[a.map.id]={}:void 0},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return x.config&&x.config[a.map.id]||{}},exports:B[a.map.id]}}},t=function(a){this.events=z[a.id]||{},this.map=a,this.shim=x.shim[a.id],this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},t.prototype={init:function(a,b,c,d){d=d||{},this.inited||(this.factory=b,c?this.on("error",c):this.events.error&&(c=bind(this,function(a){this.emit("error",a)})),this.depMaps=a&&a.slice(0),this.errback=c,this.inited=!0,this.ignore=d.ignore,d.enabled||this.enabled?this.enable():this.check())},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0,u.startTime=(new Date).getTime();var a=this.map;return this.shim?void u.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return a.prefix?this.callPlugin():this.load()})):a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;C[a]||(C[a]=!0,u.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id,d=this.depExports,e=this.exports,f=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(f)){if(this.events.error)try{e=u.execCb(c,f,d,e)}catch(g){a=g}else e=u.execCb(c,f,d,e);if(this.map.isDefine&&(b=this.module,b&&void 0!==b.exports&&b.exports!==this.exports?e=b.exports:void 0===e&&this.usingExports&&(e=this.exports)),a)return a.requireMap=this.map,a.requireModules=[this.map.id],a.requireType="define",j(this.error=a)}else e=f;this.exports=e,this.map.isDefine&&!this.ignore&&(B[c]=e,req.onResourceLoad&&req.onResourceLoad(u,this.map,this.depMaps)),delete y[c],this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var a=this.map,b=a.id,d=g(a.prefix);this.depMaps.push(d),i(d,"defined",bind(this,function(d){var e,f,k,m=this.map.name,n=this.map.parentMap?this.map.parentMap.name:null,o=u.makeRequire(a.parentMap,{enableBuildCallback:!0,skipMap:!0});return this.map.unnormalized?(d.normalize&&(m=d.normalize(m,function(a){return c(a,n,!0)})||""),f=g(a.prefix+"!"+m,this.map.parentMap),i(f,"defined",bind(this,function(a){this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),k=y[f.id],void(k&&(this.depMaps.push(f),this.events.error&&k.on("error",bind(this,function(a){this.emit("error",a)})),k.enable()))):(e=bind(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),e.error=bind(this,function(a){this.inited=!0,this.error=a,a.requireModules=[b],eachProp(y,function(a){0===a.map.id.indexOf(b+"_unnormalized")&&l(a.map.id)}),j(a)}),e.fromText=bind(this,function(b,c){var d=a.name,f=g(d),i=useInteractive;c&&(b=c),i&&(useInteractive=!1),h(f);try{req.exec(b)}catch(j){throw new Error("fromText eval for "+d+" failed: "+j)}i&&(useInteractive=!0),this.depMaps.push(f),u.completeLoad(d),o([d],e)}),void d.load(a.name,o,e,x))})),u.enable(d,this),this.pluginMaps[d.id]=d},enable:function(){this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(a,b){var c,d,e;if("string"==typeof a){if(a=g(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[b]=a,e=v[a.id])return void(this.depExports[b]=e(this));this.depCount+=1,i(a,"defined",bind(this,function(a){this.defineDep(b,a),this.check()})),this.errback&&i(a,"error",this.errback)}c=a.id,d=y[c],v[c]||!d||d.enabled||u.enable(a,this)})),eachProp(this.pluginMaps,bind(this,function(a){var b=y[a.id];b&&!b.enabled&&u.enable(a,this)})),this.enabling=!1,this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]),c.push(b)},emit:function(a,b){each(this.events[a],function(a){a(b)}),"error"===a&&delete this.events[a]}},u={config:x,contextName:a,registry:y,defined:B,urlFetched:C,defQueue:A,Module:t,makeModuleMap:g,nextTick:req.nextTick,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");var b=x.pkgs,c=x.shim,d={paths:!0,config:!0,map:!0};eachProp(a,function(a,b){d[b]?"map"===b?mixin(x[b],a,!0,!0):mixin(x[b],a,!0):x[b]=a}),a.shim&&(eachProp(a.shim,function(a,b){isArray(a)&&(a={deps:a}),a.exports&&!a.exportsFn&&(a.exportsFn=u.makeShimExports(a)),c[b]=a}),x.shim=c),a.packages&&(each(a.packages,function(a){var c;a="string"==typeof a?{name:a}:a,c=a.location,b[a.name]={name:a.name,location:c||a.name,main:(a.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),x.pkgs=b),eachProp(y,function(a,b){a.inited||a.map.unnormalized||(a.map=g(b))}),(a.deps||a.callback)&&u.require(a.deps||[],a.callback)},makeShimExports:function(a){function b(){var b;return a.init&&(b=a.init.apply(global,arguments)),b||getGlobal(a.exports)}return b},makeRequire:function(b,d){function e(c,f,i){var k,l,m;return d.enableBuildCallback&&f&&isFunction(f)&&(f.__requireJsBuild=!0),"string"==typeof c?isFunction(f)?j(makeError("requireargs","Invalid require call"),i):b&&v[c]?v[c](y[b.id]):req.get?req.get(u,c,b):(l=g(c,b,!1,!0),k=l.id,hasProp(B,k)?B[k]:j(makeError("notloaded",'Module name "'+k+'" has not been loaded yet for context: '+a+(b?"":". Use require([])")))):(r(),u.nextTick(function(){r(),m=h(g(null,b)),m.skipMap=d.skipMap,m.init(c,f,i,{enabled:!0}),n()}),e)}return d=d||{},mixin(e,{isBrowser:isBrowser,toUrl:function(a){var d=a.lastIndexOf("."),e=null;return-1!==d&&(e=a.substring(d,a.length),a=a.substring(0,d)),u.nameToUrl(c(a,b&&b.id,!0),e)},defined:function(a){return hasProp(B,g(a,b,!1,!0).id)},specified:function(a){return a=g(a,b,!1,!0).id,hasProp(B,a)||hasProp(y,a)}}),b||(e.undef=function(a){k();var c=g(a,b,!0),d=y[a];delete B[a],delete C[c.url],delete z[a],d&&(d.events.defined&&(z[a]=d.events),l(a))}),e},enable:function(a){var b=y[a.id];b&&h(a).enable()},completeLoad:function(a){var b,c,d,f=x.shim[a]||{},g=f.exports;for(k();A.length;){if(c=A.shift(),null===c[0]){if(c[0]=a,b)break;b=!0}else c[0]===a&&(b=!0);o(c)}if(d=y[a],!b&&!B[a]&&d&&!d.inited){if(!(!x.enforceDefine||g&&getGlobal(g)))return e(a)?void 0:j(makeError("nodefine","No define call for "+a,null,[a]));o([a,f.deps||[],f.exportsFn])}n()},nameToUrl:function(a,b){var c,d,e,f,g,h,i,j,k;if(req.jsExtRegExp.test(a))j=a+(b||"");else{for(c=x.paths,d=x.pkgs,g=a.split("/"),h=g.length;h>0;h-=1){if(i=g.slice(0,h).join("/"),e=d[i],k=c[i]){isArray(k)&&(k=k[0]),g.splice(0,h,k);break}if(e){f=a===e.name?e.location+"/"+e.main:e.location,g.splice(0,h,f);break}}j=g.join("/"),j+=b||(/\?/.test(j)?"":".js"),j=("/"===j.charAt(0)||j.match(/^[\w\+\.\-]+:/)?"":x.baseUrl)+j}return x.urlArgs?j+((-1===j.indexOf("?")?"?":"&")+x.urlArgs):j},load:function(a,b){req.load(u,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if("load"===a.type||readyRegExp.test((a.currentTarget||a.srcElement).readyState)){interactiveScript=null;var b=q(a);u.completeLoad(b.id)}},onScriptError:function(a){var b=q(a);return e(b.id)?void 0:j(makeError("scripterror","Script error",a,[b.id]))}},u.require=u.makeRequire(),u}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(a){return"interactive"===a.readyState?interactiveScript=a:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.1",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,aps=ap.slice,apsp=ap.splice,isBrowser=!("undefined"==typeof window||!navigator||!document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(a,b,c,d){var e,f,g=defContextName;return isArray(a)||"string"==typeof a||(f=a,isArray(b)?(a=b,b=c,c=d):a=[]),f&&f.context&&(g=f.context),e=contexts[g],e||(e=contexts[g]=req.s.newContext(g)),f&&e.configure(f),e.require(a,b,c)},req.config=function(a){return req(a)},req.nextTick="undefined"!=typeof setTimeout?function(a){setTimeout(a,4)}:function(a){a()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(a){req[a]=function(){var b=contexts[defContextName];return b.require[a].apply(b,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=function(a){throw a},req.load=function(a,b,c){var d,e=a&&a.config||{};return isBrowser?(d=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),d.type=e.scriptType||"text/javascript",d.charset="utf-8",d.async=!0,d.setAttribute("data-requirecontext",a.contextName),d.setAttribute("data-requiremodule",b),!d.attachEvent||d.attachEvent.toString&&d.attachEvent.toString().indexOf("[native code")<0||isOpera?(d.addEventListener("load",a.onScriptLoad,!1),d.addEventListener("error",a.onScriptError,!1)):(useInteractive=!0,d.attachEvent("onreadystatechange",a.onScriptLoad)),d.src=c,currentlyAddingScript=d,baseElement?head.insertBefore(d,baseElement):head.appendChild(d),currentlyAddingScript=null,d):void(isWebWorker&&(importScripts(c),a.completeLoad(b)))},isBrowser&&eachReverse(scripts(),function(a){return head||(head=a.parentNode),dataMain=a.getAttribute("data-main"),dataMain?(cfg.baseUrl||(src=dataMain.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath,dataMain=mainScript),dataMain=dataMain.replace(jsSuffixRegExp,""),cfg.deps=cfg.deps?cfg.deps.concat(dataMain):[dataMain],!0):void 0}),define=function(a,b,c){var d,e;"string"!=typeof a&&(c=b,b=a,a=null),isArray(b)||(c=b,b=[]),!b.length&&isFunction(c)&&c.length&&(c.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(a,c){b.push(c)}),b=(1===c.length?["require"]:["require","exports","module"]).concat(b)),useInteractive&&(d=currentlyAddingScript||getInteractiveScript(),d&&(a||(a=d.getAttribute("data-requiremodule")),e=contexts[d.getAttribute("data-requirecontext")])),(e?e.defQueue:globalDefQueue).push([a,b,c])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),+function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){f.trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one(a.support.transition.end,c).emulateTransitionEnd(150):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(window.jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d)};b.DEFAULTS={loadingText:"loading..."},b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.is("input")?"val":"html",e=c.data();a+="Text",e.resetText||c.data("resetText",c[d]()),c[d](e[a]||this.options[a]),setTimeout(function(){"loadingText"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons"]');if(a.length){var b=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");"radio"===b.prop("type")&&a.find(".active").removeClass("active")}this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.bs.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle"),b.preventDefault()})}(window.jQuery),+function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){return this.sliding?void 0:this.slide("next")},b.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}this.sliding=!0,f&&this.pause();var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});if(!e.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(j),j.isDefaultPrevented())return;e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(j),j.isDefaultPrevented())return;d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return f&&this.cycle(),this}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d=a(this),e=a(d.attr("data-target")||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),d.data()),g=d.attr("data-slide-to");g&&(f.interval=!1),e.carousel(f),(g=d.attr("data-slide-to"))&&e.data("bs.carousel").to(g),b.preventDefault()}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(window.jQuery),+function(a){"use strict";function b(){a(d).remove(),a(e).each(function(b){var d=c(a(this));d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown")),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown"))})}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}var d=".dropdown-backdrop",e="[data-toggle=dropdown]",f=function(b){a(b).on("click.bs.dropdown",this.toggle)};f.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){if("ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b),f.trigger(d=a.Event("show.bs.dropdown")),d.isDefaultPrevented())return;f.toggleClass("open").trigger("shown.bs.dropdown"),e.focus()}return!1}},f.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var f=c(d),g=f.hasClass("open");
if(!g||g&&27==b.keyCode)return 27==b.which&&f.find(e).focus(),d.click();var h=a("[role=menu] li:not(.divider):visible a",f);if(h.length){var i=h.index(h.filter(":focus"));38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<h.length-1&&i++,~i||(i=0),h.eq(i).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("dropdown");d||c.data("dropdown",d=new f(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=f,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",e,f.prototype.toggle).on("keydown.bs.dropdown.data-api",e+", [role=menu]",f.prototype.keydown)}(window.jQuery),+function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show(),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f,this).one("hide",function(){c.is(":visible")&&c.focus()})}),a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(window.jQuery),+function(a){"use strict";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focus",i="hover"==g?"mouseleave":"blur";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show()},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(b),b.isDefaultPrevented())return;var c=this.tip();this.setContent(),this.options.animation&&c.addClass("fade");var d="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,e=/\s?auto?\s?/i,f=e.test(d);f&&(d=d.replace(e,"")||"top"),c.detach().css({top:0,left:0,display:"block"}).addClass(d),this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);var g=this.getPosition(),h=c[0].offsetWidth,i=c[0].offsetHeight;if(f){var j=this.$element.parent(),k=d,l=document.documentElement.scrollTop||document.body.scrollTop,m="body"==this.options.container?window.innerWidth:j.outerWidth(),n="body"==this.options.container?window.innerHeight:j.outerHeight(),o="body"==this.options.container?0:j.offset().left;d="bottom"==d&&g.top+g.height+i-l>n?"top":"top"==d&&g.top-l-i<0?"bottom":"right"==d&&g.right+h>m?"left":"left"==d&&g.left-h<o?"right":d,c.removeClass(k).addClass(d)}var p=this.getCalculatedOffset(d,g,h,i);this.applyPlacement(p,d),this.$element.trigger("shown.bs."+this.type)}},b.prototype.applyPlacement=function(a,b){var c,d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),a.top=a.top+g,a.left=a.left+h,d.offset(a).addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;if("top"==b&&j!=f&&(c=!0,a.top=a.top+f-j),/bottom|top/.test(b)){var k=0;a.left<0&&(k=-2*a.left,a.left=0,d.offset(a),i=d[0].offsetWidth,j=d[0].offsetHeight),this.replaceArrow(k-e+i,i,"left")}else this.replaceArrow(j-f,j,"top");c&&d.offset(a)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach()}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.$element.trigger("hidden.bs."+this.type),this)},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(window.jQuery),+function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(window.jQuery),+function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.attr("data-target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.parent("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},b.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),f.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(window.jQuery),+function(a){"use strict";var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=null,this.checkPosition()};b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top()),"function"==typeof h&&(h=f.bottom());var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=c-h?"bottom":null!=g&&g>=d?"top":!1;this.affixed!==i&&(this.unpin&&this.$element.css("top",""),this.affixed=i,this.unpin="bottom"==i?e.top-d:null,this.$element.removeClass(b.RESET).addClass("affix"+(i?"-"+i:"")),"bottom"==i&&this.$element.offset({top:document.body.offsetHeight-h-this.$element.height()}))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(window.jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?void this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350):d.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":d.data(),i=d.attr("data-parent"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-toggle=collapse][data-parent="'+i+'"]').not(d).addClass("collapsed"),d[f.hasClass("in")?"addClass":"removeClass"]("collapsed")),f.collapse(h)})}(window.jQuery),+function(a){"use strict";function b(c,d){var e,f=a.proxy(this.process,this);this.$element=a(a(c).is("body")?window:c),this.$body=a("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||(e=a(c).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=a([]),this.targets=a([]),this.activeTarget=null,this.refresh(),this.process()}b.DEFAULTS={offset:10},b.prototype.refresh=function(){var b=this.$element[0]==window?"offset":"position";this.offsets=a([]),this.targets=a([]);{var c=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#\w/.test(e)&&a(e);return f&&f.length&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})}},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parents(".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate")};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]}}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(window.jQuery),!function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var b,c,d,e=this.element,f=e.closest("ul:not(.dropdown-menu)"),g=e.attr("data-target");g||(g=e.attr("href"),g=g&&g.replace(/.*(?=#[^\s]*$)/,"")),e.parent("li").hasClass("active")||(b=f.find(".active:last a")[0],d=a.Event("show",{relatedTarget:b}),e.trigger(d),d.isDefaultPrevented()||(c=a(g),this.activate(e.parent("li"),f),this.activate(c,c.parent(),function(){e.trigger({type:"shown",relatedTarget:b})})))},activate:function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e):e(),f.removeClass("in")}};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("tab");e||d.data("tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(window.jQuery),window.bootbox=window.bootbox||function a(b,c){"use strict";function d(a){var b=s[q.locale];return b?b[a]:s.en[a]}function e(a,c,d){a.preventDefault();var e=b.isFunction(d)&&d(a)===!1;e||c.modal("hide")}function f(a){var b,c=0;for(b in a)c++;return c}function g(a,c){var d=0;b.each(a,function(a,b){c(a,b,d++)})}function h(a){var c,d;if("object"!=typeof a)throw new Error("Please supply an object of options");if(!a.message)throw new Error("Please specify a message");return a=b.extend({},q,a),a.buttons||(a.buttons={}),a.backdrop=a.backdrop?"static":!1,c=a.buttons,d=f(c),g(c,function(a,e,f){if(b.isFunction(e)&&(e=c[a]={callback:e}),"object"!==b.type(e))throw new Error("button with key "+a+" must be an object");e.label||(e.label=a),e.className||(e.className=2>=d&&f===d-1?"btn-primary":"btn-default")}),a}function i(a,b){var c=a.length,d={};if(1>c||c>2)throw new Error("Invalid argument length");return 2===c||"string"==typeof a[0]?(d[b[0]]=a[0],d[b[1]]=a[1]):d=a[0],d}function j(a,c,d){return b.extend(!0,{},a,i(c,d))}function k(a,b,c){return n(j(m.apply(null,a),b,c),a)}function l(){for(var a={},b=0,c=arguments.length;c>b;b++){var e=arguments[b],f=e.toLowerCase(),g=e.toUpperCase();a[f]={label:d(g)}}return a}function m(){return{buttons:l.apply(null,arguments)}}function n(a,b){var d={};return g(b,function(a,b){d[b]=!0}),g(a.buttons,function(a){if(d[a]===c)throw new Error("button key "+a+" is not allowed (options are "+b.join("\n")+")")}),a}var o={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input form-control' autocomplete=off type=text />"}},p=b("body"),q={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0},r={};r.alert=function(){var a;if(a=k(["ok"],arguments,["message","callback"]),a.callback&&!b.isFunction(a.callback))throw new Error("alert requires callback property to be a function when provided");return a.buttons.ok.callback=a.onEscape=function(){return b.isFunction(a.callback)?a.callback():!0},r.dialog(a)},r.confirm=function(){var a;if(a=k(["cancel","confirm"],arguments,["message","callback"]),a.buttons.cancel.callback=a.onEscape=function(){return a.callback(!1)},a.buttons.confirm.callback=function(){return a.callback(!0)},!b.isFunction(a.callback))throw new Error("confirm requires a callback");return r.dialog(a)},r.prompt=function(){var a,d,e,f,g,h;if(f=b(o.form),d={buttons:l("cancel","confirm"),value:""},a=n(j(d,arguments,["title","callback"]),["cancel","confirm"]),h=a.show===c?!0:a.show,a.message=f,a.buttons.cancel.callback=a.onEscape=function(){return a.callback(null)},a.buttons.confirm.callback=function(){return a.callback(g.val())},a.show=!1,!a.title)throw new Error("prompt requires a title");if(!b.isFunction(a.callback))throw new Error("prompt requires a callback");return g=b(o.inputs.text),g.val(a.value),f.append(g),f.on("submit",function(a){a.preventDefault(),e.find(".btn-primary").click()}),e=r.dialog(a),e.off("shown.bs.modal"),e.on("shown.bs.modal",function(){g.focus()}),h===!0&&e.modal("show"),e},r.dialog=function(a){a=h(a);var c=b(o.dialog),d=c.find(".modal-body"),f=a.buttons,i="",j={onEscape:a.onEscape};if(g(f,function(a,b){i+="<button data-bb-handler='"+a+"' type='button' class='btn "+b.className+"'>"+b.label+"</button>",j[a]=b.callback}),d.find(".bootbox-body").html(a.message),a.animate===!0&&c.addClass("fade"),a.className&&c.addClass(a.className),a.title&&d.before(o.header),a.closeButton){var k=b(o.closeButton);a.title?c.find(".modal-header").prepend(k):k.css("margin-top","-10px").prependTo(d)}return a.title&&c.find(".modal-title").html(a.title),i.length&&(d.after(o.footer),c.find(".modal-footer").html(i)),c.on("hidden.bs.modal",function(a){a.target===this&&c.remove()}),c.on("shown.bs.modal",function(){c.find(".btn-primary:first").focus()}),c.on("escape.close.bb",function(a){j.onEscape&&e(a,c,j.onEscape)}),c.on("click",".modal-footer button",function(a){var d=b(this).data("bb-handler");e(a,c,j[d])}),c.on("click",".bootbox-close-button",function(a){e(a,c,j.onEscape)}),c.on("keyup",function(a){27===a.which&&c.trigger("escape.close.bb")}),p.append(c),c.modal({backdrop:a.backdrop,keyboard:!1,show:!1}),a.show&&c.modal("show"),c},r.setDefaults=function(a){b.extend(q,a)},r.hideAll=function(){b(".bootbox").modal("hide")};var s={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd"},ru:{OK:"OK",CANCEL:"",CONFIRM:""},zh_CN:{OK:"OK",CANCEL:"",CONFIRM:""},zh_TW:{OK:"OK",CANCEL:"",CONFIRM:""}};return r.init=function(c){window.bootbox=a(c||b)},r}(window.jQuery);var wysihtml5={version:"0.3.0",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};window.rangy=function(){function a(a,b){var c=typeof a[b];return c==l||!(c!=k||!a[b])||"unknown"==c}function b(a,b){return!(typeof a[b]!=k||!a[b])}function c(a,b){return typeof a[b]!=m}function d(a){return function(b,c){for(var d=c.length;d--;)if(!a(b,c[d]))return!1;return!0}}function e(a){return a&&r(a,q)&&t(a,p)}function f(a){window.alert("Rangy not supported in your browser. Reason: "+a),u.initialized=!0,u.supported=!1}function g(a){var b="Rangy warning: "+a;u.config.alertOnWarn?window.alert(b):typeof window.console!=m&&typeof window.console.log!=m&&window.console.log(b)}function h(){if(!u.initialized){var c,d=!1,g=!1;a(document,"createRange")&&(c=document.createRange(),r(c,o)&&t(c,n)&&(d=!0),c.detach());var h=b(document,"body")?document.body:document.getElementsByTagName("body")[0];h&&a(h,"createTextRange")&&(c=h.createTextRange(),e(c)&&(g=!0)),d||g||f("Neither Range nor TextRange are implemented"),u.initialized=!0,u.features={implementsDomRange:d,implementsTextRange:g};for(var i=w.concat(v),j=0,k=i.length;k>j;++j)try{i[j](u)}catch(l){b(window,"console")&&a(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",l)}}}function i(a){a=a||window,h();for(var b=0,c=x.length;c>b;++b)x[b](a)}function j(a){this.name=a,this.initialized=!1,this.supported=!1}var k="object",l="function",m="undefined",n=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer","START_TO_START","START_TO_END","END_TO_START","END_TO_END"],o=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],p=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],q=["collapse","compareEndPoints","duplicate","getBookmark","moveToBookmark","moveToElementText","parentElement","pasteHTML","select","setEndPoint","getBoundingClientRect"],r=d(a),s=d(b),t=d(c),u={version:"1.2.2",initialized:!1,supported:!0,util:{isHostMethod:a,isHostObject:b,isHostProperty:c,areHostMethods:r,areHostObjects:s,areHostProperties:t,isTextRange:e},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};u.fail=f,u.warn=g,{}.hasOwnProperty?u.util.extend=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}:f("hasOwnProperty not supported");var v=[],w=[];u.init=h,u.addInitListener=function(a){u.initialized?a(u):v.push(a)};var x=[];u.addCreateMissingNativeApiListener=function(a){x.push(a)},u.createMissingNativeApi=i,j.prototype.fail=function(a){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+a)},j.prototype.warn=function(a){u.warn("Module "+this.name+": "+a)},j.prototype.createError=function(a){return new Error("Error in Rangy "+this.name+" module: "+a)},u.createModule=function(a,b){var c=new j(a);u.modules[a]=c,w.push(function(a){b(a,c),c.initialized=!0,c.supported=!0})},u.requireModules=function(a){for(var b,c,d=0,e=a.length;e>d;++d){if(c=a[d],b=u.modules[c],!(b&&b instanceof j))throw new Error("Module '"+c+"' not found");if(!b.supported)throw new Error("Module '"+c+"' not supported")}};var y=!1,z=function(){y||(y=!0,u.initialized||h())};return typeof window==m?void f("No window found"):typeof document==m?void f("No document found"):(a(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",z,!1),a(window,"addEventListener")?window.addEventListener("load",z,!1):a(window,"attachEvent")?window.attachEvent("onload",z):f("Window does not have required addEventListener or attachEvent method"),u)}(),rangy.createModule("DomUtil",function(a,b){function c(a){var b;return typeof a.namespaceURI==z||null===(b=a.namespaceURI)||"http://www.w3.org/1999/xhtml"==b}function d(a){var b=a.parentNode;return 1==b.nodeType?b:null}function e(a){for(var b=0;a=a.previousSibling;)b++;return b}function f(a){var b;return j(a)?a.length:(b=a.childNodes)?b.length:0}function g(a,b){var c,d=[];for(c=a;c;c=c.parentNode)d.push(c);for(c=b;c;c=c.parentNode)if(D(d,c))return c;return null}function h(a,b,c){for(var d=c?b:b.parentNode;d;){if(d===a)return!0;
d=d.parentNode}return!1}function i(a,b,c){for(var d,e=c?a:a.parentNode;e;){if(d=e.parentNode,d===b)return e;e=d}return null}function j(a){var b=a.nodeType;return 3==b||4==b||8==b}function k(a,b){var c=b.nextSibling,d=b.parentNode;return c?d.insertBefore(a,c):d.appendChild(a),a}function l(a,b){var c=a.cloneNode(!1);return c.deleteData(0,b),a.deleteData(b,a.length-b),k(c,a),c}function m(a){if(9==a.nodeType)return a;if(typeof a.ownerDocument!=z)return a.ownerDocument;if(typeof a.document!=z)return a.document;if(a.parentNode)return m(a.parentNode);throw new Error("getDocument: no document found for node")}function n(a){var b=m(a);if(typeof b.defaultView!=z)return b.defaultView;if(typeof b.parentWindow!=z)return b.parentWindow;throw new Error("Cannot get a window object for node")}function o(a){if(typeof a.contentDocument!=z)return a.contentDocument;if(typeof a.contentWindow!=z)return a.contentWindow.document;throw new Error("getIframeWindow: No Document object found for iframe element")}function p(a){if(typeof a.contentWindow!=z)return a.contentWindow;if(typeof a.contentDocument!=z)return a.contentDocument.defaultView;throw new Error("getIframeWindow: No Window object found for iframe element")}function q(a){return A.isHostObject(a,"body")?a.body:a.getElementsByTagName("body")[0]}function r(a){for(var b;b=a.parentNode;)a=b;return a}function s(a,b,c,d){var f,h,j,k,l;if(a==c)return b===d?0:d>b?-1:1;if(f=i(c,a,!0))return b<=e(f)?-1:1;if(f=i(a,c,!0))return e(f)<d?-1:1;if(h=g(a,c),j=a===h?h:i(a,h,!0),k=c===h?h:i(c,h,!0),j===k)throw new Error("comparePoints got to case 4 and childA and childB are the same!");for(l=h.firstChild;l;){if(l===j)return-1;if(l===k)return 1;l=l.nextSibling}throw new Error("Should not be here!")}function t(a){for(var b,c=m(a).createDocumentFragment();b=a.firstChild;)c.appendChild(b);return c}function u(a){if(!a)return"[No node]";if(j(a))return'"'+a.data+'"';if(1==a.nodeType){var b=a.id?' id="'+a.id+'"':"";return"<"+a.nodeName+b+">["+a.childNodes.length+"]"}return a.nodeName}function v(a){this.root=a,this._next=a}function w(a){return new v(a)}function x(a,b){this.node=a,this.offset=b}function y(a){this.code=this[a],this.codeName=a,this.message="DOMException: "+this.codeName}var z="undefined",A=a.util;A.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||b.fail("document missing a Node creation method"),A.isHostMethod(document,"getElementsByTagName")||b.fail("document missing getElementsByTagName method");var B=document.createElement("div");A.areHostMethods(B,["insertBefore","appendChild","cloneNode"]||!A.areHostObjects(B,["previousSibling","nextSibling","childNodes","parentNode"]))||b.fail("Incomplete Element implementation"),A.isHostProperty(B,"innerHTML")||b.fail("Element is missing innerHTML property");var C=document.createTextNode("test");A.areHostMethods(C,["splitText","deleteData","insertData","appendData","cloneNode"]||!A.areHostObjects(B,["previousSibling","nextSibling","childNodes","parentNode"])||!A.areHostProperties(C,["data"]))||b.fail("Incomplete Text Node implementation");var D=function(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1};v.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var a,b,c=this._current=this._next;if(this._current)if(a=c.firstChild)this._next=a;else{for(b=null;c!==this.root&&!(b=c.nextSibling);)c=c.parentNode;this._next=b}return this._current},detach:function(){this._current=this._next=this.root=null}},x.prototype={equals:function(a){return this.node===a.node&this.offset==a.offset},inspect:function(){return"[DomPosition("+u(this.node)+":"+this.offset+")]"}},y.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11},y.prototype.toString=function(){return this.message},a.dom={arrayContains:D,isHtmlNamespace:c,parentElement:d,getNodeIndex:e,getNodeLength:f,getCommonAncestor:g,isAncestorOf:h,getClosestAncestorIn:i,isCharacterDataNode:j,insertAfter:k,splitDataNode:l,getDocument:m,getWindow:n,getIframeWindow:p,getIframeDocument:o,getBody:q,getRootContainer:r,comparePoints:s,inspectNode:u,fragmentFromNodeChildren:t,createIterator:w,DomPosition:x},a.DOMException=y}),rangy.createModule("DomRange",function(a){function b(a,b){return 3!=a.nodeType&&(K.isAncestorOf(a,b.startContainer,!0)||K.isAncestorOf(a,b.endContainer,!0))}function c(a){return K.getDocument(a.startContainer)}function d(a,b,c){var d=a._listeners[b];if(d)for(var e=0,f=d.length;f>e;++e)d[e].call(a,{target:a,args:c})}function e(a){return new L(a.parentNode,K.getNodeIndex(a))}function f(a){return new L(a.parentNode,K.getNodeIndex(a)+1)}function g(a,b,c){var d=11==a.nodeType?a.firstChild:a;return K.isCharacterDataNode(b)?c==b.length?K.insertAfter(a,b):b.parentNode.insertBefore(a,0==c?b:K.splitDataNode(b,c)):c>=b.childNodes.length?b.appendChild(a):b.insertBefore(a,b.childNodes[c]),d}function h(a){for(var b,d,e,f=c(a.range).createDocumentFragment();d=a.next();){if(b=a.isPartiallySelectedSubtree(),d=d.cloneNode(!b),b&&(e=a.getSubtreeIterator(),d.appendChild(h(e)),e.detach(!0)),10==d.nodeType)throw new M("HIERARCHY_REQUEST_ERR");f.appendChild(d)}return f}function i(a,b,c){var d,e;c=c||{stop:!1};for(var f,g;f=a.next();)if(a.isPartiallySelectedSubtree()){if(b(f)===!1)return void(c.stop=!0);if(g=a.getSubtreeIterator(),i(g,b,c),g.detach(!0),c.stop)return}else for(d=K.createIterator(f);e=d.next();)if(b(e)===!1)return void(c.stop=!0)}function j(a){for(var b;a.next();)a.isPartiallySelectedSubtree()?(b=a.getSubtreeIterator(),j(b),b.detach(!0)):a.remove()}function k(a){for(var b,d,e=c(a.range).createDocumentFragment();b=a.next();){if(a.isPartiallySelectedSubtree()?(b=b.cloneNode(!1),d=a.getSubtreeIterator(),b.appendChild(k(d)),d.detach(!0)):a.remove(),10==b.nodeType)throw new M("HIERARCHY_REQUEST_ERR");e.appendChild(b)}return e}function l(a,b,c){var d,e=!(!b||!b.length),f=!!c;e&&(d=new RegExp("^("+b.join("|")+")$"));var g=[];return i(new n(a,!1),function(a){e&&!d.test(a.nodeType)||f&&!c(a)||g.push(a)}),g}function m(a){var b="undefined"==typeof a.getName?"Range":a.getName();return"["+b+"("+K.inspectNode(a.startContainer)+":"+a.startOffset+", "+K.inspectNode(a.endContainer)+":"+a.endOffset+")]"}function n(a,b){if(this.range=a,this.clonePartiallySelectedTextNodes=b,!a.collapsed){this.sc=a.startContainer,this.so=a.startOffset,this.ec=a.endContainer,this.eo=a.endOffset;var c=a.commonAncestorContainer;this.sc===this.ec&&K.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==c||K.isCharacterDataNode(this.sc)?K.getClosestAncestorIn(this.sc,c,!0):this.sc.childNodes[this.so],this._last=this.ec!==c||K.isCharacterDataNode(this.ec)?K.getClosestAncestorIn(this.ec,c,!0):this.ec.childNodes[this.eo-1])}}function o(a){this.code=this[a],this.codeName=a,this.message="RangeException: "+this.codeName}function p(a,b,c){this.nodes=l(a,b,c),this._next=this.nodes[0],this._position=0}function q(a){return function(b,c){for(var d,e=c?b:b.parentNode;e;){if(d=e.nodeType,K.arrayContains(a,d))return e;e=e.parentNode}return null}}function r(a,b){if(V(a,b))throw new o("INVALID_NODE_TYPE_ERR")}function s(a){if(!a.startContainer)throw new M("INVALID_STATE_ERR")}function t(a,b){if(!K.arrayContains(b,a.nodeType))throw new o("INVALID_NODE_TYPE_ERR")}function u(a,b){if(0>b||b>(K.isCharacterDataNode(a)?a.length:a.childNodes.length))throw new M("INDEX_SIZE_ERR")}function v(a,b){if(T(a,!0)!==T(b,!0))throw new M("WRONG_DOCUMENT_ERR")}function w(a){if(U(a,!0))throw new M("NO_MODIFICATION_ALLOWED_ERR")}function x(a,b){if(!a)throw new M(b)}function y(a){return!K.arrayContains(O,a.nodeType)&&!T(a,!0)}function z(a,b){return b<=(K.isCharacterDataNode(a)?a.length:a.childNodes.length)}function A(a){if(s(a),y(a.startContainer)||y(a.endContainer)||!z(a.startContainer,a.startOffset)||!z(a.endContainer,a.endOffset))throw new Error("Range error: Range is no longer valid after DOM mutation ("+a.inspect()+")")}function B(){}function C(a){a.START_TO_START=_,a.START_TO_END=ab,a.END_TO_END=bb,a.END_TO_START=cb,a.NODE_BEFORE=db,a.NODE_AFTER=eb,a.NODE_BEFORE_AND_AFTER=fb,a.NODE_INSIDE=gb}function D(a){C(a),C(a.prototype)}function E(a,b){return function(){A(this);var c,d,e=this.startContainer,g=this.startOffset,h=this.commonAncestorContainer,j=new n(this,!0);e!==h&&(c=K.getClosestAncestorIn(e,h,!0),d=f(c),e=d.node,g=d.offset),i(j,w),j.reset();var k=a(j);return j.detach(),b(this,e,g,e,g),k}}function F(c,d,g){function h(a,b){return function(c){s(this),t(c,N),t(S(c),O);var d=(a?e:f)(c);(b?i:l)(this,d.node,d.offset)}}function i(a,b,c){var e=a.endContainer,f=a.endOffset;(b!==a.startContainer||c!==a.startOffset)&&((S(b)!=S(e)||1==K.comparePoints(b,c,e,f))&&(e=b,f=c),d(a,b,c,e,f))}function l(a,b,c){var e=a.startContainer,f=a.startOffset;(b!==a.endContainer||c!==a.endOffset)&&((S(b)!=S(e)||-1==K.comparePoints(b,c,e,f))&&(e=b,f=c),d(a,e,f,b,c))}function m(a,b,c){(b!==a.startContainer||c!==a.startOffset||b!==a.endContainer||c!==a.endOffset)&&d(a,b,c,b,c)}c.prototype=new B,a.util.extend(c.prototype,{setStart:function(a,b){s(this),r(a,!0),u(a,b),i(this,a,b)},setEnd:function(a,b){s(this),r(a,!0),u(a,b),l(this,a,b)},setStartBefore:h(!0,!0),setStartAfter:h(!1,!0),setEndBefore:h(!0,!1),setEndAfter:h(!1,!1),collapse:function(a){A(this),a?d(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):d(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(a){s(this),r(a,!0),d(this,a,0,a,K.getNodeLength(a))},selectNode:function(a){s(this),r(a,!1),t(a,N);var b=e(a),c=f(a);d(this,b.node,b.offset,c.node,c.offset)},extractContents:E(k,d),deleteContents:E(j,d),canSurroundContents:function(){A(this),w(this.startContainer),w(this.endContainer);var a=new n(this,!0),c=a._first&&b(a._first,this)||a._last&&b(a._last,this);return a.detach(),!c},detach:function(){g(this)},splitBoundaries:function(){A(this);var a=this.startContainer,b=this.startOffset,c=this.endContainer,e=this.endOffset,f=a===c;K.isCharacterDataNode(c)&&e>0&&e<c.length&&K.splitDataNode(c,e),K.isCharacterDataNode(a)&&b>0&&b<a.length&&(a=K.splitDataNode(a,b),f?(e-=b,c=a):c==a.parentNode&&e>=K.getNodeIndex(a)&&e++,b=0),d(this,a,b,c,e)},normalizeBoundaries:function(){A(this);var a=this.startContainer,b=this.startOffset,c=this.endContainer,e=this.endOffset,f=function(a){var b=a.nextSibling;b&&b.nodeType==a.nodeType&&(c=a,e=a.length,a.appendData(b.data),b.parentNode.removeChild(b))},g=function(d){var f=d.previousSibling;if(f&&f.nodeType==d.nodeType){a=d;var g=d.length;if(b=f.length,d.insertData(0,f.data),f.parentNode.removeChild(f),a==c)e+=b,c=a;else if(c==d.parentNode){var h=K.getNodeIndex(d);e==h?(c=d,e=g):e>h&&e--}}},h=!0;if(K.isCharacterDataNode(c))c.length==e&&f(c);else{if(e>0){var i=c.childNodes[e-1];i&&K.isCharacterDataNode(i)&&f(i)}h=!this.collapsed}if(h){if(K.isCharacterDataNode(a))0==b&&g(a);else if(b<a.childNodes.length){var j=a.childNodes[b];j&&K.isCharacterDataNode(j)&&g(j)}}else a=c,b=e;d(this,a,b,c,e)},collapseToPoint:function(a,b){s(this),r(a,!0),u(a,b),m(this,a,b)}}),D(c)}function G(a){a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset,a.commonAncestorContainer=a.collapsed?a.startContainer:K.getCommonAncestor(a.startContainer,a.endContainer)}function H(a,b,c,e,f){var g=a.startContainer!==b||a.startOffset!==c,h=a.endContainer!==e||a.endOffset!==f;a.startContainer=b,a.startOffset=c,a.endContainer=e,a.endOffset=f,G(a),d(a,"boundarychange",{startMoved:g,endMoved:h})}function I(a){s(a),a.startContainer=a.startOffset=a.endContainer=a.endOffset=null,a.collapsed=a.commonAncestorContainer=null,d(a,"detach",null),a._listeners=null}function J(a){this.startContainer=a,this.startOffset=0,this.endContainer=a,this.endOffset=0,this._listeners={boundarychange:[],detach:[]},G(this)}a.requireModules(["DomUtil"]);var K=a.dom,L=K.DomPosition,M=a.DOMException;n.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;return a&&(this._next=a!==this._last?a.nextSibling:null,K.isCharacterDataNode(a)&&this.clonePartiallySelectedTextNodes&&(a===this.ec&&(a=a.cloneNode(!0)).deleteData(this.eo,a.length-this.eo),this._current===this.sc&&(a=a.cloneNode(!0)).deleteData(0,this.so))),a},remove:function(){var a,b,c=this._current;!K.isCharacterDataNode(c)||c!==this.sc&&c!==this.ec?c.parentNode&&c.parentNode.removeChild(c):(a=c===this.sc?this.so:0,b=c===this.ec?this.eo:c.length,a!=b&&c.deleteData(a,b-a))},isPartiallySelectedSubtree:function(){var a=this._current;return b(a,this.range)},getSubtreeIterator:function(){var a;if(this.isSingleCharacterDataNode)a=this.range.cloneRange(),a.collapse();else{a=new J(c(this.range));var b=this._current,d=b,e=0,f=b,g=K.getNodeLength(b);K.isAncestorOf(b,this.sc,!0)&&(d=this.sc,e=this.so),K.isAncestorOf(b,this.ec,!0)&&(f=this.ec,g=this.eo),H(a,d,e,f,g)}return new n(a,this.clonePartiallySelectedTextNodes)},detach:function(a){a&&this.range.detach(),this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},o.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2},o.prototype.toString=function(){return this.message},p.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){return this._current=this._next,this._next=this.nodes[++this._position],this._current},detach:function(){this._current=this._next=this.nodes=null}};var N=[1,3,4,5,7,8,10],O=[2,9,11],P=[5,6,10,12],Q=[1,3,4,5,7,8,10,11],R=[1,3,4,5,7,8],S=K.getRootContainer,T=q([9,11]),U=q(P),V=q([6,10,12]),W=document.createElement("style"),X=!1;try{W.innerHTML="<b>x</b>",X=3==W.firstChild.nodeType}catch(Y){}a.features.htmlParsingConforms=X;var Z=X?function(a){var b=this.startContainer,c=K.getDocument(b);if(!b)throw new M("INVALID_STATE_ERR");var d=null;return 1==b.nodeType?d=b:K.isCharacterDataNode(b)&&(d=K.parentElement(b)),d=null===d||"HTML"==d.nodeName&&K.isHtmlNamespace(K.getDocument(d).documentElement)&&K.isHtmlNamespace(d)?c.createElement("body"):d.cloneNode(!1),d.innerHTML=a,K.fragmentFromNodeChildren(d)}:function(a){s(this);var b=c(this),d=b.createElement("body");return d.innerHTML=a,K.fragmentFromNodeChildren(d)},$=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],_=0,ab=1,bb=2,cb=3,db=0,eb=1,fb=2,gb=3;B.prototype={attachListener:function(a,b){this._listeners[a].push(b)},compareBoundaryPoints:function(a,b){A(this),v(this.startContainer,b.startContainer);var c,d,e,f,g=a==cb||a==_?"start":"end",h=a==ab||a==_?"start":"end";return c=this[g+"Container"],d=this[g+"Offset"],e=b[h+"Container"],f=b[h+"Offset"],K.comparePoints(c,d,e,f)},insertNode:function(a){if(A(this),t(a,Q),w(this.startContainer),K.isAncestorOf(a,this.startContainer,!0))throw new M("HIERARCHY_REQUEST_ERR");var b=g(a,this.startContainer,this.startOffset);this.setStartBefore(b)},cloneContents:function(){A(this);var a,b;if(this.collapsed)return c(this).createDocumentFragment();if(this.startContainer===this.endContainer&&K.isCharacterDataNode(this.startContainer))return a=this.startContainer.cloneNode(!0),a.data=a.data.slice(this.startOffset,this.endOffset),b=c(this).createDocumentFragment(),b.appendChild(a),b;var d=new n(this,!0);return a=h(d),d.detach(),a},canSurroundContents:function(){A(this),w(this.startContainer),w(this.endContainer);var a=new n(this,!0),c=a._first&&b(a._first,this)||a._last&&b(a._last,this);return a.detach(),!c},surroundContents:function(a){if(t(a,R),!this.canSurroundContents())throw new o("BAD_BOUNDARYPOINTS_ERR");var b=this.extractContents();if(a.hasChildNodes())for(;a.lastChild;)a.removeChild(a.lastChild);g(a,this.startContainer,this.startOffset),a.appendChild(b),this.selectNode(a)},cloneRange:function(){A(this);for(var a,b=new J(c(this)),d=$.length;d--;)a=$[d],b[a]=this[a];return b},toString:function(){A(this);var a=this.startContainer;if(a===this.endContainer&&K.isCharacterDataNode(a))return 3==a.nodeType||4==a.nodeType?a.data.slice(this.startOffset,this.endOffset):"";var b=[],c=new n(this,!0);return i(c,function(a){(3==a.nodeType||4==a.nodeType)&&b.push(a.data)}),c.detach(),b.join("")},compareNode:function(a){A(this);var b=a.parentNode,c=K.getNodeIndex(a);if(!b)throw new M("NOT_FOUND_ERR");var d=this.comparePoint(b,c),e=this.comparePoint(b,c+1);return 0>d?e>0?fb:db:e>0?eb:gb},comparePoint:function(a,b){return A(this),x(a,"HIERARCHY_REQUEST_ERR"),v(a,this.startContainer),K.comparePoints(a,b,this.startContainer,this.startOffset)<0?-1:K.comparePoints(a,b,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:Z,toHtml:function(){A(this);var a=c(this).createElement("div");return a.appendChild(this.cloneContents()),a.innerHTML},intersectsNode:function(a,b){if(A(this),x(a,"NOT_FOUND_ERR"),K.getDocument(a)!==c(this))return!1;var d=a.parentNode,e=K.getNodeIndex(a);x(d,"NOT_FOUND_ERR");var f=K.comparePoints(d,e,this.endContainer,this.endOffset),g=K.comparePoints(d,e+1,this.startContainer,this.startOffset);return b?0>=f&&g>=0:0>f&&g>0},isPointInRange:function(a,b){return A(this),x(a,"HIERARCHY_REQUEST_ERR"),v(a,this.startContainer),K.comparePoints(a,b,this.startContainer,this.startOffset)>=0&&K.comparePoints(a,b,this.endContainer,this.endOffset)<=0},intersectsRange:function(a,b){if(A(this),c(a)!=c(this))throw new M("WRONG_DOCUMENT_ERR");var d=K.comparePoints(this.startContainer,this.startOffset,a.endContainer,a.endOffset),e=K.comparePoints(this.endContainer,this.endOffset,a.startContainer,a.startOffset);return b?0>=d&&e>=0:0>d&&e>0},intersection:function(a){if(this.intersectsRange(a)){var b=K.comparePoints(this.startContainer,this.startOffset,a.startContainer,a.startOffset),c=K.comparePoints(this.endContainer,this.endOffset,a.endContainer,a.endOffset),d=this.cloneRange();return-1==b&&d.setStart(a.startContainer,a.startOffset),1==c&&d.setEnd(a.endContainer,a.endOffset),d}return null},union:function(a){if(this.intersectsRange(a,!0)){var b=this.cloneRange();return-1==K.comparePoints(a.startContainer,a.startOffset,this.startContainer,this.startOffset)&&b.setStart(a.startContainer,a.startOffset),1==K.comparePoints(a.endContainer,a.endOffset,this.endContainer,this.endOffset)&&b.setEnd(a.endContainer,a.endOffset),b}throw new o("Ranges do not intersect")},containsNode:function(a,b){return b?this.intersectsNode(a,!1):this.compareNode(a)==gb},containsNodeContents:function(a){return this.comparePoint(a,0)>=0&&this.comparePoint(a,K.getNodeLength(a))<=0},containsRange:function(a){return this.intersection(a).equals(a)},containsNodeText:function(a){var b=this.cloneRange();b.selectNode(a);var c=b.getNodes([3]);if(c.length>0){b.setStart(c[0],0);var d=c.pop();b.setEnd(d,d.length);var e=this.containsRange(b);return b.detach(),e}return this.containsNodeContents(a)},createNodeIterator:function(a,b){return A(this),new p(this,a,b)},getNodes:function(a,b){return A(this),l(this,a,b)},getDocument:function(){return c(this)},collapseBefore:function(a){s(this),this.setEndBefore(a),this.collapse(!1)},collapseAfter:function(a){s(this),this.setStartAfter(a),this.collapse(!0)},getName:function(){return"DomRange"},equals:function(a){return J.rangesEqual(this,a)},inspect:function(){return m(this)}},F(J,H,I),a.rangePrototype=B.prototype,J.rangeProperties=$,J.RangeIterator=n,J.copyComparisonConstants=D,J.createPrototypeRange=F,J.inspect=m,J.getRangeDocument=c,J.rangesEqual=function(a,b){return a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===b.endContainer&&a.endOffset===b.endOffset},a.DomRange=J,a.RangeException=o}),rangy.createModule("WrappedRange",function(a){function b(a){var b=a.parentElement(),c=a.duplicate();c.collapse(!0);var d=c.parentElement();c=a.duplicate(),c.collapse(!1);var e=c.parentElement(),f=d==e?d:g.getCommonAncestor(d,e);return f==b?f:g.getCommonAncestor(b,f)}function c(a){return 0==a.compareEndPoints("StartToEnd",a)}function d(a,b,c,d){var e=a.duplicate();e.collapse(c);var f=e.parentElement();if(g.isAncestorOf(b,f,!0)||(f=b),!f.canHaveHTML)return new h(f.parentNode,g.getNodeIndex(f));var i,j,k,l,m,n=g.getDocument(f).createElement("span"),o=c?"StartToStart":"StartToEnd";do f.insertBefore(n,n.previousSibling),e.moveToElementText(n);while((i=e.compareEndPoints(o,a))>0&&n.previousSibling);if(m=n.nextSibling,-1==i&&m&&g.isCharacterDataNode(m)){e.setEndPoint(c?"EndToStart":"EndToEnd",a);var p;if(/[\r\n]/.test(m.data)){var q=e.duplicate(),r=q.text.replace(/\r\n/g,"\r").length;for(p=q.moveStart("character",r);-1==(i=q.compareEndPoints("StartToEnd",q));)p++,q.moveStart("character",1)}else p=e.text.length;l=new h(m,p)}else j=(d||!c)&&n.previousSibling,k=(d||c)&&n.nextSibling,l=k&&g.isCharacterDataNode(k)?new h(k,0):j&&g.isCharacterDataNode(j)?new h(j,j.length):new h(f,g.getNodeIndex(n));return n.parentNode.removeChild(n),l}function e(a,b){var c,d,e,f,h=a.offset,i=g.getDocument(a.node),j=i.body.createTextRange(),k=g.isCharacterDataNode(a.node);return k?(c=a.node,d=c.parentNode):(f=a.node.childNodes,c=h<f.length?f[h]:null,d=a.node),e=i.createElement("span"),e.innerHTML="&#feff;",c?d.insertBefore(e,c):d.appendChild(e),j.moveToElementText(e),j.collapse(!b),d.removeChild(e),k&&j[b?"moveStart":"moveEnd"]("character",h),j}a.requireModules(["DomUtil","DomRange"]);var f,g=a.dom,h=g.DomPosition,i=a.DomRange;if(!a.features.implementsDomRange||a.features.implementsTextRange&&a.config.preferTextRange){if(a.features.implementsTextRange){f=function(a){this.textRange=a,this.refresh()},f.prototype=new i(document),f.prototype.refresh=function(){var a,e,f=b(this.textRange);c(this.textRange)?e=a=d(this.textRange,f,!0,!0):(a=d(this.textRange,f,!0,!1),e=d(this.textRange,f,!1,!1)),this.setStart(a.node,a.offset),this.setEnd(e.node,e.offset)},i.copyComparisonConstants(f);var j=function(){return this}();"undefined"==typeof j.Range&&(j.Range=f),a.createNativeRange=function(a){return a=a||document,a.body.createTextRange()}}}else!function(){function b(a){for(var b,c=k.length;c--;)b=k[c],a[b]=a.nativeRange[b]}function c(a,b,c,d,e){var f=a.startContainer!==b||a.startOffset!=c,g=a.endContainer!==d||a.endOffset!=e;(f||g)&&(a.setEnd(d,e),a.setStart(b,c))}function d(a){a.nativeRange.detach(),a.detached=!0;for(var b,c=k.length;c--;)b=k[c],a[b]=null}var e,h,j,k=i.rangeProperties;f=function(a){if(!a)throw new Error("Range must be specified");this.nativeRange=a,b(this)},i.createPrototypeRange(f,c,d),e=f.prototype,e.selectNode=function(a){this.nativeRange.selectNode(a),b(this)},e.deleteContents=function(){this.nativeRange.deleteContents(),b(this)},e.extractContents=function(){var a=this.nativeRange.extractContents();return b(this),a},e.cloneContents=function(){return this.nativeRange.cloneContents()},e.surroundContents=function(a){this.nativeRange.surroundContents(a),b(this)},e.collapse=function(a){this.nativeRange.collapse(a),b(this)},e.cloneRange=function(){return new f(this.nativeRange.cloneRange())},e.refresh=function(){b(this)},e.toString=function(){return this.nativeRange.toString()};var l=document.createTextNode("test");g.getBody(document).appendChild(l);var m=document.createRange();m.setStart(l,0),m.setEnd(l,0);try{m.setStart(l,1),h=!0,e.setStart=function(a,c){this.nativeRange.setStart(a,c),b(this)},e.setEnd=function(a,c){this.nativeRange.setEnd(a,c),b(this)},j=function(a){return function(c){this.nativeRange[a](c),b(this)}}}catch(n){h=!1,e.setStart=function(a,c){try{this.nativeRange.setStart(a,c)}catch(d){this.nativeRange.setEnd(a,c),this.nativeRange.setStart(a,c)}b(this)},e.setEnd=function(a,c){try{this.nativeRange.setEnd(a,c)}catch(d){this.nativeRange.setStart(a,c),this.nativeRange.setEnd(a,c)}b(this)},j=function(a,c){return function(d){try{this.nativeRange[a](d)}catch(e){this.nativeRange[c](d),this.nativeRange[a](d)}b(this)}}}e.setStartBefore=j("setStartBefore","setEndBefore"),e.setStartAfter=j("setStartAfter","setEndAfter"),e.setEndBefore=j("setEndBefore","setStartBefore"),e.setEndAfter=j("setEndAfter","setStartAfter"),m.selectNodeContents(l),e.selectNodeContents=m.startContainer==l&&m.endContainer==l&&0==m.startOffset&&m.endOffset==l.length?function(a){this.nativeRange.selectNodeContents(a),b(this)}:function(a){this.setStart(a,0),this.setEnd(a,i.getEndOffset(a))},m.selectNodeContents(l),m.setEnd(l,3);var o=document.createRange();o.selectNodeContents(l),o.setEnd(l,4),o.setStart(l,2),e.compareBoundaryPoints=-1==m.compareBoundaryPoints(m.START_TO_END,o)&1==m.compareBoundaryPoints(m.END_TO_START,o)?function(a,b){return b=b.nativeRange||b,a==b.START_TO_END?a=b.END_TO_START:a==b.END_TO_START&&(a=b.START_TO_END),this.nativeRange.compareBoundaryPoints(a,b)}:function(a,b){return this.nativeRange.compareBoundaryPoints(a,b.nativeRange||b)},a.util.isHostMethod(m,"createContextualFragment")&&(e.createContextualFragment=function(a){return this.nativeRange.createContextualFragment(a)}),g.getBody(document).removeChild(l),m.detach(),o.detach()}(),a.createNativeRange=function(a){return a=a||document,a.createRange()};a.features.implementsTextRange&&(f.rangeToTextRange=function(a){if(a.collapsed){var b=e(new h(a.startContainer,a.startOffset),!0);return b}var c=e(new h(a.startContainer,a.startOffset),!0),d=e(new h(a.endContainer,a.endOffset),!1),f=g.getDocument(a.startContainer).body.createTextRange();return f.setEndPoint("StartToStart",c),f.setEndPoint("EndToEnd",d),f}),f.prototype.getName=function(){return"WrappedRange"},a.WrappedRange=f,a.createRange=function(b){return b=b||document,new f(a.createNativeRange(b))},a.createRangyRange=function(a){return a=a||document,new i(a)},a.createIframeRange=function(b){return a.createRange(g.getIframeDocument(b))},a.createIframeRangyRange=function(b){return a.createRangyRange(g.getIframeDocument(b))},a.addCreateMissingNativeApiListener(function(b){var c=b.document;"undefined"==typeof c.createRange&&(c.createRange=function(){return a.createRange(this)}),c=b=null})}),rangy.createModule("WrappedSelection",function(a,b){function c(a){return(a||window).getSelection()}function d(a){return(a||window).document.selection}function e(a,b,c){var d=c?"end":"start",e=c?"start":"end";a.anchorNode=b[d+"Container"],a.anchorOffset=b[d+"Offset"],a.focusNode=b[e+"Container"],a.focusOffset=b[e+"Offset"]}function f(a){var b=a.nativeSelection;a.anchorNode=b.anchorNode,a.anchorOffset=b.anchorOffset,a.focusNode=b.focusNode,a.focusOffset=b.focusOffset}function g(a){a.anchorNode=a.focusNode=null,a.anchorOffset=a.focusOffset=0,a.rangeCount=0,a.isCollapsed=!0,a._ranges.length=0}function h(b){var c;return b instanceof y?(c=b._selectionNativeRange,c||(c=a.createNativeRange(w.getDocument(b.startContainer)),c.setEnd(b.endContainer,b.endOffset),c.setStart(b.startContainer,b.startOffset),b._selectionNativeRange=c,b.attachListener("detach",function(){this._selectionNativeRange=null}))):b instanceof z?c=b.nativeRange:a.features.implementsDomRange&&b instanceof w.getWindow(b.startContainer).Range&&(c=b),c}function i(a){if(!a.length||1!=a[0].nodeType)return!1;for(var b=1,c=a.length;c>b;++b)if(!w.isAncestorOf(a[0],a[b]))return!1;return!0}function j(a){var b=a.getNodes();if(!i(b))throw new Error("getSingleElementFromRange: range "+a.inspect()+" did not consist of a single element");return b[0]}function k(a){return!!a&&"undefined"!=typeof a.text}function l(a,b){var c=new z(b);a._ranges=[c],e(a,c,!1),a.rangeCount=1,a.isCollapsed=c.collapsed}function m(b){if(b._ranges.length=0,"None"==b.docSelection.type)g(b);else{var c=b.docSelection.createRange();if(k(c))l(b,c);else{b.rangeCount=c.length;for(var d,f=w.getDocument(c.item(0)),h=0;h<b.rangeCount;++h)d=a.createRange(f),d.selectNode(c.item(h)),b._ranges.push(d);b.isCollapsed=1==b.rangeCount&&b._ranges[0].collapsed,e(b,b._ranges[b.rangeCount-1],!1)}}}function n(a,b){for(var c=a.docSelection.createRange(),d=j(b),e=w.getDocument(c.item(0)),f=w.getBody(e).createControlRange(),g=0,h=c.length;h>g;++g)f.add(c.item(g));try{f.add(d)}catch(i){throw new Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}f.select(),m(a)}function o(a,b,c){this.nativeSelection=a,this.docSelection=b,this._ranges=[],this.win=c,this.refresh()}function p(a,b){for(var c,d=w.getDocument(b[0].startContainer),e=w.getBody(d).createControlRange(),f=0;rangeCount>f;++f){c=j(b[f]);try{e.add(c)}catch(g){throw new Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")}}e.select(),m(a)}function q(a,b){if(a.anchorNode&&w.getDocument(a.anchorNode)!==w.getDocument(b))throw new A("WRONG_DOCUMENT_ERR")}function r(a){var b=[],c=new B(a.anchorNode,a.anchorOffset),d=new B(a.focusNode,a.focusOffset),e="function"==typeof a.getName?a.getName():"Selection";if("undefined"!=typeof a.rangeCount)for(var f=0,g=a.rangeCount;g>f;++f)b[f]=y.inspect(a.getRangeAt(f));return"["+e+"(Ranges: "+b.join(", ")+")(anchor: "+c.inspect()+", focus: "+d.inspect()+"]"}a.requireModules(["DomUtil","DomRange","WrappedRange"]),a.config.checkSelectionRanges=!0;var s,t,u="boolean",v="_rangySelection",w=a.dom,x=a.util,y=a.DomRange,z=a.WrappedRange,A=a.DOMException,B=w.DomPosition,C="Control",D=a.util.isHostMethod(window,"getSelection"),E=a.util.isHostObject(document,"selection"),F=E&&(!D||a.config.preferTextRange);F?(s=d,a.isSelectionValid=function(a){var b=(a||window).document,c=b.selection;return"None"!=c.type||w.getDocument(c.createRange().parentElement())==b}):D?(s=c,a.isSelectionValid=function(){return!0}):b.fail("Neither document.selection or window.getSelection() detected."),a.getNativeSelection=s;var G=s(),H=a.createNativeRange(document),I=w.getBody(document),J=x.areHostObjects(G,["anchorNode","focusNode"]&&x.areHostProperties(G,["anchorOffset","focusOffset"]));a.features.selectionHasAnchorAndFocus=J;var K=x.isHostMethod(G,"extend");a.features.selectionHasExtend=K;var L="number"==typeof G.rangeCount;a.features.selectionHasRangeCount=L;var M=!1,N=!0;x.areHostMethods(G,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof G.rangeCount&&a.features.implementsDomRange&&!function(){var a=document.createElement("iframe");I.appendChild(a);var b=w.getIframeDocument(a);b.open(),b.write("<html><head></head><body>12</body></html>"),b.close();var c=w.getIframeWindow(a).getSelection(),d=b.documentElement,e=d.lastChild,f=e.firstChild,g=b.createRange();g.setStart(f,1),g.collapse(!0),c.addRange(g),N=1==c.rangeCount,c.removeAllRanges();var h=g.cloneRange();g.setStart(f,0),h.setEnd(f,2),c.addRange(g),c.addRange(h),M=2==c.rangeCount,g.detach(),h.detach(),I.removeChild(a)}(),a.features.selectionSupportsMultipleRanges=M,a.features.collapsedNonEditableSelectionsSupported=N;var O,P=!1;I&&x.isHostMethod(I,"createControlRange")&&(O=I.createControlRange(),x.areHostProperties(O,["item","add"])&&(P=!0)),a.features.implementsControlRange=P,t=J?function(a){return a.anchorNode===a.focusNode&&a.anchorOffset===a.focusOffset}:function(a){return a.rangeCount?a.getRangeAt(a.rangeCount-1).collapsed:!1};var Q;x.isHostMethod(G,"getRangeAt")?Q=function(a,b){try{return a.getRangeAt(b)}catch(c){return null}}:J&&(Q=function(b){var c=w.getDocument(b.anchorNode),d=a.createRange(c);return d.setStart(b.anchorNode,b.anchorOffset),d.setEnd(b.focusNode,b.focusOffset),d.collapsed!==this.isCollapsed&&(d.setStart(b.focusNode,b.focusOffset),d.setEnd(b.anchorNode,b.anchorOffset)),d}),a.getSelection=function(a){a=a||window;var b=a[v],c=s(a),e=E?d(a):null;return b?(b.nativeSelection=c,b.docSelection=e,b.refresh(a)):(b=new o(c,e,a),a[v]=b),b},a.getIframeSelection=function(b){return a.getSelection(w.getIframeWindow(b))};var R=o.prototype;if(!F&&J&&x.areHostMethods(G,["removeAllRanges","addRange"])){R.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),g(this)};var S=function(b,c){var d=y.getRangeDocument(c),e=a.createRange(d);e.collapseToPoint(c.endContainer,c.endOffset),b.nativeSelection.addRange(h(e)),b.nativeSelection.extend(c.startContainer,c.startOffset),b.refresh()
};R.addRange=L?function(b,c){if(P&&E&&this.docSelection.type==C)n(this,b);else if(c&&K)S(this,b);else{var d;if(M?d=this.rangeCount:(this.removeAllRanges(),d=0),this.nativeSelection.addRange(h(b)),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==d+1){if(a.config.checkSelectionRanges){var f=Q(this.nativeSelection,this.rangeCount-1);f&&!y.rangesEqual(f,b)&&(b=new z(f))}this._ranges[this.rangeCount-1]=b,e(this,b,V(this.nativeSelection)),this.isCollapsed=t(this)}else this.refresh()}}:function(a,b){b&&K?S(this,a):(this.nativeSelection.addRange(h(a)),this.refresh())},R.setRanges=function(a){if(P&&a.length>1)p(this,a);else{this.removeAllRanges();for(var b=0,c=a.length;c>b;++b)this.addRange(a[b])}}}else{if(!(x.isHostMethod(G,"empty")&&x.isHostMethod(H,"select")&&P&&F))return b.fail("No means of selecting a Range or TextRange was found"),!1;R.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var a;if(this.anchorNode)a=w.getDocument(this.anchorNode);else if(this.docSelection.type==C){var b=this.docSelection.createRange();b.length&&(a=w.getDocument(b.item(0)).body.createTextRange())}if(a){var c=a.body.createTextRange();c.select(),this.docSelection.empty()}}}catch(d){}g(this)},R.addRange=function(a){this.docSelection.type==C?n(this,a):(z.rangeToTextRange(a).select(),this._ranges[0]=a,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,e(this,a,!1))},R.setRanges=function(a){this.removeAllRanges();var b=a.length;b>1?p(this,a):b&&this.addRange(a[0])}}R.getRangeAt=function(a){if(0>a||a>=this.rangeCount)throw new A("INDEX_SIZE_ERR");return this._ranges[a]};var T;if(F)T=function(b){var c;a.isSelectionValid(b.win)?c=b.docSelection.createRange():(c=w.getBody(b.win.document).createTextRange(),c.collapse(!0)),b.docSelection.type==C?m(b):k(c)?l(b,c):g(b)};else if(x.isHostMethod(G,"getRangeAt")&&"number"==typeof G.rangeCount)T=function(b){if(P&&E&&b.docSelection.type==C)m(b);else if(b._ranges.length=b.rangeCount=b.nativeSelection.rangeCount,b.rangeCount){for(var c=0,d=b.rangeCount;d>c;++c)b._ranges[c]=new a.WrappedRange(b.nativeSelection.getRangeAt(c));e(b,b._ranges[b.rangeCount-1],V(b.nativeSelection)),b.isCollapsed=t(b)}else g(b)};else{if(!J||typeof G.isCollapsed!=u||typeof H.collapsed!=u||!a.features.implementsDomRange)return b.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;T=function(a){var b,c=a.nativeSelection;c.anchorNode?(b=Q(c,0),a._ranges=[b],a.rangeCount=1,f(a),a.isCollapsed=t(a)):g(a)}}R.refresh=function(a){var b=a?this._ranges.slice(0):null;if(T(this),a){var c=b.length;if(c!=this._ranges.length)return!1;for(;c--;)if(!y.rangesEqual(b[c],this._ranges[c]))return!1;return!0}};var U=function(a,b){var c=a.getAllRanges(),d=!1;a.removeAllRanges();for(var e=0,f=c.length;f>e;++e)d||b!==c[e]?a.addRange(c[e]):d=!0;a.rangeCount||g(a)};R.removeRange=P?function(a){if(this.docSelection.type==C){for(var b,c=this.docSelection.createRange(),d=j(a),e=w.getDocument(c.item(0)),f=w.getBody(e).createControlRange(),g=!1,h=0,i=c.length;i>h;++h)b=c.item(h),b!==d||g?f.add(c.item(h)):g=!0;f.select(),m(this)}else U(this,a)}:function(a){U(this,a)};var V;!F&&J&&a.features.implementsDomRange?(V=function(a){var b=!1;return a.anchorNode&&(b=1==w.comparePoints(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset)),b},R.isBackwards=function(){return V(this)}):V=R.isBackwards=function(){return!1},R.toString=function(){for(var a=[],b=0,c=this.rangeCount;c>b;++b)a[b]=""+this._ranges[b];return a.join("")},R.collapse=function(b,c){q(this,b);var d=a.createRange(w.getDocument(b));d.collapseToPoint(b,c),this.removeAllRanges(),this.addRange(d),this.isCollapsed=!0},R.collapseToStart=function(){if(!this.rangeCount)throw new A("INVALID_STATE_ERR");var a=this._ranges[0];this.collapse(a.startContainer,a.startOffset)},R.collapseToEnd=function(){if(!this.rangeCount)throw new A("INVALID_STATE_ERR");var a=this._ranges[this.rangeCount-1];this.collapse(a.endContainer,a.endOffset)},R.selectAllChildren=function(b){q(this,b);var c=a.createRange(w.getDocument(b));c.selectNodeContents(b),this.removeAllRanges(),this.addRange(c)},R.deleteFromDocument=function(){if(P&&E&&this.docSelection.type==C){for(var a,b=this.docSelection.createRange();b.length;)a=b.item(0),b.remove(a),a.parentNode.removeChild(a);this.refresh()}else if(this.rangeCount){var c=this.getAllRanges();this.removeAllRanges();for(var d=0,e=c.length;e>d;++d)c[d].deleteContents();this.addRange(c[e-1])}},R.getAllRanges=function(){return this._ranges.slice(0)},R.setSingleRange=function(a){this.setRanges([a])},R.containsNode=function(a,b){for(var c=0,d=this._ranges.length;d>c;++c)if(this._ranges[c].containsNode(a,b))return!0;return!1},R.toHtml=function(){var a="";if(this.rangeCount){for(var b=y.getRangeDocument(this._ranges[0]).createElement("div"),c=0,d=this._ranges.length;d>c;++c)b.appendChild(this._ranges[c].cloneContents());a=b.innerHTML}return a},R.getName=function(){return"WrappedSelection"},R.inspect=function(){return r(this)},R.detach=function(){this.win[v]=null,this.win=this.anchorNode=this.focusNode=null},o.inspect=r,a.Selection=o,a.selectionPrototype=R,a.addCreateMissingNativeApiListener(function(b){"undefined"==typeof b.getSelection&&(b.getSelection=function(){return a.getSelection(this)}),b=null})});var Base=function(){};Base.extend=function(a,b){var c=Base.prototype.extend;Base._prototyping=!0;var d=new this;c.call(d,a),d.base=function(){},delete Base._prototyping;var e=d.constructor,f=d.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==f)this._constructing=!0,e.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||c).call(arguments[0],d)};return f.ancestor=this,f.extend=this.extend,f.forEach=this.forEach,f.implement=this.implement,f.prototype=d,f.toString=this.toString,f.valueOf=function(a){return"object"==a?f:e.valueOf()},c.call(f,b),"function"==typeof f.init&&f.init(),f},Base.prototype={extend:function(a,b){if(arguments.length>1){var c=this[a];if(c&&"function"==typeof b&&(!c.valueOf||c.valueOf()!=b.valueOf())&&/\bbase\b/.test(b)){var d=b.valueOf();b=function(){var a=this.base||Base.prototype.base;this.base=c;var b=d.apply(this,arguments);return this.base=a,b},b.valueOf=function(a){return"object"==a?b:d},b.toString=Base.toString}this[a]=b}else if(a){var e=Base.prototype.extend;Base._prototyping||"function"==typeof this||(e=this.extend||e);for(var f={toSource:null},g=["constructor","toString","valueOf"],h=Base._prototyping?0:1;i=g[h++];)a[i]!=f[i]&&e.call(this,i,a[i]);for(var i in a)f[i]||e.call(this,i,a[i])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(a,b,c){for(var d in a)void 0===this.prototype[d]&&b.call(c,a[d],d,a)},implement:function(){for(var a=0;a<arguments.length;a++)"function"==typeof arguments[a]?arguments[a](this.prototype):this.prototype.extend(arguments[a]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){function a(a){return(/ipad|iphone|ipod/.test(a)&&a.match(/ os (\d+).+? like mac os x/)||[,0])[1]}var b=navigator.userAgent,c=document.createElement("div"),d=-1!==b.indexOf("MSIE")&&-1===b.indexOf("Opera"),e=-1!==b.indexOf("Gecko")&&-1===b.indexOf("KHTML"),f=-1!==b.indexOf("AppleWebKit/"),g=-1!==b.indexOf("Chrome/"),h=-1!==b.indexOf("Opera/");return{USER_AGENT:b,supported:function(){var b=this.USER_AGENT.toLowerCase(),d="contentEditable"in c,e=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,f=document.querySelector&&document.querySelectorAll,g=this.isIos()&&a(b)<5||-1!==b.indexOf("opera mobi")||-1!==b.indexOf("hpwos/");return d&&e&&f&&!g},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){var a=this.USER_AGENT.toLowerCase();return-1!==a.indexOf("webkit")&&-1!==a.indexOf("mobile")},supportsSandboxedIframes:function(){return d},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return!e},hasCurrentStyleProperty:function(){return"currentStyle"in c},insertsLineBreaksOnReturn:function(){return e},supportsPlaceholderAttributeOn:function(a){return"placeholder"in a},supportsEvent:function(a){return"on"+a in c||function(){return c.setAttribute("on"+a,"return;"),"function"==typeof c["on"+a]}()},supportsEventsInIframeCorrectly:function(){return!h},firesOnDropOnlyWhenOnDragOverIsCancelled:function(){return f||e},supportsDataTransfer:function(){try{return f&&(window.Clipboard||window.DataTransfer).prototype.getData}catch(a){return!1}},supportsHTML5Tags:function(a){var b=a.createElement("div"),c="<article>foo</article>";return b.innerHTML=c,b.innerHTML.toLowerCase()===c},supportsCommand:function(){var a={formatBlock:d,insertUnorderedList:d||h||f,insertOrderedList:d||h||f},b={insertHTML:e};return function(c,d){var e=a[d];if(!e){try{return c.queryCommandSupported(d)}catch(f){}try{return c.queryCommandEnabled(d)}catch(g){return!!b[d]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return d},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return e||h||f},supportsGetAttributeCorrectly:function(){var a=document.createElement("td");return"1"!=a.getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return e||d||h},clearsListsInContentEditableCorrectly:function(){return e||d||f},autoScrollsToCaret:function(){return!f},autoClosesUnclosedTags:function(){var a,b,d=c.cloneNode(!1);return d.innerHTML="<p><div></div>",b=d.innerHTML.toLowerCase(),a="<p></p><div></div>"===b||"<p><div></div></p>"===b,this.autoClosesUnclosedTags=function(){return a},a},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},supportsClassList:function(){return"classList"in c},needsSpaceAfterLineBreak:function(){return h},supportsSpeechApiOn:function(a){var c=b.match(/Chrome\/(\d+)/)||[,0];return c[1]>=11&&("onwebkitspeechchange"in a||"speech"in a)},crashesWhenDefineProperty:function(a){return d&&("XMLHttpRequest"===a||"XDomainRequest"===a)},doesAsyncFocus:function(){return d},hasProblemsSettingCaretAfterImg:function(){return d},hasUndoInContextMenu:function(){return e||g||h}}}(),wysihtml5.lang.array=function(a){return{contains:function(b){if(a.indexOf)return-1!==a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return!0;return!1},without:function(b){b=wysihtml5.lang.array(b);for(var c=[],d=0,e=a.length;e>d;d++)b.contains(a[d])||c.push(a[d]);return c},get:function(){for(var b=0,c=a.length,d=[];c>b;b++)d.push(a[b]);return d}}},wysihtml5.lang.Dispatcher=Base.extend({observe:function(a,b){return this.events=this.events||{},this.events[a]=this.events[a]||[],this.events[a].push(b),this},on:function(){return this.observe.apply(this,wysihtml5.lang.array(arguments).get())},fire:function(a,b){this.events=this.events||{};for(var c=this.events[a]||[],d=0;d<c.length;d++)c[d].call(this,b);return this},stopObserving:function(a,b){this.events=this.events||{};var c,d,e=0;if(a){for(c=this.events[a]||[],d=[];e<c.length;e++)c[e]!==b&&b&&d.push(c[e]);this.events[a]=d}else this.events={};return this}}),wysihtml5.lang.object=function(a){return{merge:function(b){for(var c in b)a[c]=b[c];return this},get:function(){return a},clone:function(){var b,c={};for(b in a)c[b]=a[b];return c},isArray:function(){return"[object Array]"===Object.prototype.toString.call(a)}}},function(){var a=/^\s+/,b=/\s+$/;wysihtml5.lang.string=function(c){return c=String(c),{trim:function(){return c.replace(a,"").replace(b,"")},interpolate:function(a){for(var b in a)c=this.replace("#{"+b+"}").by(a[b]);return c},replace:function(a){return{by:function(b){return c.split(a).join(b)}}}}}}(),function(a){function b(a){return f(a)?a:(a===a.ownerDocument.documentElement&&(a=a.ownerDocument.body),g(a))}function c(a){return a.replace(i,function(a,b){var c=(b.match(j)||[])[1]||"",d=l[c];b=b.replace(j,""),b.split(d).length>b.split(c).length&&(b+=c,c="");var e=b,f=b;return b.length>k&&(f=f.substr(0,k)+"..."),"www."===e.substr(0,4)&&(e="http://"+e),'<a href="'+e+'">'+f+"</a>"+c})}function d(a){var b=a._wysihtml5_tempElement;return b||(b=a._wysihtml5_tempElement=a.createElement("div")),b}function e(a){var b=a.parentNode,e=d(b.ownerDocument);for(e.innerHTML="<span></span>"+c(a.data),e.removeChild(e.firstChild);e.firstChild;)b.insertBefore(e.firstChild,a);b.removeChild(a)}function f(a){for(var b;a.parentNode;){if(a=a.parentNode,b=a.nodeName,h.contains(b))return!0;if("body"===b)return!1}return!1}function g(b){if(!h.contains(b.nodeName)){if(b.nodeType===a.TEXT_NODE&&b.data.match(i))return void e(b);for(var c=a.lang.array(b.childNodes).get(),d=c.length,f=0;d>f;f++)g(c[f]);return b}}var h=a.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),i=/((https?:\/\/|www\.)[^\s<]{3,})/gi,j=/([^\w\/\-](,?))$/i,k=100,l={")":"(","]":"[","}":"{"};a.dom.autoLink=b,a.dom.autoLink.URL_REG_EXP=i}(wysihtml5),function(a){var b=a.browser.supportsClassList(),c=a.dom;c.addClass=function(a,d){return b?a.classList.add(d):void(c.hasClass(a,d)||(a.className+=" "+d))},c.removeClass=function(a,c){return b?a.classList.remove(c):void(a.className=a.className.replace(new RegExp("(^|\\s+)"+c+"(\\s+|$)")," "))},c.hasClass=function(a,c){if(b)return a.classList.contains(c);var d=a.className;return d.length>0&&(d==c||new RegExp("(^|\\s)"+c+"(\\s|$)").test(d))}}(wysihtml5),wysihtml5.dom.contains=function(){var a=document.documentElement;return a.contains?function(a,b){return b.nodeType!==wysihtml5.ELEMENT_NODE&&(b=b.parentNode),a!==b&&a.contains(b)}:a.compareDocumentPosition?function(a,b){return!!(16&a.compareDocumentPosition(b))}:void 0}(),wysihtml5.dom.convertToList=function(){function a(a,b){var c=a.createElement("li");return b.appendChild(c),c}function b(a,b){return a.createElement(b)}function c(c,d){if("UL"===c.nodeName||"OL"===c.nodeName||"MENU"===c.nodeName)return c;var e,f,g,h,i,j,k,l,m,n=c.ownerDocument,o=b(n,d),p=c.querySelectorAll("br"),q=p.length;for(m=0;q>m;m++)for(h=p[m];(i=h.parentNode)&&i!==c&&i.lastChild===h;){if("block"===wysihtml5.dom.getStyle("display").from(i)){i.removeChild(h);break}wysihtml5.dom.insert(h).after(h.parentNode)}for(e=wysihtml5.lang.array(c.childNodes).get(),f=e.length,m=0;f>m;m++)l=l||a(n,o),g=e[m],j="block"===wysihtml5.dom.getStyle("display").from(g),k="BR"===g.nodeName,j?(l=l.firstChild?a(n,o):l,l.appendChild(g),l=null):k?l=l.firstChild?null:l:l.appendChild(g);return c.parentNode.replaceChild(o,c),o}return c}(),wysihtml5.dom.copyAttributes=function(a){return{from:function(b){return{to:function(c){for(var d,e=0,f=a.length;f>e;e++)d=a[e],"undefined"!=typeof b[d]&&""!==b[d]&&(c[d]=b[d]);return{andTo:arguments.callee}}}}}},function(a){var b=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],c=function(b){return d(b)?parseInt(a.getStyle("width").from(b),10)<b.offsetWidth:!1},d=function(c){for(var d=0,e=b.length;e>d;d++)if("border-box"===a.getStyle(b[d]).from(c))return b[d]};a.copyStyles=function(d){return{from:function(e){c(e)&&(d=wysihtml5.lang.array(d).without(b));for(var f,g="",h=d.length,i=0;h>i;i++)f=d[i],g+=f+":"+a.getStyle(f).from(e)+";";return{to:function(b){return a.setStyles(g).on(b),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(a){a.dom.delegate=function(b,c,d,e){return a.dom.observe(b,d,function(d){for(var f=d.target,g=a.lang.array(b.querySelectorAll(c));f&&f!==b;){if(g.contains(f)){e.call(f,d);break}f=f.parentNode}})}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var a=function(a,b){var c=b.createElement("div");c.style.display="none",b.body.appendChild(c);try{c.innerHTML=a}catch(d){}return b.body.removeChild(c),c},b=function(a){if(!a._wysihtml5_supportsHTML5Tags){for(var b=0,d=c.length;d>b;b++)a.createElement(c[b]);a._wysihtml5_supportsHTML5Tags=!0}},c=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(c,d){d=d||document;var e;return"object"==typeof c&&c.nodeType?(e=d.createElement("div"),e.appendChild(c)):wysihtml5.browser.supportsHTML5Tags(d)?(e=d.createElement("div"),e.innerHTML=c):(b(d),e=a(c,d)),e}}(),wysihtml5.dom.getParentElement=function(){function a(a,b){return b&&b.length?"string"==typeof b?a===b:wysihtml5.lang.array(b).contains(a):!0}function b(a){return a.nodeType===wysihtml5.ELEMENT_NODE}function c(a,b,c){var d=(a.className||"").match(c)||[];return b?d[d.length-1]===b:!!d.length}function d(b,c,d){for(;d--&&b&&"BODY"!==b.nodeName;){if(a(b.nodeName,c))return b;b=b.parentNode}return null}function e(d,e,f,g,h){for(;h--&&d&&"BODY"!==d.nodeName;){if(b(d)&&a(d.nodeName,e)&&c(d,f,g))return d;d=d.parentNode}return null}return function(a,b,c){return c=c||50,b.className||b.classRegExp?e(a,b.nodeName,b.className,b.classRegExp,c):d(a,b.nodeName,c)}}(),wysihtml5.dom.getStyle=function(){function a(a){return a.replace(c,function(a){return a.charAt(1).toUpperCase()})}var b={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},c=/\-[a-z]/g;return function(c){return{from:function(d){if(d.nodeType===wysihtml5.ELEMENT_NODE){var e=d.ownerDocument,f=b[c]||a(c),g=d.style,h=d.currentStyle,i=g[f];if(i)return i;if(h)try{return h[f]}catch(j){}var k,l,m=e.defaultView||e.parentWindow,n=("height"===c||"width"===c)&&"TEXTAREA"===d.nodeName;return m.getComputedStyle?(n&&(k=g.overflow,g.overflow="hidden"),l=m.getComputedStyle(d,null).getPropertyValue(c),n&&(g.overflow=k||""),l):void 0}}}}}(),wysihtml5.dom.hasElementWithTagName=function(){function a(a){return a._wysihtml5_identifier||(a._wysihtml5_identifier=c++)}var b={},c=1;return function(c,d){var e=a(c)+":"+d,f=b[e];return f||(f=b[e]=c.getElementsByTagName(d)),f.length>0}}(),function(a){function b(a){return a._wysihtml5_identifier||(a._wysihtml5_identifier=d++)}var c={},d=1;a.dom.hasElementWithClassName=function(d,e){if(!a.browser.supportsNativeGetElementsByClassName())return!!d.querySelector("."+e);var f=b(d)+":"+e,g=c[f];return g||(g=c[f]=d.getElementsByClassName(e)),g.length>0}}(wysihtml5),wysihtml5.dom.insert=function(a){return{after:function(b){b.parentNode.insertBefore(a,b.nextSibling)},before:function(b){b.parentNode.insertBefore(a,b)},into:function(b){b.appendChild(a)}}},wysihtml5.dom.insertCSS=function(a){return a=a.join("\n"),{into:function(b){var c=b.head||b.getElementsByTagName("head")[0],d=b.createElement("style");d.type="text/css",d.styleSheet?d.styleSheet.cssText=a:d.appendChild(b.createTextNode(a)),c&&c.appendChild(d)}}},wysihtml5.dom.observe=function(a,b,c){b="string"==typeof b?[b]:b;for(var d,e,f=0,g=b.length;g>f;f++)e=b[f],a.addEventListener?a.addEventListener(e,c,!1):(d=function(b){"target"in b||(b.target=b.srcElement),b.preventDefault=b.preventDefault||function(){this.returnValue=!1},b.stopPropagation=b.stopPropagation||function(){this.cancelBubble=!0},c.call(a,b)},a.attachEvent("on"+e,d));return{stop:function(){for(var e,f=0,g=b.length;g>f;f++)e=b[f],a.removeEventListener?a.removeEventListener(e,c,!1):a.detachEvent("on"+e,d)}}},wysihtml5.dom.parse=function(){function a(a,c,d,e){wysihtml5.lang.object(l).merge(k).merge(c).get(),d=d||a.ownerDocument||document;var f,g,h,i=d.createDocumentFragment(),j="string"==typeof a;for(f=j?wysihtml5.dom.getAsDom(a,d):a;f.firstChild;)h=f.firstChild,f.removeChild(h),h.innerHTML&&-1!==h.innerHTML.indexOf("<img")?i.appendChild(h):(g=b(h,e),g&&i.appendChild(g));return f.appendChild(i),j?wysihtml5.quirks.getCorrectInnerHTML(f):f}function b(a,c){var d,e=a.nodeType,f=a.childNodes,g=f.length,j=h[e],k=0;if(d=j&&j(a),!d)return null;for(k=0;g>k;k++)newChild=b(f[k],c),newChild&&d.appendChild(newChild);return c&&d.childNodes.length<=1&&d.nodeName.toLowerCase()===i&&!d.attributes.length?d.firstChild:d}function c(a){var b,c,e=l.tags,f=a.nodeName.toLowerCase(),g=a.scopeName;if(a._wysihtml5)return null;if(a._wysihtml5=1,"wysihtml5-temp"===a.className)return null;if(g&&"HTML"!=g&&(f=g+":"+f),"outerHTML"in a&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==a.nodeName||"</p>"===a.outerHTML.slice(-4).toLowerCase()||(f="div")),f in e){if(b=e[f],!b||b.remove)return null;b="string"==typeof b?{rename_tag:b}:b}else{if(!a.firstChild)return null;b={rename_tag:i}}return c=a.ownerDocument.createElement(b.rename_tag||f),d(a,c,b),a=null,c}function d(a,b,c){var d,f,g,h,i,k,m,p={},q=c.set_class,r=c.add_class,s=c.set_attributes,t=c.check_attributes,u=l.classes,v=0,w=[],x=[],y=[],z=[];if(s&&(p=wysihtml5.lang.object(s).clone()),t)for(i in t)m=n[t[i]],m&&(k=m(e(a,i)),"string"==typeof k&&(p[i]=k));if(q&&w.push(q),r)for(i in r)m=o[r[i]],m&&(h=m(e(a,i)),"string"==typeof h&&w.push(h));for(u["_wysihtml5-temp-placeholder"]=1,z=a.getAttribute("class"),z&&(w=w.concat(z.split(j))),d=w.length;d>v;v++)g=w[v],u[g]&&x.push(g);for(f=x.length;f--;)g=x[f],wysihtml5.lang.array(y).contains(g)||y.unshift(g);y.length&&(p["class"]=y.join(" "));for(i in p)try{b.setAttribute(i,p[i])}catch(A){}p.src&&("undefined"!=typeof p.width&&b.setAttribute("width",p.width),"undefined"!=typeof p.height&&b.setAttribute("height",p.height))}function e(a,b){b=b.toLowerCase();var c=a.nodeName;if("IMG"==c&&"src"==b&&f(a)===!0)return a.src;if(m&&"outerHTML"in a){var d=a.outerHTML.toLowerCase(),e=-1!=d.indexOf(" "+b+"=");return e?a.getAttribute(b):null}return a.getAttribute(b)}function f(a){try{return a.complete&&!a.mozMatchesSelector(":-moz-broken")}catch(b){if(a.complete&&"complete"===a.readyState)return!0}}function g(a){return a.ownerDocument.createTextNode(a.data)}var h={1:c,3:g},i="span",j=/\s+/,k={tags:{},classes:{}},l={},m=!wysihtml5.browser.supportsGetAttributeCorrectly(),n={url:function(){var a=/^https?:\/\//i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),alt:function(){var a=/[^ a-z0-9_\-]/gi;return function(b){return b?b.replace(a,""):""}}(),numbers:function(){var a=/\D/g;return function(b){return b=(b||"").replace(a,""),b||null}}()},o={align_img:function(){var a={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(b){return a[String(b).toLowerCase()]}}(),align_text:function(){var a={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(b){return a[String(b).toLowerCase()]}}(),clear_br:function(){var a={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(b){return a[String(b).toLowerCase()]}}(),size_font:function(){var a={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(b){return a[String(b).charAt(0)]}}()};return a}(),wysihtml5.dom.removeEmptyTextNodes=function(a){for(var b,c=wysihtml5.lang.array(a.childNodes).get(),d=c.length,e=0;d>e;e++)b=c[e],b.nodeType===wysihtml5.TEXT_NODE&&""===b.data&&b.parentNode.removeChild(b)},wysihtml5.dom.renameElement=function(a,b){for(var c,d=a.ownerDocument.createElement(b);c=a.firstChild;)d.appendChild(c);return wysihtml5.dom.copyAttributes(["align","className"]).from(a).to(d),a.parentNode.replaceChild(d,a),d},wysihtml5.dom.replaceWithChildNodes=function(a){if(a.parentNode){if(!a.firstChild)return void a.parentNode.removeChild(a);for(var b=a.ownerDocument.createDocumentFragment();a.firstChild;)b.appendChild(a.firstChild);a.parentNode.replaceChild(b,a),a=b=null}},function(a){function b(b){return"block"===a.getStyle("display").from(b)}function c(a){return"BR"===a.nodeName}function d(a){var b=a.ownerDocument.createElement("br");a.appendChild(b)}function e(a){if("MENU"===a.nodeName||"UL"===a.nodeName||"OL"===a.nodeName){var e,f,g,h,i,j=a.ownerDocument,k=j.createDocumentFragment(),l=a.previousElementSibling||a.previousSibling;for(l&&!b(l)&&d(k);i=a.firstChild;){for(f=i.lastChild;e=i.firstChild;)g=e===f,h=g&&!b(e)&&!c(e),k.appendChild(e),h&&d(k);i.parentNode.removeChild(i)}a.parentNode.replaceChild(k,a)}}a.resolveList=e}(wysihtml5.dom),function(a){var b=document,c=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],d=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],e=["referrer","write","open","close"];a.dom.Sandbox=Base.extend({constructor:function(b,c){this.callback=b||a.EMPTY_FUNCTION,this.config=a.lang.object({}).merge(c).get(),this.iframe=this._createIframe()},insertInto:function(a){"string"==typeof a&&(a=b.getElementById(a)),a.appendChild(this.iframe)},getIframe:function(){return this.iframe},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var a=this.getIframe();a.parentNode.removeChild(a)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var c=this,d=b.createElement("iframe");return d.className="wysihtml5-sandbox",a.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(d),a.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(d.src="javascript:'<html></html>'"),d.onload=function(){d.onreadystatechange=d.onload=null,c._onLoadIframe(d)},d.onreadystatechange=function(){/loaded|complete/.test(d.readyState)&&(d.onreadystatechange=d.onload=null,c._onLoadIframe(d))},d},_onLoadIframe:function(f){if(a.dom.contains(b.documentElement,f)){var g=this,h=f.contentWindow,i=f.contentWindow.document,j=b.characterSet||b.charset||"utf-8",k=this._getHtml({charset:j,stylesheets:this.config.stylesheets});if(i.open("text/html","replace"),i.write(k),i.close(),this.getWindow=function(){return f.contentWindow},this.getDocument=function(){return f.contentWindow.document},h.onerror=function(a,b,c){throw new Error("wysihtml5.Sandbox: "+a,b,c)},!a.browser.supportsSandboxedIframes()){var l,m;for(l=0,m=c.length;m>l;l++)this._unset(h,c[l]);for(l=0,m=d.length;m>l;l++)this._unset(h,d[l],a.EMPTY_FUNCTION);for(l=0,m=e.length;m>l;l++)this._unset(i,e[l]);this._unset(i,"cookie","",!0)}this.loaded=!0,setTimeout(function(){g.callback(g)},0)}},_getHtml:function(b){var c,d=b.stylesheets,e="",f=0;if(d="string"==typeof d?[d]:d)for(c=d.length;c>f;f++)e+='<link rel="stylesheet" href="'+d[f]+'">';return b.stylesheets=e,a.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(b)},_unset:function(b,c,d,e){try{b[c]=d}catch(f){}try{b.__defineGetter__(c,function(){return d})}catch(f){}if(e)try{b.__defineSetter__(c,function(){})}catch(f){}if(!a.browser.crashesWhenDefineProperty(c))try{var g={get:function(){return d}};e&&(g.set=function(){}),Object.defineProperty(b,c,g)}catch(f){}}})}(wysihtml5),function(){var a={className:"class"};wysihtml5.dom.setAttributes=function(b){return{on:function(c){for(var d in b)c.setAttribute(a[d]||d,b[d])}}}}(),wysihtml5.dom.setStyles=function(a){return{on:function(b){var c=b.style;if("string"==typeof a)return void(c.cssText+=";"+a);for(var d in a)"float"===d?(c.cssFloat=a[d],c.styleFloat=a[d]):c[d]=a[d]}}},function(a){a.simulatePlaceholder=function(b,c,d){var e="placeholder",f=function(){c.hasPlaceholderSet()&&c.clear(),a.removeClass(c.element,e)},g=function(){c.isEmpty()&&(c.setValue(d),a.addClass(c.element,e))};b.observe("set_placeholder",g).observe("unset_placeholder",f).observe("focus:composer",f).observe("paste:composer",f).observe("blur:composer",g),g()}}(wysihtml5.dom),function(a){var b=document.documentElement;"textContent"in b?(a.setTextContent=function(a,b){a.textContent=b},a.getTextContent=function(a){return a.textContent}):"innerText"in b?(a.setTextContent=function(a,b){a.innerText=b},a.getTextContent=function(a){return a.innerText}):(a.setTextContent=function(a,b){a.nodeValue=b},a.getTextContent=function(a){return a.nodeValue})}(wysihtml5.dom),wysihtml5.quirks.cleanPastedHTML=function(){function a(a,c,d){c=c||b,d=d||a.ownerDocument||document;var e,f,g,h,i,j="string"==typeof a,k=0;e=j?wysihtml5.dom.getAsDom(a,d):a;for(i in c)for(g=e.querySelectorAll(i),f=c[i],h=g.length;h>k;k++)f(g[k]);return g=a=c=null,j?e.innerHTML:e}var b={"a u":wysihtml5.dom.replaceWithChildNodes};return a}(),function(a){var b=a.dom;a.quirks.ensureProperClearing=function(){var a=function(){var a=this;setTimeout(function(){var b=a.innerHTML.toLowerCase();("<p>&nbsp;</p>"==b||"<p>&nbsp;</p><p>&nbsp;</p>"==b)&&(a.innerHTML="")},0)};return function(c){b.observe(c.element,["cut","keydown"],a)}}(),a.quirks.ensureProperClearingOfLists=function(){var c=["OL","UL","MENU"],d=function(d,e){if(e.firstChild&&a.lang.array(c).contains(e.firstChild.nodeName)){var f=b.getParentElement(d,{nodeName:c});if(f){var g=f==e.firstChild;if(g){var h=f.childNodes.length<=1;if(h){var i=f.firstChild?""===f.firstChild.innerHTML:!0;i&&f.parentNode.removeChild(f)}}}}};return function(c){b.observe(c.element,"keydown",function(b){if(b.keyCode===a.BACKSPACE_KEY){var e=c.selection.getSelectedNode();d(e,c.element)}})}}()}(wysihtml5),function(a){var b="%7E";a.quirks.getCorrectInnerHTML=function(c){var d=c.innerHTML;if(-1===d.indexOf(b))return d;var e,f,g,h,i=c.querySelectorAll("[href*='~'], [src*='~']");for(h=0,g=i.length;g>h;h++)e=i[h].href||i[h].src,f=a.lang.string(e).replace("~").by(b),d=a.lang.string(d).replace(f).by(e);return d}}(wysihtml5),function(a){var b=a.dom,c=["LI","P","H1","H2","H3","H4","H5","H6"],d=["UL","OL","MENU"];a.quirks.insertLineBreakOnReturn=function(e){function f(c){var d=b.getParentElement(c,{nodeName:["P","DIV"]},2);if(d){var f=document.createTextNode(a.INVISIBLE_SPACE);b.insert(f).before(d),b.replaceWithChildNodes(d),e.selection.selectNode(f)}}function g(g){var h=g.keyCode;if(!(g.shiftKey||h!==a.ENTER_KEY&&h!==a.BACKSPACE_KEY)){var i=(g.target,e.selection.getSelectedNode()),j=b.getParentElement(i,{nodeName:c},4);if(j)return void("LI"!==j.nodeName||h!==a.ENTER_KEY&&h!==a.BACKSPACE_KEY?j.nodeName.match(/H[1-6]/)&&h===a.ENTER_KEY&&setTimeout(function(){f(e.selection.getSelectedNode())},0):setTimeout(function(){var a,c=e.selection.getSelectedNode();c&&(a=b.getParentElement(c,{nodeName:d},2),a||f(c))},0));if(h===a.ENTER_KEY&&!a.browser.insertsLineBreaksOnReturn()){var k=$(".in iframe")[0],l=k.contentWindow.getSelection().getRangeAt(0);if(0===l.startOffset){var m=l.startContainer.previousSibling;if("BR"===m.nodeName&&(null===m.previousSibling||"BR"===m.previousSibling.nodeName)&&"BODY"!==e.selectedNodeBeforeReturn.nodeName)return void g.preventDefault()}var n=k.contentDocument.createRange();n.selectNodeContents(e.element),n.setStart(l.endContainer,l.endOffset);var o,p=n.cloneContents();!function(){if(p.textContent.length>0)return void(o=!1);for(var a=p.childNodes,b=0;b<a.length;b++)if("#text"!==a[b].nodeName&&"BR"!==a[b].nodeName)return console.log("wysihtml5:tag["+a[b].nodeName+"] behind, not reach end."),void(o=!1);o=0===a.length?!0:1===a.length?"BR"==a[0].nodeName&&"BODY"!==e.selectedNodeBeforeReturn.nodeName?!1:!0:2===a.length&&"#text"===a[0].nodeName&&"BR"===a[1].nodeName?!0:!1}(),e.commands.exec("insertLineBreak");var q=e.selection.getSelectedNode();if(q.previousSibling&&q.previousSibling.previousSibling&&(e.selection.selectNode(q.previousSibling.previousSibling),e.focus()),"BODY"==q.nodeName){var r=e.selection.getRange();r.startOffset!=r.endOffset||o||(r.setStart(q,r.startOffset-1),r.setEnd(q,r.endOffset-1),e.selection.setSelection(r))}g.preventDefault()}}}b.observe(e.element.ownerDocument,"keydown",g)}}(wysihtml5),function(a){var b="wysihtml5-quirks-redraw";
a.quirks.redraw=function(c){a.dom.addClass(c,b),a.dom.removeClass(c,b);try{var d=c.ownerDocument;d.execCommand("italic",!1,null),d.execCommand("italic",!1,null)}catch(e){}}}(wysihtml5),function(a){function b(a){var b=0;if(a.parentNode)do b+=a.offsetTop||0,a=a.offsetParent;while(a);return b}var c=a.dom;a.Selection=Base.extend({constructor:function(a){window.rangy.init(),this.editor=a,this.composer=a.composer,this.doc=this.composer.doc},getBookmark:function(){var a=this.getRange();return a&&a.cloneRange()},setBookmark:function(a){a&&this.setSelection(a)},setBefore:function(a){var b=rangy.createRange(this.doc);return b.setStartBefore(a),b.setEndBefore(a),this.setSelection(b)},setAfter:function(a){var b=rangy.createRange(this.doc);return b.setStartAfter(a),b.setEndAfter(a),this.setSelection(b)},selectNode:function(b){var d=rangy.createRange(this.doc),e=b.nodeType===a.ELEMENT_NODE,f="canHaveHTML"in b?b.canHaveHTML:"IMG"!==b.nodeName,g=e?b.innerHTML:b.data,h=""===g||g===a.INVISIBLE_SPACE,i=c.getStyle("display").from(b),j="block"===i||"list-item"===i;if(h&&e&&f)try{b.innerHTML=a.INVISIBLE_SPACE}catch(k){}f?d.selectNodeContents(b):d.selectNode(b),f&&h&&e?d.collapse(j):f&&h&&(d.setStartAfter(b),d.setEndAfter(b)),this.setSelection(d)},getSelectedNode:function(a){var b,c;return a&&this.doc.selection&&"Control"===this.doc.selection.type&&(c=this.doc.selection.createRange(),c&&c.length)?c.item(0):(b=this.getSelection(this.doc),b.focusNode===b.anchorNode?b.focusNode:(c=this.getRange(this.doc),c?c.commonAncestorContainer:this.doc.body))},executeAndRestore:function(b,c){var d,e=this.doc.body,f=c&&e.scrollTop,g=c&&e.scrollLeft,h="_wysihtml5-temp-placeholder",i='<span class="'+h+'">'+a.INVISIBLE_SPACE+"</span>",j=this.getRange(this.doc);if(!j)return void b(e,e);var k=j.createContextualFragment(i);j.insertNode(k);try{b(j.startContainer,j.endContainer)}catch(l){setTimeout(function(){throw l},0)}caretPlaceholder=this.doc.querySelector("."+h),caretPlaceholder?(d=rangy.createRange(this.doc),d.selectNode(caretPlaceholder),d.deleteContents(),this.setSelection(d)):e.focus(),c&&(e.scrollTop=f,e.scrollLeft=g);try{caretPlaceholder.parentNode.removeChild(caretPlaceholder)}catch(m){}},executeAndRestoreSimple:function(a){var b,c,d,e,f,g=this.getRange(),h=this.doc.body;if(!g)return void a(h,h);e=g.getNodes([3]),c=e[0]||g.startContainer,d=e[e.length-1]||g.endContainer,f={collapsed:g.collapsed,startContainer:c,startOffset:c===g.startContainer?g.startOffset:0,endContainer:d,endOffset:d===g.endContainer?g.endOffset:d.length};try{a(g.startContainer,g.endContainer)}catch(i){setTimeout(function(){throw i},0)}b=rangy.createRange(this.doc);try{b.setStart(f.startContainer,f.startOffset)}catch(j){}try{b.setEnd(f.endContainer,f.endOffset)}catch(k){}try{this.setSelection(b)}catch(l){}},insertHTML:function(a){var b=rangy.createRange(this.doc),c=b.createContextualFragment(a),d=c.lastChild;this.insertNode(c),d&&this.setAfter(d)},insertNode:function(a){var b=this.getRange();b&&b.insertNode(a)},surround:function(a){var b=this.getRange();if(b)try{b.surroundContents(a),this.selectNode(a)}catch(c){a.appendChild(b.extractContents()),b.insertNode(a)}},scrollIntoView:function(){var c,d=this.doc,e=d.documentElement.scrollHeight>d.documentElement.offsetHeight,f=d._wysihtml5ScrollIntoViewElement=d._wysihtml5ScrollIntoViewElement||function(){var b=d.createElement("span");return b.innerHTML=a.INVISIBLE_SPACE,b}();e&&(this.insertNode(f),c=b(f),f.parentNode.removeChild(f),c>d.body.scrollTop&&(d.body.scrollTop=c))},selectLine:function(){a.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var a=this.doc.defaultView,b=a.getSelection();b.modify("extend","left","lineboundary"),b.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var a,b,c,d,e,f=this.doc.selection.createRange(),g=f.boundingTop,h=(f.boundingHeight,this.doc.body.scrollWidth);if(f.moveToPoint){for(0===g&&(c=this.doc.createElement("span"),this.insertNode(c),g=c.offsetTop,c.parentNode.removeChild(c)),g+=1,d=-10;h>d;d+=2)try{f.moveToPoint(d,g);break}catch(i){}for(a=g,b=this.doc.selection.createRange(),e=h;e>=0;e--)try{b.moveToPoint(e,a);break}catch(j){}f.setEndPoint("EndToEnd",b),f.select()}},getText:function(){var a=this.getSelection();return a?a.toString():""},getNodes:function(a,b){var c=this.getRange();return c?c.getNodes([a],b):[]},getRange:function(){var a=this.getSelection();return a&&a.rangeCount&&a.getRangeAt(0)},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(a){var b=this.doc.defaultView||this.doc.parentWindow,c=rangy.getSelection(b);return c.setSingleRange(a)}})}(wysihtml5),function(a,b){function c(a,b,c){if(!a.className)return!1;var d=a.className.match(c)||[];return d[d.length-1]===b}function d(a,b,c){a.className?(e(a,c),a.className+=" "+b):a.className=b}function e(a,b){a.className&&(a.className=a.className.replace(b,""))}function f(a,b){return a.className.replace(n," ")==b.className.replace(n," ")}function g(a){for(var b=a.parentNode;a.firstChild;)b.insertBefore(a.firstChild,a);b.removeChild(a)}function h(a,b){if(a.attributes.length!=b.attributes.length)return!1;for(var c,d,e,f=0,g=a.attributes.length;g>f;++f)if(c=a.attributes[f],e=c.name,"class"!=e){if(d=b.attributes.getNamedItem(e),c.specified!=d.specified)return!1;if(c.specified&&c.nodeValue!==d.nodeValue)return!1}return!0}function i(a,c){return b.dom.isCharacterDataNode(a)?0==c?!!a.previousSibling:c==a.length?!!a.nextSibling:!0:c>0&&c<a.childNodes.length}function j(a,c,d){var e;if(b.dom.isCharacterDataNode(c)&&(0==d?(d=b.dom.getNodeIndex(c),c=c.parentNode):d==c.length?(d=b.dom.getNodeIndex(c)+1,c=c.parentNode):e=b.dom.splitDataNode(c,d)),!e){e=c.cloneNode(!1),e.id&&e.removeAttribute("id");for(var f;f=c.childNodes[d];)e.appendChild(f);b.dom.insertAfter(e,c)}return c==a?e:j(a,e.parentNode,b.dom.getNodeIndex(e))}function k(b){this.isElementMerge=b.nodeType==a.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?b.lastChild:b,this.textNodes=[this.firstTextNode]}function l(a,b,c,d){this.tagNames=a||[m],this.cssClass=b||"",this.similarClassRegExp=c,this.normalize=d,this.applyToAnyTagName=!1}var m="span",n=/\s+/g;k.prototype={doMerge:function(){for(var a,b,c,d=[],e=0,f=this.textNodes.length;f>e;++e)a=this.textNodes[e],b=a.parentNode,d[e]=a.data,e&&(b.removeChild(a),b.hasChildNodes()||b.parentNode.removeChild(b));return this.firstTextNode.data=c=d.join(""),c},getLength:function(){for(var a=this.textNodes.length,b=0;a--;)b+=this.textNodes[a].length;return b},toString:function(){for(var a=[],b=0,c=this.textNodes.length;c>b;++b)a[b]="'"+this.textNodes[b].data+"'";return"[Merge("+a.join(",")+")]"}},l.prototype={getAncestorWithClass:function(d){for(var e;d;){if(e=this.cssClass?c(d,this.cssClass,this.similarClassRegExp):!0,d.nodeType==a.ELEMENT_NODE&&b.dom.arrayContains(this.tagNames,d.tagName.toLowerCase())&&e)return d;d=d.parentNode}return!1},postApply:function(a,b){for(var c,d,e,f=a[0],g=a[a.length-1],h=[],i=f,j=g,l=0,m=g.length,n=0,o=a.length;o>n;++n)d=a[n],e=this.getAdjacentMergeableTextNode(d.parentNode,!1),e?(c||(c=new k(e),h.push(c)),c.textNodes.push(d),d===f&&(i=c.firstTextNode,l=i.length),d===g&&(j=c.firstTextNode,m=c.getLength())):c=null;var p=this.getAdjacentMergeableTextNode(g.parentNode,!0);if(p&&(c||(c=new k(g),h.push(c)),c.textNodes.push(p)),h.length){for(n=0,o=h.length;o>n;++n)h[n].doMerge();b.setStart(i,l),b.setEnd(j,m)}},getAdjacentMergeableTextNode:function(b,c){var d,e=b.nodeType==a.TEXT_NODE,f=e?b.parentNode:b,g=c?"nextSibling":"previousSibling";if(e){if(d=b[g],d&&d.nodeType==a.TEXT_NODE)return d}else if(d=f[g],d&&this.areElementsMergeable(b,d))return d[c?"firstChild":"lastChild"];return null},areElementsMergeable:function(a,c){return b.dom.arrayContains(this.tagNames,(a.tagName||"").toLowerCase())&&b.dom.arrayContains(this.tagNames,(c.tagName||"").toLowerCase())&&f(a,c)&&h(a,c)},createContainer:function(a){var b=a.createElement(this.tagNames[0]);return this.cssClass&&(b.className=this.cssClass),b},applyToTextNode:function(a){var c=a.parentNode;if(1==c.childNodes.length&&b.dom.arrayContains(this.tagNames,c.tagName.toLowerCase()))this.cssClass&&d(c,this.cssClass,this.similarClassRegExp);else{var e=this.createContainer(b.dom.getDocument(a));a.parentNode.insertBefore(e,a),e.appendChild(a)}},isRemovable:function(c){return b.dom.arrayContains(this.tagNames,c.tagName.toLowerCase())&&a.lang.string(c.className).trim()==this.cssClass},undoToTextNode:function(a,b,c){if(!b.containsNode(c)){var d=b.cloneRange();d.selectNode(c),d.isPointInRange(b.endContainer,b.endOffset)&&i(b.endContainer,b.endOffset)&&(j(c,b.endContainer,b.endOffset),b.setEndAfter(c)),d.isPointInRange(b.startContainer,b.startOffset)&&i(b.startContainer,b.startOffset)&&(c=j(c,b.startContainer,b.startOffset))}this.similarClassRegExp&&e(c,this.similarClassRegExp),this.isRemovable(c)&&g(c)},applyToRange:function(b){var c=b.getNodes([a.TEXT_NODE]);if(!c.length)try{var d=this.createContainer(b.endContainer.ownerDocument);return b.surroundContents(d),void this.selectNode(b,d)}catch(e){}if(b.splitBoundaries(),c=b.getNodes([a.TEXT_NODE]),c.length){for(var f,g=0,h=c.length;h>g;++g)f=c[g],this.getAncestorWithClass(f)||this.applyToTextNode(f);b.setStart(c[0],0),f=c[c.length-1],b.setEnd(f,f.length),this.normalize&&this.postApply(c,b)}},undoToRange:function(b){var c,d,e=b.getNodes([a.TEXT_NODE]);if(e.length)b.splitBoundaries(),e=b.getNodes([a.TEXT_NODE]);else{var f=b.endContainer.ownerDocument,g=f.createTextNode(a.INVISIBLE_SPACE);b.insertNode(g),b.selectNode(g),e=[g]}for(var h=0,i=e.length;i>h;++h)c=e[h],d=this.getAncestorWithClass(c),d&&this.undoToTextNode(c,b,d);1==i?this.selectNode(b,e[0]):(b.setStart(e[0],0),c=e[e.length-1],b.setEnd(c,c.length),this.normalize&&this.postApply(e,b))},selectNode:function(b,c){var d=c.nodeType===a.ELEMENT_NODE,e="canHaveHTML"in c?c.canHaveHTML:!0,f=d?c.innerHTML:c.data,g=""===f||f===a.INVISIBLE_SPACE;if(g&&d&&e)try{c.innerHTML=a.INVISIBLE_SPACE}catch(h){}b.selectNodeContents(c),g&&d?b.collapse(!1):g&&(b.setStartAfter(c),b.setEndAfter(c))},getTextSelectedByRange:function(a,b){var c=b.cloneRange();c.selectNodeContents(a);var d=c.intersection(b),e=d?d.toString():"";return c.detach(),e},isAppliedToRange:function(b){var c,d=[],e=b.getNodes([a.TEXT_NODE]);if(!e.length)return c=this.getAncestorWithClass(b.startContainer),c?[c]:!1;for(var f,g=0,h=e.length;h>g;++g){if(f=this.getTextSelectedByRange(e[g],b),c=this.getAncestorWithClass(e[g]),""!=f&&!c)return!1;d.push(c)}return d},toggleRange:function(a){this.isAppliedToRange(a)?this.undoToRange(a):this.applyToRange(a)}},a.selection.HTMLApplier=l}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(a){this.editor=a,this.composer=a.composer,this.doc=this.composer.doc},support:function(a){return wysihtml5.browser.supportsCommand(this.doc,a)},exec:function(a,b){var c=wysihtml5.commands[a],d=wysihtml5.lang.array(arguments).get(),e=c&&c.exec,f=null;if(this.editor.fire("beforecommand:composer"),e)d.unshift(this.composer),f=e.apply(c,d);else try{f=this.doc.execCommand(a,!1,b)}catch(g){}return this.editor.fire("aftercommand:composer"),f},state:function(a){var b=wysihtml5.commands[a],c=wysihtml5.lang.array(arguments).get(),d=b&&b.state;if(d)return c.unshift(this.composer),d.apply(b,c);try{return this.doc.queryCommandState(a)}catch(e){return!1}},value:function(a){var b=wysihtml5.commands[a],c=b&&b.value;if(c)return c.call(b,this.composer,a);try{return this.doc.queryCommandValue(a)}catch(d){return null}}}),function(a){var b;a.commands.bold={exec:function(b,c){return a.commands.formatInline.exec(b,c,"b")},state:function(b,c){return a.commands.formatInline.state(b,c,"b")},value:function(){return b}}}(wysihtml5),function(a){function b(a,b){for(var c,d,e,g=b.length,h=0;g>h;h++)c=b[h],d=f.getParentElement(c,{nodeName:"code"}),e=f.getTextContent(c),e.match(f.autoLink.URL_REG_EXP)&&!d?d=f.renameElement(c,"code"):f.replaceWithChildNodes(c)}function c(b,c){var g,h,i,j,k,l,m,n,o,p=b.doc,q="_wysihtml5-temp-"+ +new Date,r=/non-matching-class/g,s=0;for(a.commands.formatInline.exec(b,d,e,q,r),h=p.querySelectorAll(e+"."+q),g=h.length;g>s;s++){i=h[s],i.removeAttribute("class");for(o in c)i.setAttribute(o,c[o])}l=i,1===g&&(m=f.getTextContent(i),j=!!i.querySelector("*"),k=""===m||m===a.INVISIBLE_SPACE,!j&&k&&(f.setTextContent(i,c.text||i.href),n=p.createTextNode(" "),b.selection.setAfter(i),b.selection.insertNode(n),l=n)),b.selection.setAfter(l)}var d,e="A",f=a.dom;a.commands.createLink={exec:function(a,d,e){var f=this.state(a,d);f?a.selection.executeAndRestore(function(){b(a,f)}):(e="object"==typeof e?e:{href:e},c(a,e))},state:function(b,c){return a.commands.formatInline.state(b,c,"A")},value:function(){return d}}}(wysihtml5),function(a){var b,c=/wysiwyg-font-size-[a-z\-]+/g;a.commands.fontSize={exec:function(b,d,e){return a.commands.formatInline.exec(b,d,"span","wysiwyg-font-size-"+e,c)},state:function(b,d,e){return a.commands.formatInline.state(b,d,"span","wysiwyg-font-size-"+e,c)},value:function(){return b}}}(wysihtml5),function(a){var b,c=/wysiwyg-color-[a-z]+/g;a.commands.foreColor={exec:function(b,d,e){return a.commands.formatInline.exec(b,d,"span","wysiwyg-color-"+e,c)},state:function(b,d,e){return a.commands.formatInline.state(b,d,"span","wysiwyg-color-"+e,c)},value:function(){return b}}}(wysihtml5),function(a){function b(a,b,d){a.className?(c(a,d),a.className+=" "+b):a.className=b}function c(a,b){a.className=a.className.replace(b,"")}function d(b){return b.nodeType===a.TEXT_NODE&&!a.lang.string(b.data).trim()}function e(a){for(var b=a.previousSibling;b&&d(b);)b=b.previousSibling;return b}function f(a){for(var b=a.nextSibling;b&&d(b);)b=b.nextSibling;return b}function g(a){var b=a.ownerDocument,c=f(a),d=e(a);c&&!k(c)&&a.parentNode.insertBefore(b.createElement("br"),c),d&&!k(d)&&a.parentNode.insertBefore(b.createElement("br"),a)}function h(a){var b=f(a),c=e(a);b&&j(b)&&b.parentNode.removeChild(b),c&&j(c)&&c.parentNode.removeChild(c)}function i(a){var b=a.lastChild;b&&j(b)&&b.parentNode.removeChild(b)}function j(a){return"BR"===a.nodeName}function k(a){return j(a)?!0:"block"===p.getStyle("display").from(a)?!0:!1}function l(b,c,d,e){if(e)var f=p.observe(b,"DOMNodeInserted",function(b){var c,d=b.target;d.nodeType===a.ELEMENT_NODE&&(c=p.getStyle("display").from(d),"inline"!==c.substr(0,6)&&(d.className+=" "+e))});b.execCommand(c,!1,d),f&&f.stop()}function m(a,b){a.selection.selectLine(),a.selection.surround(b),h(b),i(b),a.selection.selectNode(b)}function n(b){return!!a.lang.string(b.className).trim()}var o,p=a.dom,q="DIV",r=["H1","H2","H3","H4","H5","H6","P","BLOCKQUOTE",q];a.commands.formatBlock={exec:function(d,e,f,h,i){var j,k=d.doc,o=this.state(d,e,f,h,i);return f="string"==typeof f?f.toUpperCase():f,o?void d.selection.executeAndRestoreSimple(function(){i&&c(o,i);var a=n(o);a||o.nodeName!==(f||q)?a&&p.renameElement(o,q):(g(o),p.replaceWithChildNodes(o))}):(null===f||a.lang.array(r).contains(f))&&(j=d.selection.getSelectedNode(),o=p.getParentElement(j,{nodeName:r}))?void d.selection.executeAndRestoreSimple(function(){f&&(o=p.renameElement(o,f)),h&&b(o,h,i)}):d.commands.support(e)?void l(k,e,f||q,h):(o=k.createElement(f||q),h&&(o.className=h),void m(d,o))},state:function(a,b,c,d,e){c="string"==typeof c?c.toUpperCase():c;var f=a.selection.getSelectedNode();return p.getParentElement(f,{nodeName:c,className:d,classRegExp:e})},value:function(){return o}}}(wysihtml5),function(a){function b(a){var b=e[a];return b?[a.toLowerCase(),b.toLowerCase()]:[a.toLowerCase()]}function c(c,d,e){var g=c+":"+d;return f[g]||(f[g]=new a.selection.HTMLApplier(b(c),d,e,!0)),f[g]}var d,e={strong:"b",em:"i",b:"strong",i:"em"},f={};a.commands.formatInline={exec:function(a,b,d,e,f){var g=a.selection.getRange();return g?(c(d,e,f).toggleRange(g),void a.selection.setSelection(g)):!1},state:function(b,d,f,g,h){var i,j=b.doc,k=e[f]||f;return a.dom.hasElementWithTagName(j,f)||a.dom.hasElementWithTagName(j,k)?g&&!a.dom.hasElementWithClassName(j,g)?!1:(i=b.selection.getRange(),i?c(f,g,h).isAppliedToRange(i):!1):!1},value:function(){return d}}}(wysihtml5),function(a){var b;a.commands.insertHTML={exec:function(a,b,c){a.commands.support(b)?a.doc.execCommand(b,!1,c):a.selection.insertHTML(c)},state:function(){return!1},value:function(){return b}}}(wysihtml5),function(a){var b="IMG";a.commands.insertImage={exec:function(c,d,e){e="object"==typeof e?e:{src:e};var f,g,h,i=c.doc,j=this.state(c);if(j)return c.selection.setBefore(j),h=j.parentNode,h.removeChild(j),a.dom.removeEmptyTextNodes(h),"A"!==h.nodeName||h.firstChild||(c.selection.setAfter(h),h.parentNode.removeChild(h)),void a.quirks.redraw(c.element);j=i.createElement(b);for(g in e)j[g]=e[g];c.selection.insertNode(j),a.browser.hasProblemsSettingCaretAfterImg()?(f=i.createTextNode(a.INVISIBLE_SPACE),c.selection.insertNode(f),c.selection.setAfter(f)):c.selection.setAfter(j)},state:function(c){var d,e,f,g=c.doc;return a.dom.hasElementWithTagName(g,b)&&(d=c.selection.getSelectedNode())?d.nodeName===b?d:d.nodeType!==a.ELEMENT_NODE?!1:(e=c.selection.getText(),(e=a.lang.string(e).trim())?!1:(f=c.selection.getNodes(a.ELEMENT_NODE,function(a){return"IMG"===a.nodeName}),1!==f.length?!1:f[0])):!1},value:function(a){var b=this.state(a);return b&&b.src}}}(wysihtml5),function(a){var b,c="<br>"+(a.browser.needsSpaceAfterLineBreak()?" ":"");a.commands.insertLineBreak={exec:function(b,d){b.commands.support(d)?(b.doc.execCommand(d,!1,null),a.browser.autoScrollsToCaret()||b.selection.scrollIntoView()):b.commands.exec("insertHTML",c)},state:function(){return!1},value:function(){return b}}}(wysihtml5),function(a){var b;a.commands.insertOrderedList={exec:function(b,c){var d,e,f=b.doc,g=b.selection.getSelectedNode(),h=a.dom.getParentElement(g,{nodeName:"OL"}),i=a.dom.getParentElement(g,{nodeName:"UL"}),j="_wysihtml5-temp-"+(new Date).getTime();return b.commands.support(c)?void f.execCommand(c,!1,null):void(h?b.selection.executeAndRestoreSimple(function(){a.dom.resolveList(h)}):i?b.selection.executeAndRestoreSimple(function(){a.dom.renameElement(i,"ol")}):(b.commands.exec("formatBlock","div",j),e=f.querySelector("."+j),d=""===e.innerHTML||e.innerHTML===a.INVISIBLE_SPACE,b.selection.executeAndRestoreSimple(function(){h=a.dom.convertToList(e,"ol")}),d&&b.selection.selectNode(h.querySelector("li"))))},state:function(b){var c=b.selection.getSelectedNode();return a.dom.getParentElement(c,{nodeName:"OL"})},value:function(){return b}}}(wysihtml5),function(a){var b;a.commands.insertUnorderedList={exec:function(b,c){var d,e,f=b.doc,g=b.selection.getSelectedNode(),h=a.dom.getParentElement(g,{nodeName:"UL"}),i=a.dom.getParentElement(g,{nodeName:"OL"}),j="_wysihtml5-temp-"+(new Date).getTime();return b.commands.support(c)?void f.execCommand(c,!1,null):void(h?b.selection.executeAndRestoreSimple(function(){a.dom.resolveList(h)}):i?b.selection.executeAndRestoreSimple(function(){a.dom.renameElement(i,"ul")}):(b.commands.exec("formatBlock","div",j),e=f.querySelector("."+j),d=""===e.innerHTML||e.innerHTML===a.INVISIBLE_SPACE,b.selection.executeAndRestoreSimple(function(){h=a.dom.convertToList(e,"ul")}),d&&b.selection.selectNode(h.querySelector("li"))))},state:function(b){var c=b.selection.getSelectedNode();return a.dom.getParentElement(c,{nodeName:"UL"})},value:function(){return b}}}(wysihtml5),function(a){var b;a.commands.italic={exec:function(b,c){return a.commands.formatInline.exec(b,c,"i")},state:function(b,c){return a.commands.formatInline.state(b,c,"i")},value:function(){return b}}}(wysihtml5),function(a){var b,c="wysiwyg-text-align-center",d=/wysiwyg-text-align-[a-z]+/g;a.commands.justifyCenter={exec:function(b){return a.commands.formatBlock.exec(b,"formatBlock",null,c,d)},state:function(b){return a.commands.formatBlock.state(b,"formatBlock",null,c,d)},value:function(){return b}}}(wysihtml5),function(a){var b,c="wysiwyg-text-align-left",d=/wysiwyg-text-align-[a-z]+/g;a.commands.justifyLeft={exec:function(b){return a.commands.formatBlock.exec(b,"formatBlock",null,c,d)},state:function(b){return a.commands.formatBlock.state(b,"formatBlock",null,c,d)},value:function(){return b}}}(wysihtml5),function(a){var b,c="wysiwyg-text-align-right",d=/wysiwyg-text-align-[a-z]+/g;a.commands.justifyRight={exec:function(b){return a.commands.formatBlock.exec(b,"formatBlock",null,c,d)},state:function(b){return a.commands.formatBlock.state(b,"formatBlock",null,c,d)},value:function(){return b}}}(wysihtml5),function(a){var b;a.commands.underline={exec:function(b,c){return a.commands.formatInline.exec(b,c,"u")},state:function(b,c){return a.commands.formatInline.state(b,c,"u")},value:function(){return b}}}(wysihtml5),function(a){function b(a){for(var b;b=a.querySelector("._wysihtml5-temp");)b.parentNode.removeChild(b)}var c=90,d=89,e=8,f=46,g=40,h='<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+a.INVISIBLE_SPACE+"</span>",i='<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+a.INVISIBLE_SPACE+"</span>",j=a.dom;a.UndoManager=a.lang.Dispatcher.extend({constructor:function(a){this.editor=a,this.composer=a.composer,this.element=this.composer.element,this.history=[this.composer.getValue()],this.position=1;var b=this;this.composer.setHistory=function(a){b.history=a,b.position=1},this.composer.getHistory=function(){return b.history},this.composer.commands.support("insertHTML")&&this._observe()},_observe:function(){var g,k=this,l=this.composer.sandbox.getDocument();if(j.observe(this.element,"keydown",function(a){if(!a.altKey&&(a.ctrlKey||a.metaKey)){var b=a.keyCode,e=b===c&&!a.shiftKey,f=b===c&&a.shiftKey||b===d;e?(k.undo(),a.preventDefault()):f&&(k.redo(),a.preventDefault())}}),j.observe(this.element,"keydown",function(a){var b=a.keyCode;b!==g&&(g=b,(b===e||b===f)&&k.transact())}),a.browser.hasUndoInContextMenu()){var m,n,o=function(){b(l),clearInterval(m)};j.observe(this.element,"contextmenu",function(){o(),k.composer.selection.executeAndRestoreSimple(function(){k.element.lastChild&&k.composer.selection.setAfter(k.element.lastChild),l.execCommand("insertHTML",!1,h),l.execCommand("insertHTML",!1,i),l.execCommand("undo",!1,null)}),m=setInterval(function(){l.getElementById("_wysihtml5-redo")?(o(),k.redo()):l.getElementById("_wysihtml5-undo")||(o(),k.undo())},400),n||(n=!0,j.observe(document,"mousedown",o),j.observe(l,["mousedown","paste","cut","copy"],o))})}this.editor.observe("newword:composer",function(){k.transact()}).observe("beforecommand:composer",function(){k.transact()})},transact:function(){var a=this.history[this.position-1],b=this.composer.getValue();if(b!=a){var c=this.history.length=this.position;c>g&&(this.history.shift(),this.position--),this.position++,this.history.push(b)}},undo:function(){this.transact(),this.position<=1||(this.set(this.history[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.position>=this.history.length||(this.set(this.history[++this.position-1]),this.editor.fire("redo:composer"))},set:function(a){var b,c=this.element.querySelectorAll("img"),d={};b=c.length;for(var e=0;b>e;e++)d[c[e].src]=c[e];var f=document.createElement("div");f.setAttribute("id","verysafe"),this.element.appendChild(f),f.innerHTML=a;var g=f.querySelectorAll("img"),h=[].map.call(g,function(a){return a});b=g.length;for(var e=0;b>e;e++){var i=h[e],j=d[i.src];j&&i.parentNode.replaceChild(j,i)}for(;"verysafe"!==this.element.firstChild.id;)this.element.removeChild(this.element.firstChild);for(var k=f.childNodes,l=[].map.call(k,function(a){return a}),b=l.length,e=0;b>e;e++)this.element.appendChild(l[e]);this.element.removeChild(this.element.firstChild),this.editor.focus(!0)}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(a,b,c){this.parent=a,this.element=b,this.config=c,this._observeViewChange()},_observeViewChange:function(){var a=this;this.parent.observe("beforeload",function(){a.parent.observe("change_view",function(b){b===a.name?(a.parent.currentView=a,a.show(),setTimeout(function(){a.focus()},0)):a.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(a){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(a){var b=a.dom,c=a.browser;a.views.Composer=a.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(a,b,c){this.base(a,b,c),this.textarea=this.parent.textarea,this._initSandbox()},clear:function(){this.element.innerHTML=c.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(b){var c=this.isEmpty()?"":a.quirks.getCorrectInnerHTML(this.element);return b&&(c=this.parent.parse(c)),c=a.lang.string(c).replace(a.INVISIBLE_SPACE).by("")},setValue:function(a,b){b&&(a=this.parent.parse(a)),this.element.innerHTML=a},show:function(){this.iframe.style.display=this._displayStyle||"",this.disable(),this.enable()},hide:function(){this._displayStyle=b.getStyle("display").from(this.iframe),"none"===this._displayStyle&&(this._displayStyle=null),this.iframe.style.display="none"},disable:function(){this.element.removeAttribute("contentEditable"),this.base()},enable:function(){this.element.setAttribute("contentEditable","true"),this.base()},focus:function(b){a.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var c=this.element.lastChild;b&&c&&("BR"===c.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return b.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==this.textarea.element.getAttribute("placeholder")},isEmpty:function(){var a=this.element.innerHTML,b="blockquote, ul, ol, img, embed, object, table, iframe, svg, video, audio, button, input, select, textarea";return""===a||a===this.CARET_HACK||this.hasPlaceholderSet()||""===this.getTextContent()&&!this.element.querySelector(b)},_initSandbox:function(){var a=this;this.sandbox=new b.Sandbox(function(){a._create()},{stylesheets:this.config.stylesheets}),this.iframe=this.sandbox.getIframe();var c=document.createElement("input");c.type="hidden",c.name="_wysihtml5_mode",c.value=1;var d=this.textarea.element;b.insert(this.iframe).after(d),b.insert(c).after(d)},_create:function(){var d=this;this.doc=this.sandbox.getDocument(),this.element=this.doc.body,this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0),this.enable(),this.selection=new a.Selection(this.parent),this.commands=new a.Commands(this.parent),b.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),b.addClass(this.element,this.config.composerClassName),this.config.style&&this.style(),this.observe();var e=this.config.name;e&&(b.addClass(this.element,e),b.addClass(this.iframe,e));var f="string"==typeof this.config.placeholder?this.config.placeholder:this.textarea.element.getAttribute("placeholder");f&&b.simulatePlaceholder(this.parent,this,f),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),(this.textarea.element.hasAttribute("autofocus")||document.querySelector(":focus")==this.textarea.element)&&setTimeout(function(){d.focus()},100),a.quirks.insertLineBreakOnReturn(this),c.clearsContentEditableCorrectly()||a.quirks.ensureProperClearing(this),c.clearsListsInContentEditableCorrectly()||a.quirks.ensureProperClearingOfLists(this),this.initSync&&this.config.sync&&this.initSync(),this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var d=this,e=c.canDisableAutoLinking(),f=c.doesAutoLinkingInContentEditable();if(e&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!f||f&&e)&&this.parent.observe("newword:composer",function(){d.selection.executeAndRestore(function(a,c){b.autoLink(c.parentNode)})});var g=this.sandbox.getDocument().getElementsByTagName("a"),h=b.autoLink.URL_REG_EXP,i=function(c){var d=a.lang.string(b.getTextContent(c)).trim();return"www."===d.substr(0,4)&&(d="http://"+d),d};b.observe(this.element,"keydown",function(a){if(g.length){var c,e=d.selection.getSelectedNode(a.target.ownerDocument),f=b.getParentElement(e,{nodeName:"A"},4);f&&(c=i(f),setTimeout(function(){var a=i(f);a!==c&&a.match(h)&&f.setAttribute("href",a)},0))}})}},_initObjectResizing:function(){var d=["width","height"],e=d.length,f=this.element;this.commands.exec("enableObjectResizing",this.config.allowObjectResizing),this.config.allowObjectResizing?c.supportsEvent("resizeend")&&b.observe(f,"resizeend",function(b){for(var c,g=b.target||b.srcElement,h=g.style,i=0;e>i;i++)c=d[i],h[c]&&(g.setAttribute(c,parseInt(h[c],10)),h[c]="");a.quirks.redraw(f)}):c.supportsEvent("resizestart")&&b.observe(f,"resizestart",function(a){a.preventDefault()})},_initUndoManager:function(){new a.UndoManager(this.parent)}})}(wysihtml5),function(a){var b=a.dom,c=document,d=window,e=c.createElement("div"),f=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],g=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],h=["width","height","top","left","right","bottom"],i=["html             { height: 100%; }","body             { min-height: 100%; padding: 0; margin: 0; margin-top: -1px; padding-top: 1px; }","._wysihtml5-temp { display: none; }",a.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","body[disabled]   { background-color: #eee !important; color: #999 !important; cursor: default !important; }","img:-moz-broken  { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],j=function(a){if(a.setActive)try{a.setActive()}catch(e){}else{var f=a.style,g=c.documentElement.scrollTop||c.body.scrollTop,h=c.documentElement.scrollLeft||c.body.scrollLeft,i={position:f.position,top:f.top,left:f.left,WebkitUserSelect:f.WebkitUserSelect};b.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(a),a.focus(),b.setStyles(i).on(a),d.scrollTo&&d.scrollTo(h,g)}};a.views.Composer.prototype.style=function(){var k=this,l=c.querySelector(":focus"),m=this.textarea.element,n=m.hasAttribute("placeholder"),o=n&&m.getAttribute("placeholder");this.focusStylesHost=this.focusStylesHost||e.cloneNode(!1),this.blurStylesHost=this.blurStylesHost||e.cloneNode(!1),n&&m.removeAttribute("placeholder"),m===l&&m.blur(),b.copyStyles(g).from(m).to(this.iframe).andTo(this.blurStylesHost),b.copyStyles(f).from(m).to(this.element).andTo(this.blurStylesHost),b.insertCSS(i).into(this.element.ownerDocument),j(m),b.copyStyles(g).from(m).to(this.focusStylesHost),b.copyStyles(f).from(m).to(this.focusStylesHost);
var p=a.lang.array(g).without(["display"]);if(l?l.focus():m.blur(),n&&m.setAttribute("placeholder",o),!a.browser.hasCurrentStyleProperty())var q=b.observe(d,"resize",function(){if(!b.contains(document.documentElement,k.iframe))return void q.stop();var a=b.getStyle("display").from(m),c=b.getStyle("display").from(k.iframe);m.style.display="",k.iframe.style.display="none",b.copyStyles(h).from(m).to(k.iframe).andTo(k.focusStylesHost).andTo(k.blurStylesHost),k.iframe.style.display=c,m.style.display=a});return this.parent.observe("focus:composer",function(){b.copyStyles(p).from(k.focusStylesHost).to(k.iframe),b.copyStyles(f).from(k.focusStylesHost).to(k.element)}),this.parent.observe("blur:composer",function(){b.copyStyles(p).from(k.blurStylesHost).to(k.iframe),b.copyStyles(f).from(k.blurStylesHost).to(k.element)}),this}}(wysihtml5),function(a){var b=a.dom,c=a.browser,d={66:"bold",73:"italic",85:"underline"};a.views.Composer.prototype.observe=function(){var e=this,f=this.getValue(),g=this.sandbox.getIframe(),h=this.element,i=c.supportsEventsInIframeCorrectly()?h:this.sandbox.getWindow(),j=c.supportsEvent("drop")?["drop","paste"]:["dragdrop","paste"];b.observe(g,"DOMNodeRemoved",function(){clearInterval(k),e.parent.fire("destroy:composer")});var k=setInterval(function(){b.contains(document.documentElement,g)||(clearInterval(k),e.parent.fire("destroy:composer"))},250);b.observe(i,"focus",function(){e.parent.fire("focus").fire("focus:composer"),setTimeout(function(){f=e.getValue()},0)}),b.observe(i,"blur",function(){f!==e.getValue()&&e.parent.fire("change").fire("change:composer"),e.parent.fire("blur").fire("blur:composer")}),a.browser.isIos()&&b.observe(h,"blur",function(){var a=h.ownerDocument.createElement("input"),b=document.documentElement.scrollTop||document.body.scrollTop,c=document.documentElement.scrollLeft||document.body.scrollLeft;try{e.selection.insertNode(a)}catch(d){h.appendChild(a)}a.focus(),a.parentNode.removeChild(a),window.scrollTo(c,b)}),b.observe(h,"dragenter",function(){e.parent.fire("unset_placeholder")}),c.firesOnDropOnlyWhenOnDragOverIsCancelled()&&b.observe(h,["dragover","dragenter"],function(a){a.preventDefault()}),b.observe(h,j,function(a){var b,d=a.dataTransfer;d&&c.supportsDataTransfer()&&(b=d.getData("text/html")||d.getData("text/plain")),b?(h.focus(),e.commands.exec("insertHTML",b),e.parent.fire("paste").fire("paste:composer"),a.stopPropagation(),a.preventDefault()):setTimeout(function(){e.parent.fire("paste").fire("paste:composer")},0)}),b.observe(h,"keyup",function(b){var c=b.keyCode;(c===a.SPACE_KEY||c===a.ENTER_KEY)&&e.parent.fire("newword:composer")}),this.parent.observe("paste:composer",function(){setTimeout(function(){e.parent.fire("newword:composer")},0)}),c.canSelectImagesInContentEditable()||b.observe(h,"mousedown",function(a){var b=a.target;"IMG"===b.nodeName&&(e.selection.selectNode(b),a.preventDefault())}),b.observe(h,"keydown",function(a){var b=a.keyCode,c=d[b];(a.ctrlKey||a.metaKey)&&!a.altKey&&c&&(e.commands.exec(c),a.preventDefault())}),b.observe(h,"keydown",function(b){var c,d=e.selection.getSelectedNode(!0),f=b.keyCode;!d||"IMG"!==d.nodeName||f!==a.BACKSPACE_KEY&&f!==a.DELETE_KEY||(c=d.parentNode,c.removeChild(d),"A"!==c.nodeName||c.firstChild||c.parentNode.removeChild(c),setTimeout(function(){a.quirks.redraw(h)},0),b.preventDefault())});var l={IMG:"Image: ",A:"Link: "};b.observe(h,"mouseover",function(a){var b,c=a.target,d=c.nodeName;if("A"===d||"IMG"===d){var e=c.hasAttribute("title");e||(b=l[d]+(c.getAttribute("href")||c.getAttribute("src")),c.setAttribute("title",b))}})}}(wysihtml5),function(a){var b=400;a.views.Synchronizer=Base.extend({constructor:function(a,b,c){this.editor=a,this.textarea=b,this.composer=c,this._observe()},fromComposerToTextarea:function(b){this.textarea.setValue(a.lang.string(this.composer.getValue()).trim(),b)},fromTextareaToComposer:function(a){var b=this.textarea.getValue();b?this.composer.setValue(b,a):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(a){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(a):this.fromComposerToTextarea(a)},_observe:function(){var c,d=this,e=this.textarea.element.form,f=function(){c=setInterval(function(){d.fromComposerToTextarea()},b)},g=function(){clearInterval(c),c=null};f(),e&&(a.dom.observe(e,"submit",function(){d.sync(!0)}),a.dom.observe(e,"reset",function(){setTimeout(function(){d.fromTextareaToComposer()},0)})),this.editor.observe("change_view",function(a){"composer"!==a||c?"textarea"===a&&(d.fromComposerToTextarea(!0),g()):(d.fromTextareaToComposer(!0),f())}),this.editor.observe("destroy:composer",g)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(a,b,c){this.base(a,b,c),this._observe()},clear:function(){this.element.value=""},getValue:function(a){var b=this.isEmpty()?"":this.element.value;return a&&(b=this.parent.parse(b)),b},setValue:function(a,b){b&&(a=this.parent.parse(a)),this.element.value=a},hasPlaceholderSet:function(){var a=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),b=this.element.getAttribute("placeholder")||null,c=this.element.value,d=!c;return a&&d||c===b},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var a=this.element,b=this.parent,c={focusin:"focus",focusout:"blur"},d=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];b.observe("beforeload",function(){wysihtml5.dom.observe(a,d,function(a){var d=c[a.type]||a.type;b.fire(d).fire(d+":textarea")}),wysihtml5.dom.observe(a,["paste","drop"],function(){setTimeout(function(){b.fire("paste").fire("paste:textarea")},0)})})}}),function(a){var b=a.dom,c="wysihtml5-command-dialog-opened",d="input, select, textarea",e="[data-wysihtml5-dialog-field]",f="data-wysihtml5-dialog-field";a.toolbar.Dialog=a.lang.Dispatcher.extend({constructor:function(a,b){this.link=a,this.container=b},_observe:function(){if(!this._observed){var e=this,f=function(a){var b=e._serialize();b==e.elementToChange?e.fire("edit",b):e.fire("save",b),e.hide(),a.preventDefault(),a.stopPropagation()};b.observe(e.link,"click",function(){b.hasClass(e.link,c)&&setTimeout(function(){e.hide()},0)}),b.observe(this.container,"keydown",function(b){var c=b.keyCode;c===a.ENTER_KEY&&f(b),c===a.ESCAPE_KEY&&e.hide()}),b.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",f),b.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(a){e.fire("cancel"),e.hide(),a.preventDefault(),a.stopPropagation()});for(var g=this.container.querySelectorAll(d),h=0,i=g.length,j=function(){clearInterval(e.interval)};i>h;h++)b.observe(g[h],"change",j);this._observed=!0}},_serialize:function(){for(var a=this.elementToChange||{},b=this.container.querySelectorAll(e),c=b.length,d=0;c>d;d++)a[b[d].getAttribute(f)]=b[d].value;return a},_interpolate:function(a){for(var b,c,d,g=document.querySelector(":focus"),h=this.container.querySelectorAll(e),i=h.length,j=0;i>j;j++)b=h[j],b!==g&&(a&&"hidden"===b.type||(c=b.getAttribute(f),d=this.elementToChange?this.elementToChange[c]||"":b.defaultValue,b.value=d))},show:function(a){var e=this,f=this.container.querySelector(d);if(this.elementToChange=a,this._observe(),this._interpolate(),a&&(this.interval=setInterval(function(){e._interpolate(!0)},500)),b.addClass(this.link,c),this.container.style.display="",this.fire("show"),f&&!a)try{f.focus()}catch(g){}},hide:function(){clearInterval(this.interval),this.elementToChange=null,b.removeClass(this.link,c),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(a){var b=a.dom,c={position:"relative"},d={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},e={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},f={"x-webkit-speech":"",speech:""};a.toolbar.Speech=function(g,h){var i=document.createElement("input");if(!a.browser.supportsSpeechApiOn(i))return void(h.style.display="none");var j=document.createElement("div");a.lang.object(d).merge({width:h.offsetWidth+"px",height:h.offsetHeight+"px"}),b.insert(i).into(j),b.insert(j).into(h),b.setStyles(e).on(i),b.setAttributes(f).on(i),b.setStyles(d).on(j),b.setStyles(c).on(h);var k="onwebkitspeechchange"in i?"webkitspeechchange":"speechchange";b.observe(i,k,function(){g.execCommand("insertText",i.value),i.value=""}),b.observe(i,"click",function(a){b.hasClass(h,"wysihtml5-command-disabled")&&a.preventDefault(),a.stopPropagation()})}}(wysihtml5),function(a){var b="wysihtml5-command-disabled",c="wysihtml5-commands-disabled",d="wysihtml5-command-active",e="wysihtml5-action-active",f=a.dom;a.toolbar.Toolbar=Base.extend({constructor:function(b,c){this.editor=b,this.container="string"==typeof c?document.getElementById(c):c,this.composer=b.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),this.show();for(var d=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),e=d.length,f=0;e>f;f++)new a.toolbar.Speech(this,d[f])},_getLinks:function(b){for(var c,d,e,f,g,h=this[b+"Links"]=a.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+b+"]")).get(),i=h.length,j=0,k=this[b+"Mapping"]={};i>j;j++)c=h[j],e=c.getAttribute("data-wysihtml5-"+b),f=c.getAttribute("data-wysihtml5-"+b+"-value"),d=this.container.querySelector("[data-wysihtml5-"+b+"-group='"+e+"']"),g=this._getDialog(c,e),k[e+":"+f]={link:c,group:d,name:e,value:f,dialog:g,state:!1}},_getDialog:function(b,c){var d,e,f=this,g=this.container.querySelector("[data-wysihtml5-dialog='"+c+"']");return g&&(d=new a.toolbar.Dialog(b,g),d.observe("show",function(){e=f.composer.selection.getBookmark(),f.editor.fire("show:dialog",{command:c,dialogContainer:g,commandLink:b})}),d.observe("save",function(a){e&&f.composer.selection.setBookmark(e),f._execCommand(c,a),f.editor.fire("save:dialog",{command:c,dialogContainer:g,commandLink:b})}),d.observe("cancel",function(){f.editor.focus(!1),f.editor.fire("cancel:dialog",{command:c,dialogContainer:g,commandLink:b})})),d},execCommand:function(a,b){if(!this.commandsDisabled){var c=this.commandMapping[a+":"+b];c&&c.dialog&&!c.state?c.dialog.show():this._execCommand(a,b)}},_execCommand:function(a,b){this.editor.focus(!1),this.composer.commands.exec(a,b),this._updateLinkStates()},execAction:function(a){var b=this.editor;switch(a){case"change_view":b.currentView===b.textarea?b.fire("change_view","composer"):b.fire("change_view","textarea")}},_observe:function(){for(var a=this,b=this.editor,d=this.container,e=this.commandLinks.concat(this.actionLinks),g=e.length,h=0;g>h;h++)f.setAttributes({href:"javascript:;",unselectable:"on"}).on(e[h]);f.delegate(d,"[data-wysihtml5-command]","mousedown",function(a){a.preventDefault()}),f.delegate(d,"[data-wysihtml5-command]","click",function(b){var c=this,d=c.getAttribute("data-wysihtml5-command"),e=c.getAttribute("data-wysihtml5-command-value");a.execCommand(d,e),b.preventDefault()}),f.delegate(d,"[data-wysihtml5-action]","click",function(b){var c=this.getAttribute("data-wysihtml5-action");a.execAction(c),b.preventDefault()}),b.observe("focus:composer",function(){a.bookmark=null,clearInterval(a.interval),a.interval=setInterval(function(){a._updateLinkStates()},500)}),b.observe("blur:composer",function(){clearInterval(a.interval)}),b.observe("destroy:composer",function(){clearInterval(a.interval)}),b.observe("change_view",function(b){setTimeout(function(){a.commandsDisabled="composer"!==b,a._updateLinkStates(),a.commandsDisabled?f.addClass(d,c):f.removeClass(d,c)},0)})},_updateLinkStates:function(){var c,g,h,i,j=(this.composer.element,this.commandMapping),k=this.actionMapping;for(c in j)i=j[c],this.commandsDisabled?(g=!1,f.removeClass(i.link,d),i.group&&f.removeClass(i.group,d),i.dialog&&i.dialog.hide()):(g=this.composer.commands.state(i.name,i.value),a.lang.object(g).isArray()&&(g=1===g.length?g[0]:!0),f.removeClass(i.link,b),i.group&&f.removeClass(i.group,b)),i.state!==g&&(i.state=g,g?(f.addClass(i.link,d),i.group&&f.addClass(i.group,d),i.dialog&&("object"==typeof g?i.dialog.show(g):i.dialog.hide())):(f.removeClass(i.link,d),i.group&&f.removeClass(i.group,d),i.dialog&&i.dialog.hide()));for(c in k)h=k[c],"change_view"===h.name&&(h.state=this.editor.currentView===this.editor.textarea,h.state?f.addClass(h.link,e):f.removeClass(h.link,e))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(a){var b,c={name:b,style:!0,toolbar:b,autoLink:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:a.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",stylesheets:[],placeholderText:b,allowObjectResizing:!0,supportTouchDevices:!0};a.Editor=a.lang.Dispatcher.extend({constructor:function(b,d){if(this.textareaElement="string"==typeof b?document.getElementById(b):b,this.config=a.lang.object({}).merge(c).merge(d).get(),this.textarea=new a.views.Textarea(this,this.textareaElement,this.config),this.currentView=this.textarea,this._isCompatible=a.browser.supported(),!this._isCompatible||!this.config.supportTouchDevices&&a.browser.isTouchDevice()){var e=this;return void setTimeout(function(){e.fire("beforeload").fire("load")},0)}a.dom.addClass(document.body,this.config.bodyClassName),this.composer=new a.views.Composer(this,this.textareaElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.observe("beforeload",function(){this.synchronizer=new a.views.Synchronizer(this,this.textarea,this.composer),this.config.toolbar&&(this.toolbar=new a.toolbar.Toolbar(this,this.config.toolbar))});try{console.log("Heya! This page is using wysihtml5 for rich text editing. Check out https://github.com/xing/wysihtml5")}catch(f){}},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(a){return this.currentView.getValue(a)},setValue:function(a,b){return a?(this.currentView.setValue(a,b),this):this.clear()},focus:function(a){return this.currentView.focus(a),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(b){var c=this.config.parser(b,this.config.parserRules,this.composer.sandbox.getDocument(),!0);return"object"==typeof b&&a.quirks.redraw(b),c},_initParser:function(){this.observe("paste:composer",function(){var b=!0,c=this;c.composer.selection.executeAndRestore(function(){a.quirks.cleanPastedHTML(c.composer.element),c.parse(c.composer.element)},b)}),this.observe("paste:textarea",function(){var a,b=this.textarea.getValue();a=this.parse(b),this.textarea.setValue(a)})}})}(wysihtml5),!function(a,b){"use strict";var c={"font-styles":function(a,b){var c=b&&b.size?" btn-"+b.size:"";return"<li class='dropdown'><a class='btn dropdown-toggle"+c+"' data-toggle='dropdown' href='#'><i class='icon-font'></i>&nbsp;<span class='current-font'>"+a.font_styles.normal+"</span>&nbsp;<b class='caret'></b></a><ul class='dropdown-menu'><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='div' tabindex='-1'>"+a.font_styles.normal+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h1' tabindex='-1'>"+a.font_styles.h1+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h2' tabindex='-1'>"+a.font_styles.h2+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h3' tabindex='-1'>"+a.font_styles.h3+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h4'>"+a.font_styles.h4+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h5'>"+a.font_styles.h5+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h6'>"+a.font_styles.h6+"</a></li></ul></li>"},emphasis:function(a,b){var c=b&&b.size?" btn-"+b.size:"";return"<li><div class='btn-group'><a class='btn"+c+"' data-wysihtml5-command='bold' title='CTRL+B' tabindex='-1'>"+a.emphasis.bold+"</a><a class='btn"+c+"' data-wysihtml5-command='italic' title='CTRL+I' tabindex='-1'>"+a.emphasis.italic+"</a><a class='btn"+c+"' data-wysihtml5-command='underline' title='CTRL+U' tabindex='-1'>"+a.emphasis.underline+"</a></div></li>"},lists:function(a,b){var c=b&&b.size?" btn-"+b.size:"";return"<li><div class='btn-group'><a class='btn"+c+"' data-wysihtml5-command='insertUnorderedList' title='"+a.lists.unordered+"' tabindex='-1'><i class='icon-list'></i></a><a class='btn"+c+"' data-wysihtml5-command='insertOrderedList' title='"+a.lists.ordered+"' tabindex='-1'><i class='icon-th-list'></i></a><a class='btn"+c+"' data-wysihtml5-command='Outdent' title='"+a.lists.outdent+"' tabindex='-1'><i class='icon-indent-right'></i></a><a class='btn"+c+"' data-wysihtml5-command='Indent' title='"+a.lists.indent+"' tabindex='-1'><i class='icon-indent-left'></i></a></div></li>"},link:function(a,b){var c=b&&b.size?" btn-"+b.size:"";return"<li><div class='bootstrap-wysihtml5-insert-link-modal modal hide fade'><div class='modal-header'><a class='close' data-dismiss='modal'>&times;</a><h3>"+a.link.insert+"</h3></div><div class='modal-body'><input value='http://' class='bootstrap-wysihtml5-insert-link-url input-xlarge'><label class='checkbox'> <input type='checkbox' class='bootstrap-wysihtml5-insert-link-target' checked>"+a.link.target+"</label></div><div class='modal-footer'><a href='#' class='btn' data-dismiss='modal'>"+a.link.cancel+"</a><a href='#' class='btn btn-primary' data-dismiss='modal'>"+a.link.insert+"</a></div></div><a class='btn"+c+"' data-wysihtml5-command='createLink' title='"+a.link.insert+"' tabindex='-1'><i class='icon-share'></i></a></li>"},image:function(a,b){var c=b&&b.size?" btn-"+b.size:"";return"<li><div class='bootstrap-wysihtml5-insert-image-modal modal hide fade'><div class='modal-header'><a class='close' data-dismiss='modal'>&times;</a><h3>"+a.image.insert+"</h3></div><div class='modal-body'><input value='http://' class='bootstrap-wysihtml5-insert-image-url input-xlarge'></div><div class='modal-footer'><a href='#' class='btn' data-dismiss='modal'>"+a.image.cancel+"</a><a href='#' class='btn btn-primary' data-dismiss='modal'>"+a.image.insert+"</a></div></div><a class='btn"+c+"' data-wysihtml5-command='insertImage' title='"+a.image.insert+"' tabindex='-1'><i class='icon-picture'></i></a></li>"},html:function(a,b){var c=b&&b.size?" btn-"+b.size:"";return"<li><div class='btn-group'><a class='btn"+c+"' data-wysihtml5-action='change_view' title='"+a.html.edit+"' tabindex='-1'><i class='icon-pencil'></i></a></div></li>"},color:function(a,b){var c=b&&b.size?" btn-"+b.size:"";return"<li class='dropdown'><a class='btn dropdown-toggle"+c+"' data-toggle='dropdown' href='#' tabindex='-1'><span class='current-color'>"+a.colours.black+"</span>&nbsp;<b class='caret'></b></a><ul class='dropdown-menu'><li><div class='wysihtml5-colors' data-wysihtml5-command-value='black'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='black'>"+a.colours.black+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='silver'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='silver'>"+a.colours.silver+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='gray'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='gray'>"+a.colours.gray+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='maroon'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='maroon'>"+a.colours.maroon+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='red'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='red'>"+a.colours.red+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='purple'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='purple'>"+a.colours.purple+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='green'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='green'>"+a.colours.green+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='olive'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='olive'>"+a.colours.olive+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='navy'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='navy'>"+a.colours.navy+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='blue'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='blue'>"+a.colours.blue+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='orange'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='orange'>"+a.colours.orange+"</a></li></ul></li>"}},d=function(a,b,d){return c[a](b,d)},e=function(b,d){this.el=b;var e=d||g;for(var f in e.customTemplates)c[f]=e.customTemplates[f];this.toolbar=this.createToolbar(b,e),this.editor=this.createEditor(d),window.editor=this.editor,a("iframe.wysihtml5-sandbox").each(function(b,c){a(c.contentWindow).off("focus.wysihtml5").on({"focus.wysihtml5":function(){a("li.dropdown").removeClass("open")}})})};e.prototype={constructor:e,createEditor:function(c){c=c||{},c=a.extend(!0,{},c),c.toolbar=this.toolbar[0];var d=new b.Editor(this.el[0],c);if(c&&c.events)for(var e in c.events)d.on(e,c.events[e]);return d},createToolbar:function(b,c){var e=this,f=a("<ul/>",{"class":"wysihtml5-toolbar",style:"display:none"}),i=c.locale||g.locale||"en";for(var j in g){var k=!1;void 0!==c[j]?c[j]===!0&&(k=!0):k=g[j],k===!0&&(f.append(d(j,h[i],c)),"html"===j&&this.initHtml(f),"link"===j&&this.initInsertLink(f),"image"===j&&this.initInsertImage(f))}if(c.toolbar)for(j in c.toolbar)f.append(c.toolbar[j]);return f.find("a[data-wysihtml5-command='formatBlock']").click(function(b){var c=b.target||b.srcElement,d=a(c);e.toolbar.find(".current-font").text(d.html())}),f.find("a[data-wysihtml5-command='foreColor']").click(function(b){var c=b.target||b.srcElement,d=a(c);e.toolbar.find(".current-color").text(d.html())}),this.el.before(f),f},initHtml:function(a){var b="a[data-wysihtml5-action='change_view']";a.find(b).click(function(){a.find("a.btn").not(b).toggleClass("disabled")})},initInsertImage:function(b){var c,d=this,e=b.find(".bootstrap-wysihtml5-insert-image-modal"),f=e.find(".bootstrap-wysihtml5-insert-image-url"),g=e.find("a.btn-primary"),h=f.val(),i=function(){var a=f.val();f.val(h),d.editor.currentView.element.focus(),c&&(d.editor.composer.selection.setBookmark(c),c=null),d.editor.composer.commands.exec("insertImage",a)};f.keypress(function(a){13==a.which&&(i(),e.modal("hide"))}),g.click(i),e.on("shown",function(){f.focus()}),e.on("hide",function(){d.editor.currentView.element.focus()}),b.find("a[data-wysihtml5-command=insertImage]").click(function(){var b=a(this).hasClass("wysihtml5-command-active");return b?!0:(d.editor.currentView.element.focus(!1),c=d.editor.composer.selection.getBookmark(),e.appendTo("body").modal("show"),e.on("click.dismiss.modal",'[data-dismiss="modal"]',function(a){a.stopPropagation()}),!1)})},initInsertLink:function(b){var c,d=this,e=b.find(".bootstrap-wysihtml5-insert-link-modal"),f=e.find(".bootstrap-wysihtml5-insert-link-url"),g=e.find(".bootstrap-wysihtml5-insert-link-target"),h=e.find("a.btn-primary"),i=f.val(),j=function(){var a=f.val();f.val(i),d.editor.currentView.element.focus(),c&&(d.editor.composer.selection.setBookmark(c),c=null);var b=g.prop("checked");d.editor.composer.commands.exec("createLink",{href:a,target:b?"_blank":"_self",rel:b?"nofollow":""})};f.keypress(function(a){13==a.which&&(j(),e.modal("hide"))}),h.click(j),e.on("shown",function(){f.focus()}),e.on("hide",function(){d.editor.currentView.element.focus()}),b.find("a[data-wysihtml5-command=createLink]").click(function(){var b=a(this).hasClass("wysihtml5-command-active");return b?!0:(d.editor.currentView.element.focus(!1),c=d.editor.composer.selection.getBookmark(),e.appendTo("body").modal("show"),e.on("click.dismiss.modal",'[data-dismiss="modal"]',function(a){a.stopPropagation()}),!1)})}};var f={resetDefaults:function(){a.fn.wysihtml5.defaultOptions=a.extend(!0,{},a.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(b){return this.each(function(){var c=a(this);c.data("wysihtml5",new e(c,b))})},shallowExtend:function(b){var c=a.extend({},a.fn.wysihtml5.defaultOptions,b||{},a(this).data()),d=this;return f.bypassDefaults.apply(d,[c])},deepExtend:function(b){var c=a.extend(!0,{},a.fn.wysihtml5.defaultOptions,b||{}),d=this;return f.bypassDefaults.apply(d,[c])},init:function(a){var b=this;return f.deepExtend.apply(b,[a])}};a.fn.wysihtml5=function(b){return f[b]?f[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.wysihtml5"):f.init.apply(this,arguments)},a.fn.wysihtml5.Constructor=e;var g=a.fn.wysihtml5.defaultOptions={"font-styles":!0,color:!1,emphasis:!0,lists:!0,html:!1,link:!0,image:!0,events:{},parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{check_attributes:{href:"url",target:"alt",rel:"alt"}},span:1,div:1,code:1,pre:1}},stylesheets:["./lib/css/wysiwyg-color.css"],locale:"en"};"undefined"==typeof a.fn.wysihtml5.defaultOptionsCache&&(a.fn.wysihtml5.defaultOptionsCache=a.extend(!0,{},a.fn.wysihtml5.defaultOptions));var h=a.fn.wysihtml5.locale={en:{font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},emphasis:{bold:"B",italic:"I",underline:"U"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}}(window.jQuery,window.wysihtml5);var xhrFetchingImages;wysiHelpers={getImageTemplate:function(){var a;return a=_.template("<div class='image-zoom-container'><img src='<%= url %>' alt='<%= caption %>' style='max-width:99%;'/><div class='mask'></div><b class='zoom-action-button' en-zoom='<%= url %>'><i class='icon icon-zoom-in'></i></b></div>")}},bootWysiOverrides={initInsertImage:function(a){var b=this,c=a.find(".bootstrap-wysihtml5-insert-image-modal"),d=c.find(".bootstrap-wysihtml5-insert-image-url"),e=c.find("button.image-upload-button"),f=c.find("button.image-cancel-button"),g=c.find("p.choosed_file_name"),h=(d.val(),wysiHelpers),i=function(a){if(a.url){var c=(b.editor.composer.doc,h.getImageTemplate()),d=c(a);b.editor.currentView.element.focus(),console.log(b.editor.currentView.element),b.editor.composer.commands.exec("insertHTML",d)}};c.on("hide",function(){b.editor.currentView.element.focus()}),a.find("a[data-wysihtml5-command=insertImage]").click(function(){function d(){l.off("change").change(function(a){return console.log("file change triggered..."),(k=a.target.files[0])?(g.text(k.name),a.stopPropagation(),!1):!1})}function h(){l.replaceWith(l.val("").clone(!0)),l=a.find(".bootstrap-wysihtml5-insert-image-modal .insert-image-file-input"),d()}var j=$(this).hasClass("wysihtml5-command-active"),k=null;if(j)return!0;c.modal("show");var l=a.find(".bootstrap-wysihtml5-insert-image-modal .insert-image-file-input");l.replaceWith(l.val("").clone(!0)),l=a.find(".bootstrap-wysihtml5-insert-image-modal .insert-image-file-input"),b.editor.currentView.element.focus(!1),$(".clear_file_btn").on("click",function(a){a.preventDefault(),k=null,g.text("")}),d(),e.off("click").on("click",function(b){var d=a.find(".image-url-input").val();return a.find(".image-url-input").val(""),d&&"http://"!=d?(i({url:d,caption:""}),c.modal("hide"),c.parents(".nimbus_form_modal").find(".insert-image-mask").remove(),g.text(""),h()):k&&m(k),b.stopPropagation(),!1}),$("button.close").on("click",function(){c.parents(".nimbus_form_modal").find(".insert-image-mask").remove(),k=null,g.text(""),h()}),f.on("click",function(){k=null,g.text("")});var m=function(b){a.find(".uploadresult").html("Uploading File.").addClass("alert alert-info"),e.attr("disabled",!0),e.attr("disabled",!0),Nimbus.Binary.upload_file(b,function(a){a?(foundry._plugins.document.set(a._file.id,a._file),foundry.set_file_public(a._file.id),$(".uploadresult").html("Upload Complete").removeClass("alert-info").addClass("alert-success"),i({url:a.directlink,caption:a.name,id:a._file.id}),c.modal("hide"),c.parents(".nimbus_form_modal").find(".insert-image-mask").remove()):$(".uploadresult").html("Upload failed").removeClass("alert-info").addClass("alert-error"),e.attr("disabled",!1),f.attr("disabled",!1),$(".uploadresult").html("").removeClass().addClass("uploadresult"),g.text(""),h()})};return c.on("click.dismiss.modal",'[data-dismiss="modal"]',function(a){c.parents(".nimbus_form_modal").find(".insert-image-mask").remove(),k=null,g.text(""),a.stopPropagation()}),c.parents(".nimbus_form_modal").prepend('<div class="modal-backdrop fade in insert-image-mask"></div>'),!1})}},$.extend($.fn.wysihtml5.Constructor.prototype,bootWysiOverrides),$(function(){var a={customTags:{em:{},strong:{},hr:{}},customStyles:{shrink_wrap:null,credit:null,tombstone:null,chat:null,caption:null},customTemplates:{image:function(a){return"<li class='editor-image-upload-modal'><div class='bootstrap-wysihtml5-insert-image-modal nimbus_confirm_modal modal hide fade'><div class='modal-header'><h3>"+a.image.insert+'</h3></div><div class=\'modal-body\'><ul class="nav nav-tabs" id="myTab"><li class="active" style="width:50%"><a href=".home-tab" data-toggle="tab">From Computer</a></li><li style="width:50%"><a href=".profile-tab" data-toggle="tab">Image Url</a></li></ul><div class="tab-content"><div class="tab-pane active home-tab"><div class=\'chooser_wrapper\'><span class="btn outline btn-file" style="padding:6px 13px;width: auto;height: auto;cursor: pointer;border-radius: 5px;"><span class="fileupload-new">Choose File</span><input type=\'file\' class=\'insert-image-file-input\' style=\'width:100%\'></span><span class="btn btn-danger clear_file_btn" style="height: 22px;width: auto;margin-left: 10px!important;">Clear</span><p class="choosed_file_name"></p><div class="uploadresult"></div></div></div><div class="tab-pane profile-tab"><input value=\'http://\' class=\'image-url-input\' style=\'width:100%;\' class=\'bootstrap-wysihtml5-insert-image-url input-xlarge\'></div></div></div><div class=\'modal-footer\' style=\'padding:0\'><button class=\'btn btn-danger image-cancel-button\' data-dismiss=\'modal\'>'+a.image.cancel+"</button><button class='btn btn-primary image-upload-button' style='float: left;' title='"+a.image.insert+"'>"+a.image.insert+" <i class='icon-picture'></i></button></div></div><a class='btn' data-wysihtml5-command='insertImage' title='"+a.image.insert+"'><i class='icon-picture'></i></a></li>"
}}};foundry.wysiwygOptions=a,$(".tip").tooltip(),$("textarea.wysi").each(function(){$(this).wysihtml5($.extend(a,{html:!0,color:!1,stylesheets:[]}))})}),!function(a,b){"use strict";var c=b.module("ngDialog",[]),d=b.element,e=b.isDefined,f=(document.body||document.documentElement).style,g=e(f.animation)||e(f.WebkitAnimation)||e(f.MozAnimation)||e(f.MsAnimation)||e(f.OAnimation),h="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend";c.provider("ngDialog",function(){var a=this.defaults={className:"ngdialog-theme-default",plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0},c=0,e=0;this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout",function(f,i,j,k,l,m,n){var o=f.find("body"),p={onDocumentKeyup:function(a){27===a.keyCode&&q.close()},closeDialog:function(a){a.unbind("click"),1===e&&o.unbind("keyup").removeClass("ngdialog-open"),e-=1,g?a.unbind(h).bind(h,function(){a.remove()}).addClass("ngdialog-closing"):a.remove()}},q={open:function(f){function g(a){return a?b.isString(a)&&h.plain?a:i.get(a)||l.get(a,{cache:!0}):"Empty template"}var h=b.copy(a);f=f||{},b.extend(h,f),c+=1;var r,s=b.isObject(h.scope)?h.scope:m.$new();k.when(g(h.template)).then(function(a){return a=b.isString(a)?a:a.data&&b.isString(a.data)?a.data:"",h.showClose&&(a+='<div class="ngdialog-close"></div>'),r=d('<div id="ngdialog'+c+'" class="ngdialog"></div>'),r.html('<div class="ngdialog-overlay"></div><div class="ngdialog-content">'+a+"</div>"),h.controller&&b.isString(h.controller)&&r.attr("ng-controller",h.controller),h.className&&r.addClass(h.className),h.data&&b.isString(h.data)&&(s.ngDialogData="{"===h.data.replace(/^\s*/,"")[0]?b.fromJson(h.data):h.data),n(function(){j(r)(s)}),s.$on("$destroy",function(){r.remove()}),o.addClass("ngdialog-open").append(r),h.closeByEscape&&o.bind("keyup",p.onDocumentKeyup),h.closeByDocument&&r.bind("click",function(a){var b=d(a.target).hasClass("ngdialog-overlay"),c=d(a.target).hasClass("ngdialog-close");(b||c)&&q.close(r.attr("id"))}),e+=1,q})},close:function(a){var b=d(document.getElementById(a));return b.length?p.closeDialog(b):q.closeAll(),q},closeAll:function(){var a=document.querySelectorAll(".ngdialog");b.forEach(a,function(a){p.closeDialog(d(a))})}};return q}]}),c.directive("ngDialog",["ngDialog",function(a){return{restrict:"A",link:function(b,c,d){c.on("click",function(b){b.preventDefault(),a.open({template:d.ngDialog,className:d.ngDialogClass,controller:d.ngDialogController,scope:d.ngDialogScope,data:d.ngDialogData,showClose:"false"===d.ngDialogShowClose?!1:!0,closeByDocument:"false"===d.ngDialogCloseByDocument?!1:!0,closeByEscape:"false"===d.ngDialogCloseByKeyup?!1:!0})})}}}])}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.alert","ui.bootstrap.modal"]),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(a,b){a.closeable="close"in b}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$timeout",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(b){b.animate=!1,a(function(){b.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(a,b){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:"template/modal/window.html",link:function(c,d,e){c.windowClass=e.windowClass||"",b(function(){c.animate=!0,d[0].focus()}),c.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))}}}}]).factory("$modalStack",["$document","$compile","$rootScope","$$stackedMap",function(a,b,c,d){function e(){for(var a=-1,b=k.keys(),c=0;c<b.length;c++)k.get(b[c]).value.backdrop&&(a=c);return a}function f(b){var c=a.find("body").eq(0),d=k.get(b).value;k.remove(b),d.modalDomEl.remove(),c.toggleClass(i,k.length()>0),h&&-1==e()&&(h.remove(),h=void 0),d.modalScope.$destroy()}var g,h,i="modal-open",j=c.$new(!0),k=d.createNew(),l={};return c.$watch(e,function(a){j.index=a}),a.bind("keydown",function(a){var b;27===a.which&&(b=k.top(),b&&b.value.keyboard&&c.$apply(function(){l.dismiss(b.key)}))}),l.open=function(c,d){k.add(c,{deferred:d.deferred,modalScope:d.scope,backdrop:d.backdrop,keyboard:d.keyboard});var f=a.find("body").eq(0);e()>=0&&!h&&(g=angular.element("<div modal-backdrop></div>"),h=b(g)(j),f.append(h));var l=angular.element("<div modal-window></div>");l.attr("window-class",d.windowClass),l.attr("index",k.length()-1),l.html(d.content);var m=b(l)(d.scope);k.top().value.modalDomEl=m,f.append(m),f.addClass(i)},l.close=function(a,b){var c=k.get(a).value;c&&(c.deferred.resolve(b),f(a))},l.dismiss=function(a,b){var c=k.get(a).value;c&&(c.deferred.reject(b),f(a))},l.getTop=function(){return k.top()},l}]).provider("$modal",function(){var a={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):e.get(a.templateUrl,{cache:f}).then(function(a){return a.data})}function j(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var k={};return k.open=function(b){var e=d.defer(),f=d.defer(),k={result:e.promise,opened:f.promise,close:function(a){h.close(k,a)},dismiss:function(a){h.dismiss(k,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var l=d.all([i(b)].concat(j(b.resolve)));return l.then(function(a){var d=(b.scope||c).$new();d.$close=k.close,d.$dismiss=k.dismiss;var f,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=k,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),f=g(b.controller,i)),h.open(k,{scope:d,deferred:e,content:a[0],backdrop:b.backdrop,keyboard:b.keyboard,windowClass:b.windowClass})},function(a){e.reject(a)}),l.then(function(){f.resolve(!0)},function(){f.reject(!1)}),k},k}]};return a}),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.alert","ui.bootstrap.modal"]),angular.module("ui.bootstrap.tpls",["template/alert/alert.html","template/modal/backdrop.html","template/modal/window.html"]),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(a,b){a.closeable="close"in b}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$timeout",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(b){b.animate=!1,a(function(){b.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(a,b){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:"template/modal/window.html",link:function(c,d,e){c.windowClass=e.windowClass||"",b(function(){c.animate=!0,d[0].focus()}),c.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))}}}}]).factory("$modalStack",["$document","$compile","$rootScope","$$stackedMap",function(a,b,c,d){function e(){for(var a=-1,b=k.keys(),c=0;c<b.length;c++)k.get(b[c]).value.backdrop&&(a=c);return a}function f(b){var c=a.find("body").eq(0),d=k.get(b).value;k.remove(b),d.modalDomEl.remove(),c.toggleClass(i,k.length()>0),h&&-1==e()&&(h.remove(),h=void 0),d.modalScope.$destroy()}var g,h,i="modal-open",j=c.$new(!0),k=d.createNew(),l={};return c.$watch(e,function(a){j.index=a}),a.bind("keydown",function(a){var b;27===a.which&&(b=k.top(),b&&b.value.keyboard&&c.$apply(function(){l.dismiss(b.key)}))}),l.open=function(c,d){k.add(c,{deferred:d.deferred,modalScope:d.scope,backdrop:d.backdrop,keyboard:d.keyboard});var f=a.find("body").eq(0);e()>=0&&!h&&(g=angular.element("<div modal-backdrop></div>"),h=b(g)(j),f.append(h));var l=angular.element("<div modal-window></div>");l.attr("window-class",d.windowClass),l.attr("index",k.length()-1),l.html(d.content);var m=b(l)(d.scope);k.top().value.modalDomEl=m,f.append(m),f.addClass(i)},l.close=function(a,b){var c=k.get(a).value;c&&(c.deferred.resolve(b),f(a))},l.dismiss=function(a,b){var c=k.get(a).value;c&&(c.deferred.reject(b),f(a))},l.getTop=function(){return k.top()},l}]).provider("$modal",function(){var a={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):e.get(a.templateUrl,{cache:f}).then(function(a){return a.data})}function j(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var k={};return k.open=function(b){var e=d.defer(),f=d.defer(),k={result:e.promise,opened:f.promise,close:function(a){h.close(k,a)},dismiss:function(a){h.dismiss(k,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var l=d.all([i(b)].concat(j(b.resolve)));return l.then(function(a){var d=(b.scope||c).$new();d.$close=k.close,d.$dismiss=k.dismiss;var f,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=k,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),f=g(b.controller,i)),h.open(k,{scope:d,deferred:e,content:a[0],backdrop:b.backdrop,keyboard:b.keyboard,windowClass:b.windowClass})},function(a){e.reject(a)}),l.then(function(){f.resolve(!0)},function(){f.reject(!1)}),k},k}]};return a}),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("template/alert/alert.html","<div class='alert' ng-class='\"alert-\" + (type || \"warning\")'>\n    <button ng-show='closeable' type='button' class='close' ng-click='close()'>&times;</button>\n    <div ng-transclude></div>\n</div>\n")}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("template/modal/backdrop.html",'<div class="modal-backdrop fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1040 + index*10}"></div>')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(a){a.put("template/modal/window.html",'<div tabindex="-1" class="modal fade {{ windowClass }}" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog"><div class="modal-content" ng-transclude></div></div>\n</div>')}]),!function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};a[g][0].call(j.exports,function(b){var c=a[g][1][b];return e(c?c:b)},j,j.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(){},{}],2:[function(a,b){b.exports=a(1)},{}],3:[function(a,b,c){function d(a,b,c){if(!(this instanceof d))return new d(a,b,c);var e=typeof a;"base64"===b&&"string"===e&&(a=C(a));var f;if("number"===e)f=F(a);else if("string"===e)f=d.byteLength(a,b);else{if("object"!==e)throw new Error("First argument needs to be a number, array or string.");f=F(a.length)}var g;d._useTypedArrays?g=d._augment(new Uint8Array(f)):(g=this,g.length=f,g._isBuffer=!0);var h;if(d._useTypedArrays&&"number"==typeof a.byteLength)g._set(a);else if(H(a))if(d.isBuffer(a))for(h=0;f>h;h++)g[h]=a.readUInt8(h);else for(h=0;f>h;h++)g[h]=(a[h]%256+256)%256;else if("string"===e)g.write(a,0,b);else if("number"===e&&!d._useTypedArrays&&!c)for(h=0;f>h;h++)g[h]=0;return g}function e(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;S(f%2===0,"Invalid hex string"),d>f/2&&(d=f/2);for(var g=0;d>g;g++){var h=parseInt(b.substr(2*g,2),16);S(!isNaN(h),"Invalid hex string"),a[c+g]=h}return g}function f(a,b,c,d){var e=N(J(b),a,c,d);return e}function g(a,b,c,d){var e=N(K(b),a,c,d);return e}function h(a,b,c,d){return g(a,b,c,d)}function i(a,b,c,d){var e=N(M(b),a,c,d);return e}function j(a,b,c,d){var e=N(L(b),a,c,d);return e}function k(a,b,c){return T.fromByteArray(0===b&&c===a.length?a:a.slice(b,c))}function l(a,b,c){var d="",e="";c=Math.min(a.length,c);for(var f=b;c>f;f++)a[f]<=127?(d+=O(e)+String.fromCharCode(a[f]),e=""):e+="%"+a[f].toString(16);return d+O(e)}function m(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(a[e]);return d}function n(a,b,c){return m(a,b,c)}function o(a,b,c){var d=a.length;(!b||0>b)&&(b=0),(!c||0>c||c>d)&&(c=d);for(var e="",f=b;c>f;f++)e+=I(a[f]);return e}function p(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function q(a,b,c,d){d||(S("boolean"==typeof c,"missing or invalid endian"),S(void 0!==b&&null!==b,"missing offset"),S(b+1<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f;return c?(f=a[b],e>b+1&&(f|=a[b+1]<<8)):(f=a[b]<<8,e>b+1&&(f|=a[b+1])),f}}function r(a,b,c,d){d||(S("boolean"==typeof c,"missing or invalid endian"),S(void 0!==b&&null!==b,"missing offset"),S(b+3<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f;return c?(e>b+2&&(f=a[b+2]<<16),e>b+1&&(f|=a[b+1]<<8),f|=a[b],e>b+3&&(f+=a[b+3]<<24>>>0)):(e>b+1&&(f=a[b+1]<<16),e>b+2&&(f|=a[b+2]<<8),e>b+3&&(f|=a[b+3]),f+=a[b]<<24>>>0),f}}function s(a,b,c,d){d||(S("boolean"==typeof c,"missing or invalid endian"),S(void 0!==b&&null!==b,"missing offset"),S(b+1<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f=q(a,b,c,!0),g=32768&f;return g?-1*(65535-f+1):f}}function t(a,b,c,d){d||(S("boolean"==typeof c,"missing or invalid endian"),S(void 0!==b&&null!==b,"missing offset"),S(b+3<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f=r(a,b,c,!0),g=2147483648&f;return g?-1*(4294967295-f+1):f}}function u(a,b,c,d){return d||(S("boolean"==typeof c,"missing or invalid endian"),S(b+3<a.length,"Trying to read beyond buffer length")),U.read(a,b,c,23,4)}function v(a,b,c,d){return d||(S("boolean"==typeof c,"missing or invalid endian"),S(b+7<a.length,"Trying to read beyond buffer length")),U.read(a,b,c,52,8)}function w(a,b,c,d,e){e||(S(void 0!==b&&null!==b,"missing value"),S("boolean"==typeof d,"missing or invalid endian"),S(void 0!==c&&null!==c,"missing offset"),S(c+1<a.length,"trying to write beyond buffer length"),P(b,65535));var f=a.length;if(!(c>=f)){for(var g=0,h=Math.min(f-c,2);h>g;g++)a[c+g]=(b&255<<8*(d?g:1-g))>>>8*(d?g:1-g);return c+2}}function x(a,b,c,d,e){e||(S(void 0!==b&&null!==b,"missing value"),S("boolean"==typeof d,"missing or invalid endian"),S(void 0!==c&&null!==c,"missing offset"),S(c+3<a.length,"trying to write beyond buffer length"),P(b,4294967295));var f=a.length;if(!(c>=f)){for(var g=0,h=Math.min(f-c,4);h>g;g++)a[c+g]=b>>>8*(d?g:3-g)&255;return c+4}}function y(a,b,c,d,e){e||(S(void 0!==b&&null!==b,"missing value"),S("boolean"==typeof d,"missing or invalid endian"),S(void 0!==c&&null!==c,"missing offset"),S(c+1<a.length,"Trying to write beyond buffer length"),Q(b,32767,-32768));var f=a.length;return c>=f?void 0:(b>=0?w(a,b,c,d,e):w(a,65535+b+1,c,d,e),c+2)}function z(a,b,c,d,e){e||(S(void 0!==b&&null!==b,"missing value"),S("boolean"==typeof d,"missing or invalid endian"),S(void 0!==c&&null!==c,"missing offset"),S(c+3<a.length,"Trying to write beyond buffer length"),Q(b,2147483647,-2147483648));var f=a.length;return c>=f?void 0:(b>=0?x(a,b,c,d,e):x(a,4294967295+b+1,c,d,e),c+4)}function A(a,b,c,d,e){e||(S(void 0!==b&&null!==b,"missing value"),S("boolean"==typeof d,"missing or invalid endian"),S(void 0!==c&&null!==c,"missing offset"),S(c+3<a.length,"Trying to write beyond buffer length"),R(b,3.4028234663852886e38,-3.4028234663852886e38));var f=a.length;return c>=f?void 0:(U.write(a,b,c,d,23,4),c+4)}function B(a,b,c,d,e){e||(S(void 0!==b&&null!==b,"missing value"),S("boolean"==typeof d,"missing or invalid endian"),S(void 0!==c&&null!==c,"missing offset"),S(c+7<a.length,"Trying to write beyond buffer length"),R(b,1.7976931348623157e308,-1.7976931348623157e308));var f=a.length;return c>=f?void 0:(U.write(a,b,c,d,52,8),c+8)}function C(a){for(a=D(a).replace(W,"");a.length%4!==0;)a+="=";return a}function D(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function E(a,b,c){return"number"!=typeof a?c:(a=~~a,a>=b?b:a>=0?a:(a+=b,a>=0?a:0))}function F(a){return a=~~Math.ceil(+a),0>a?0:a}function G(a){return(Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)})(a)}function H(a){return G(a)||d.isBuffer(a)||a&&"object"==typeof a&&"number"==typeof a.length}function I(a){return 16>a?"0"+a.toString(16):a.toString(16)}function J(a){for(var b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);if(127>=d)b.push(d);else{var e=c;d>=55296&&57343>=d&&c++;for(var f=encodeURIComponent(a.slice(e,c+1)).substr(1).split("%"),g=0;g<f.length;g++)b.push(parseInt(f[g],16))}}return b}function K(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function L(a){for(var b,c,d,e=[],f=0;f<a.length;f++)b=a.charCodeAt(f),c=b>>8,d=b%256,e.push(d),e.push(c);return e}function M(a){return T.toByteArray(a)}function N(a,b,c,d){for(var e=0;d>e&&!(e+c>=b.length||e>=a.length);e++)b[e+c]=a[e];return e}function O(a){try{return decodeURIComponent(a)}catch(b){return String.fromCharCode(65533)}}function P(a,b){S("number"==typeof a,"cannot write a non-number as a number"),S(a>=0,"specified a negative value for writing an unsigned value"),S(b>=a,"value is larger than maximum value for type"),S(Math.floor(a)===a,"value has a fractional component")}function Q(a,b,c){S("number"==typeof a,"cannot write a non-number as a number"),S(b>=a,"value larger than maximum allowed value"),S(a>=c,"value smaller than minimum allowed value"),S(Math.floor(a)===a,"value has a fractional component")}function R(a,b,c){S("number"==typeof a,"cannot write a non-number as a number"),S(b>=a,"value larger than maximum allowed value"),S(a>=c,"value smaller than minimum allowed value")}function S(a,b){if(!a)throw new Error(b||"Failed assertion")}var T=a("base64-js"),U=a("ieee754");c.Buffer=d,c.SlowBuffer=d,c.INSPECT_MAX_BYTES=50,d.poolSize=8192,d._useTypedArrays=function(){try{var a=new ArrayBuffer(0),b=new Uint8Array(a);return b.foo=function(){return 42},42===b.foo()&&"function"==typeof b.subarray}catch(c){return!1}}(),d.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.isBuffer=function(a){return!(null===a||void 0===a||!a._isBuffer)},d.byteLength=function(a,b){var c;switch(a=a.toString(),b||"utf8"){case"hex":c=a.length/2;break;case"utf8":case"utf-8":c=J(a).length;break;case"ascii":case"binary":case"raw":c=a.length;break;case"base64":c=M(a).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":c=2*a.length;break;default:throw new Error("Unknown encoding")}return c},d.concat=function(a,b){if(S(G(a),"Usage: Buffer.concat(list[, length])"),0===a.length)return new d(0);if(1===a.length)return a[0];var c;if(void 0===b)for(b=0,c=0;c<a.length;c++)b+=a[c].length;var e=new d(b),f=0;for(c=0;c<a.length;c++){var g=a[c];g.copy(e,f),f+=g.length}return e},d.compare=function(a,b){S(d.isBuffer(a)&&d.isBuffer(b),"Arguments must be Buffers");for(var c=a.length,e=b.length,f=0,g=Math.min(c,e);g>f&&a[f]===b[f];f++);return f!==g&&(c=a[f],e=b[f]),e>c?-1:c>e?1:0},d.prototype.write=function(a,b,c,d){if(isFinite(b))isFinite(c)||(d=c,c=void 0);else{var k=d;d=b,b=c,c=k}b=Number(b)||0;var l=this.length-b;c?(c=Number(c),c>l&&(c=l)):c=l,d=String(d||"utf8").toLowerCase();var m;switch(d){case"hex":m=e(this,a,b,c);break;case"utf8":case"utf-8":m=f(this,a,b,c);break;case"ascii":m=g(this,a,b,c);break;case"binary":m=h(this,a,b,c);break;case"base64":m=i(this,a,b,c);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":m=j(this,a,b,c);break;default:throw new Error("Unknown encoding")}return m},d.prototype.toString=function(a,b,c){var d=this;if(a=String(a||"utf8").toLowerCase(),b=Number(b)||0,c=void 0===c?d.length:Number(c),c===b)return"";var e;switch(a){case"hex":e=o(d,b,c);break;case"utf8":case"utf-8":e=l(d,b,c);break;case"ascii":e=m(d,b,c);break;case"binary":e=n(d,b,c);break;case"base64":e=k(d,b,c);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":e=p(d,b,c);break;default:throw new Error("Unknown encoding")}return e},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},d.prototype.equals=function(a){return S(d.isBuffer(a),"Argument must be a Buffer"),0===d.compare(this,a)},d.prototype.compare=function(a){return S(d.isBuffer(a),"Argument must be a Buffer"),d.compare(this,a)},d.prototype.copy=function(a,b,c,e){var f=this;if(c||(c=0),e||0===e||(e=this.length),b||(b=0),e!==c&&0!==a.length&&0!==f.length){S(e>=c,"sourceEnd < sourceStart"),S(b>=0&&b<a.length,"targetStart out of bounds"),S(c>=0&&c<f.length,"sourceStart out of bounds"),S(e>=0&&e<=f.length,"sourceEnd out of bounds"),e>this.length&&(e=this.length),a.length-b<e-c&&(e=a.length-b+c);var g=e-c;if(100>g||!d._useTypedArrays)for(var h=0;g>h;h++)a[h+b]=this[h+c];else a._set(this.subarray(c,c+g),b)}},d.prototype.slice=function(a,b){var c=this.length;if(a=E(a,c,0),b=E(b,c,c),d._useTypedArrays)return d._augment(this.subarray(a,b));for(var e=b-a,f=new d(e,void 0,!0),g=0;e>g;g++)f[g]=this[g+a];return f},d.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},d.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},d.prototype.readUInt8=function(a,b){return b||(S(void 0!==a&&null!==a,"missing offset"),S(a<this.length,"Trying to read beyond buffer length")),a>=this.length?void 0:this[a]},d.prototype.readUInt16LE=function(a,b){return q(this,a,!0,b)},d.prototype.readUInt16BE=function(a,b){return q(this,a,!1,b)},d.prototype.readUInt32LE=function(a,b){return r(this,a,!0,b)},d.prototype.readUInt32BE=function(a,b){return r(this,a,!1,b)},d.prototype.readInt8=function(a,b){if(b||(S(void 0!==a&&null!==a,"missing offset"),S(a<this.length,"Trying to read beyond buffer length")),!(a>=this.length)){var c=128&this[a];return c?-1*(255-this[a]+1):this[a]}},d.prototype.readInt16LE=function(a,b){return s(this,a,!0,b)},d.prototype.readInt16BE=function(a,b){return s(this,a,!1,b)},d.prototype.readInt32LE=function(a,b){return t(this,a,!0,b)},d.prototype.readInt32BE=function(a,b){return t(this,a,!1,b)},d.prototype.readFloatLE=function(a,b){return u(this,a,!0,b)},d.prototype.readFloatBE=function(a,b){return u(this,a,!1,b)},d.prototype.readDoubleLE=function(a,b){return v(this,a,!0,b)},d.prototype.readDoubleBE=function(a,b){return v(this,a,!1,b)},d.prototype.writeUInt8=function(a,b,c){return c||(S(void 0!==a&&null!==a,"missing value"),S(void 0!==b&&null!==b,"missing offset"),S(b<this.length,"trying to write beyond buffer length"),P(a,255)),b>=this.length?void 0:(this[b]=a,b+1)},d.prototype.writeUInt16LE=function(a,b,c){return w(this,a,b,!0,c)},d.prototype.writeUInt16BE=function(a,b,c){return w(this,a,b,!1,c)},d.prototype.writeUInt32LE=function(a,b,c){return x(this,a,b,!0,c)},d.prototype.writeUInt32BE=function(a,b,c){return x(this,a,b,!1,c)},d.prototype.writeInt8=function(a,b,c){return c||(S(void 0!==a&&null!==a,"missing value"),S(void 0!==b&&null!==b,"missing offset"),S(b<this.length,"Trying to write beyond buffer length"),Q(a,127,-128)),b>=this.length?void 0:(a>=0?this.writeUInt8(a,b,c):this.writeUInt8(255+a+1,b,c),b+1)},d.prototype.writeInt16LE=function(a,b,c){return y(this,a,b,!0,c)},d.prototype.writeInt16BE=function(a,b,c){return y(this,a,b,!1,c)},d.prototype.writeInt32LE=function(a,b,c){return z(this,a,b,!0,c)},d.prototype.writeInt32BE=function(a,b,c){return z(this,a,b,!1,c)},d.prototype.writeFloatLE=function(a,b,c){return A(this,a,b,!0,c)},d.prototype.writeFloatBE=function(a,b,c){return A(this,a,b,!1,c)},d.prototype.writeDoubleLE=function(a,b,c){return B(this,a,b,!0,c)},d.prototype.writeDoubleBE=function(a,b,c){return B(this,a,b,!1,c)},d.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),S(c>=b,"end < start"),c!==b&&0!==this.length){S(b>=0&&b<this.length,"start out of bounds"),S(c>=0&&c<=this.length,"end out of bounds");var d;if("number"==typeof a)for(d=b;c>d;d++)this[d]=a;else{var e=J(a.toString()),f=e.length;for(d=b;c>d;d++)this[d]=e[d%f]}return this}},d.prototype.inspect=function(){for(var a=[],b=this.length,d=0;b>d;d++)if(a[d]=I(this[d]),d===c.INSPECT_MAX_BYTES){a[d+1]="...";break}return"<Buffer "+a.join(" ")+">"},d.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(d._useTypedArrays)return new d(this).buffer;for(var a=new Uint8Array(this.length),b=0,c=a.length;c>b;b+=1)a[b]=this[b];return a.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var V=d.prototype;d._augment=function(a){return a._isBuffer=!0,a._get=a.get,a._set=a.set,a.get=V.get,a.set=V.set,a.write=V.write,a.toString=V.toString,a.toLocaleString=V.toString,a.toJSON=V.toJSON,a.equals=V.equals,a.compare=V.compare,a.copy=V.copy,a.slice=V.slice,a.readUInt8=V.readUInt8,a.readUInt16LE=V.readUInt16LE,a.readUInt16BE=V.readUInt16BE,a.readUInt32LE=V.readUInt32LE,a.readUInt32BE=V.readUInt32BE,a.readInt8=V.readInt8,a.readInt16LE=V.readInt16LE,a.readInt16BE=V.readInt16BE,a.readInt32LE=V.readInt32LE,a.readInt32BE=V.readInt32BE,a.readFloatLE=V.readFloatLE,a.readFloatBE=V.readFloatBE,a.readDoubleLE=V.readDoubleLE,a.readDoubleBE=V.readDoubleBE,a.writeUInt8=V.writeUInt8,a.writeUInt16LE=V.writeUInt16LE,a.writeUInt16BE=V.writeUInt16BE,a.writeUInt32LE=V.writeUInt32LE,a.writeUInt32BE=V.writeUInt32BE,a.writeInt8=V.writeInt8,a.writeInt16LE=V.writeInt16LE,a.writeInt16BE=V.writeInt16BE,a.writeInt32LE=V.writeInt32LE,a.writeInt32BE=V.writeInt32BE,a.writeFloatLE=V.writeFloatLE,a.writeFloatBE=V.writeFloatBE,a.writeDoubleLE=V.writeDoubleLE,a.writeDoubleBE=V.writeDoubleBE,a.fill=V.fill,a.inspect=V.inspect,a.toArrayBuffer=V.toArrayBuffer,a};var W=/[^+\/0-9A-z]/g},{"base64-js":4,ieee754:5}],4:[function(a,b,c){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(a){"use strict";function b(a){var b=a.charCodeAt(0);return b===g?62:b===h?63:i>b?-1:i+10>b?b-i+26+26:k+26>b?b-k:j+26>b?b-j+26:void 0}function c(a){function c(a){j[l++]=a}var d,e,g,h,i,j;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=a.length;i="="===a.charAt(k-2)?2:"="===a.charAt(k-1)?1:0,j=new f(3*a.length/4-i),g=i>0?a.length-4:a.length;var l=0;for(d=0,e=0;g>d;d+=4,e+=3)h=b(a.charAt(d))<<18|b(a.charAt(d+1))<<12|b(a.charAt(d+2))<<6|b(a.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=b(a.charAt(d))<<2|b(a.charAt(d+1))>>4,c(255&h)):1===i&&(h=b(a.charAt(d))<<10|b(a.charAt(d+1))<<4|b(a.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function e(a){function b(a){return d.charAt(a)}function c(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}var e,f,g,h=a.length%3,i="";for(e=0,g=a.length-h;g>e;e+=3)f=(a[e]<<16)+(a[e+1]<<8)+a[e+2],i+=c(f);switch(h){case 1:f=a[a.length-1],i+=b(f>>2),i+=b(f<<4&63),i+="==";break;case 2:f=(a[a.length-2]<<8)+a[a.length-1],i+=b(f>>10),i+=b(f>>4&63),i+=b(f<<2&63),i+="="}return i}var f="undefined"!=typeof Uint8Array?Uint8Array:Array,g="+".charCodeAt(0),h="/".charCodeAt(0),i="0".charCodeAt(0),j="a".charCodeAt(0),k="A".charCodeAt(0);a.toByteArray=c,a.fromByteArray=e}("undefined"==typeof c?this.base64js={}:c)},{}],5:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?0/0:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||1/0===b?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],6:[function(a,b){(function(c){function d(a){return function(){var b=[],d={update:function(a,d){return c.isBuffer(a)||(a=new c(a,d)),b.push(a),this},digest:function(d){var e=c.concat(b),f=a(e);return b=null,d?f.toString(d):f}};return d}}var e=a("sha.js"),f=d(a("./md5")),g=d(a("ripemd160"));b.exports=function(a){return"md5"===a?new f:"rmd160"===a?new g:e(a)}}).call(this,a("buffer").Buffer)},{"./md5":10,buffer:3,ripemd160:11,"sha.js":13}],7:[function(a,b){(function(c){function d(a,b){if(!(this instanceof d))return new d(a,b);this._opad=i,this._alg=a,b=this._key=c.isBuffer(b)?b:new c(b),b.length>f?b=e(a).update(b).digest():b.length<f&&(b=c.concat([b,g],f));for(var h=this._ipad=new c(f),i=this._opad=new c(f),j=0;f>j;j++)h[j]=54^b[j],i[j]=92^b[j];this._hash=e(a).update(h)}var e=a("./create-hash"),f=64,g=new c(f);g.fill(0),b.exports=d,d.prototype.update=function(a,b){return this._hash.update(a,b),this},d.prototype.digest=function(a){var b=this._hash.digest();return e(this._alg).update(this._opad).update(b).digest(a)}}).call(this,a("buffer").Buffer)},{"./create-hash":6,buffer:3}],8:[function(a,b){(function(a){function c(b,c){if(b.length%f!==0){var d=b.length+(f-b.length%f);b=a.concat([b,g],d)}for(var e=[],h=c?b.readInt32BE:b.readInt32LE,i=0;i<b.length;i+=f)e.push(h.call(b,i));return e}function d(b,c,d){for(var e=new a(c),f=d?e.writeInt32BE:e.writeInt32LE,g=0;g<b.length;g++)f.call(e,b[g],4*g,!0);return e}function e(b,e,f,g){a.isBuffer(b)||(b=new a(b));var i=e(c(b,g),b.length*h);return d(i,f,g)}var f=4,g=new a(f);g.fill(0);var h=8;b.exports={hash:e}}).call(this,a("buffer").Buffer)},{buffer:3}],9:[function(a,b,c){(function(b){function d(){var a=[].slice.call(arguments).join(" ");throw new Error([a,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function e(a,b){for(var c in a)b(a[c],c)}var f=a("./rng");c.createHash=a("./create-hash"),c.createHmac=a("./create-hmac"),c.randomBytes=function(a,c){if(!c||!c.call)return new b(f(a));try{c.call(this,void 0,new b(f(a)))}catch(d){c(d)}},c.getHashes=function(){return["sha1","sha256","md5","rmd160"]};var g=a("./pbkdf2")(c.createHmac);
c.pbkdf2=g.pbkdf2,c.pbkdf2Sync=g.pbkdf2Sync,e(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman"],function(a){c[a]=function(){d("sorry,",a,"is not implemented yet")}})}).call(this,a("buffer").Buffer)},{"./create-hash":6,"./create-hmac":7,"./pbkdf2":17,"./rng":18,buffer:3}],10:[function(a,b){function c(a,b){a[b>>5]|=128<<b%32,a[(b+64>>>9<<4)+14]=b;for(var c=1732584193,d=-271733879,j=-1732584194,k=271733878,l=0;l<a.length;l+=16){var m=c,n=d,o=j,p=k;c=e(c,d,j,k,a[l+0],7,-680876936),k=e(k,c,d,j,a[l+1],12,-389564586),j=e(j,k,c,d,a[l+2],17,606105819),d=e(d,j,k,c,a[l+3],22,-1044525330),c=e(c,d,j,k,a[l+4],7,-176418897),k=e(k,c,d,j,a[l+5],12,1200080426),j=e(j,k,c,d,a[l+6],17,-1473231341),d=e(d,j,k,c,a[l+7],22,-45705983),c=e(c,d,j,k,a[l+8],7,1770035416),k=e(k,c,d,j,a[l+9],12,-1958414417),j=e(j,k,c,d,a[l+10],17,-42063),d=e(d,j,k,c,a[l+11],22,-1990404162),c=e(c,d,j,k,a[l+12],7,1804603682),k=e(k,c,d,j,a[l+13],12,-40341101),j=e(j,k,c,d,a[l+14],17,-1502002290),d=e(d,j,k,c,a[l+15],22,1236535329),c=f(c,d,j,k,a[l+1],5,-165796510),k=f(k,c,d,j,a[l+6],9,-1069501632),j=f(j,k,c,d,a[l+11],14,643717713),d=f(d,j,k,c,a[l+0],20,-373897302),c=f(c,d,j,k,a[l+5],5,-701558691),k=f(k,c,d,j,a[l+10],9,38016083),j=f(j,k,c,d,a[l+15],14,-660478335),d=f(d,j,k,c,a[l+4],20,-405537848),c=f(c,d,j,k,a[l+9],5,568446438),k=f(k,c,d,j,a[l+14],9,-1019803690),j=f(j,k,c,d,a[l+3],14,-187363961),d=f(d,j,k,c,a[l+8],20,1163531501),c=f(c,d,j,k,a[l+13],5,-1444681467),k=f(k,c,d,j,a[l+2],9,-51403784),j=f(j,k,c,d,a[l+7],14,1735328473),d=f(d,j,k,c,a[l+12],20,-1926607734),c=g(c,d,j,k,a[l+5],4,-378558),k=g(k,c,d,j,a[l+8],11,-2022574463),j=g(j,k,c,d,a[l+11],16,1839030562),d=g(d,j,k,c,a[l+14],23,-35309556),c=g(c,d,j,k,a[l+1],4,-1530992060),k=g(k,c,d,j,a[l+4],11,1272893353),j=g(j,k,c,d,a[l+7],16,-155497632),d=g(d,j,k,c,a[l+10],23,-1094730640),c=g(c,d,j,k,a[l+13],4,681279174),k=g(k,c,d,j,a[l+0],11,-358537222),j=g(j,k,c,d,a[l+3],16,-722521979),d=g(d,j,k,c,a[l+6],23,76029189),c=g(c,d,j,k,a[l+9],4,-640364487),k=g(k,c,d,j,a[l+12],11,-421815835),j=g(j,k,c,d,a[l+15],16,530742520),d=g(d,j,k,c,a[l+2],23,-995338651),c=h(c,d,j,k,a[l+0],6,-198630844),k=h(k,c,d,j,a[l+7],10,1126891415),j=h(j,k,c,d,a[l+14],15,-1416354905),d=h(d,j,k,c,a[l+5],21,-57434055),c=h(c,d,j,k,a[l+12],6,1700485571),k=h(k,c,d,j,a[l+3],10,-1894986606),j=h(j,k,c,d,a[l+10],15,-1051523),d=h(d,j,k,c,a[l+1],21,-2054922799),c=h(c,d,j,k,a[l+8],6,1873313359),k=h(k,c,d,j,a[l+15],10,-30611744),j=h(j,k,c,d,a[l+6],15,-1560198380),d=h(d,j,k,c,a[l+13],21,1309151649),c=h(c,d,j,k,a[l+4],6,-145523070),k=h(k,c,d,j,a[l+11],10,-1120210379),j=h(j,k,c,d,a[l+2],15,718787259),d=h(d,j,k,c,a[l+9],21,-343485551),c=i(c,m),d=i(d,n),j=i(j,o),k=i(k,p)}return Array(c,d,j,k)}function d(a,b,c,d,e,f){return i(j(i(i(b,a),i(d,f)),e),c)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function j(a,b){return a<<b|a>>>32-b}var k=a("./helpers");b.exports=function(a){return k.hash(a,c,16)}},{"./helpers":8}],11:[function(a,b){(function(a){function c(a,b,c){return a^b^c}function d(a,b,c){return a&b|~a&c}function e(a,b,c){return(a|~b)^c}function f(a,b,c){return a&c|b&~c}function g(a,b,c){return a^(b|~c)}function h(a,b){return a<<b|a>>>32-b}function i(b){var c=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof b&&(b=new a(b,"utf8"));var d=p(b),e=8*b.length,f=8*b.length;d[e>>>5]|=128<<24-e%32,d[(e+64>>>9<<4)+14]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8);for(var g=0;g<d.length;g+=16)r(c,d,g);for(var g=0;5>g;g++){var h=c[g];c[g]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}var i=q(c);return new a(i)}b.exports=i;var j=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],k=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],n=[0,1518500249,1859775393,2400959708,2840853838],o=[1352829926,1548603684,1836072691,2053994217,0],p=function(a){for(var b=[],c=0,d=0;c<a.length;c++,d+=8)b[d>>>5]|=a[c]<<24-d%32;return b},q=function(a){for(var b=[],c=0;c<32*a.length;c+=8)b.push(a[c>>>5]>>>24-c%32&255);return b},r=function(a,b,i){for(var p=0;16>p;p++){var q=i+p,r=b[q];b[q]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var s,t,u,v,w,x,y,z,A,B;x=s=a[0],y=t=a[1],z=u=a[2],A=v=a[3],B=w=a[4];for(var C,p=0;80>p;p+=1)C=s+b[i+j[p]]|0,C+=16>p?c(t,u,v)+n[0]:32>p?d(t,u,v)+n[1]:48>p?e(t,u,v)+n[2]:64>p?f(t,u,v)+n[3]:g(t,u,v)+n[4],C=0|C,C=h(C,l[p]),C=C+w|0,s=w,w=v,v=h(u,10),u=t,t=C,C=x+b[i+k[p]]|0,C+=16>p?g(y,z,A)+o[0]:32>p?f(y,z,A)+o[1]:48>p?e(y,z,A)+o[2]:64>p?d(y,z,A)+o[3]:c(y,z,A)+o[4],C=0|C,C=h(C,m[p]),C=C+B|0,x=B,B=A,A=h(z,10),z=y,y=C;C=a[1]+u+A|0,a[1]=a[2]+v+B|0,a[2]=a[3]+w+x|0,a[3]=a[4]+s+y|0,a[4]=a[0]+t+z|0,a[0]=C}}).call(this,a("buffer").Buffer)},{buffer:3}],12:[function(a,b){var c=a("./util"),d=c.write,e=c.zeroFill;b.exports=function(a){function b(b,c){this._block=new a(b),this._finalSize=c,this._blockSize=b,this._len=0,this._s=0}function f(a,b){return null==b?a.byteLength||a.length:"ascii"==b||"binary"==b?a.length:"hex"==b?a.length/2:"base64"==b?a.length/3:void 0}return b.prototype.init=function(){this._s=0,this._len=0},b.prototype.update=function(b,c){var e,g=this._blockSize;c||"string"!=typeof b||(c="utf8"),c?("utf-8"===c&&(c="utf8"),("base64"===c||"utf8"===c)&&(b=new a(b,c),c=null),e=f(b,c)):e=b.byteLength||b.length;for(var h=this._len+=e,i=this._s=this._s||0,j=0,k=this._block;h>i;){var l=Math.min(e,j+g);d(k,b,c,i%g,j,l);var m=l-j;i+=m,j+=m,i%g||this._update(k)}return this._s=i,this},b.prototype.digest=function(a){var b=this._blockSize,d=this._finalSize,f=8*this._len,g=this._block,h=f%(8*b);g[this._len%b]=128,e(this._block,this._len%b+1),h>=8*d&&(this._update(this._block),c.zeroFill(this._block,0)),g.writeInt32BE(f,d+4);var i=this._update(this._block)||this._hash();return null==a?i:i.toString(a)},b.prototype._update=function(){throw new Error("_update must be implemented by subclass")},b}},{"./util":16}],13:[function(a,b,c){var c=b.exports=function(a){var b=c[a];if(!b)throw new Error(a+" is not supported (we accept pull requests)");return new b},d=a("buffer").Buffer,e=a("./hash")(d);c.sha=c.sha1=a("./sha1")(d,e),c.sha256=a("./sha256")(d,e)},{"./hash":12,"./sha1":14,"./sha256":15,buffer:3}],14:[function(a,b){b.exports=function(b,c){function d(){return p.length?p.pop().init():this instanceof d?(this._w=o,c.call(this,64,56),this._h=null,void this.init()):new d}function e(a,b,c,d){return 20>a?b&c|~b&d:40>a?b^c^d:60>a?b&c|b&d|c&d:b^c^d}function f(a){return 20>a?1518500249:40>a?1859775393:60>a?-1894007588:-899497514}function g(a,b){return a+b|0}function h(a,b){return a<<b|a>>>32-b}var i=a("util").inherits;i(d,c);var j=0,k=4,l=8,m=12,n=16,o=new Int32Array(80),p=[];return d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,c.prototype.init.call(this),this},d.prototype._POOL=p,new b(1)instanceof DataView,d.prototype._update=function(){var a,b,c,d,i,j,k,l,m,n,o=this._block;this._h,a=j=this._a,b=k=this._b,c=l=this._c,d=m=this._d,i=n=this._e;for(var p=this._w,q=0;80>q;q++){var r=p[q]=16>q?o.readInt32BE(4*q):h(p[q-3]^p[q-8]^p[q-14]^p[q-16],1),s=g(g(h(a,5),e(q,b,c,d)),g(g(i,r),f(q)));i=d,d=c,c=h(b,30),b=a,a=s}this._a=g(a,j),this._b=g(b,k),this._c=g(c,l),this._d=g(d,m),this._e=g(i,n)},d.prototype._hash=function(){p.length<100&&p.push(this);var a=new b(20);return a.writeInt32BE(0|this._a,j),a.writeInt32BE(0|this._b,k),a.writeInt32BE(0|this._c,l),a.writeInt32BE(0|this._d,m),a.writeInt32BE(0|this._e,n),a},d}},{util:49}],15:[function(a,b){var c=a("util").inherits;a("./util"),b.exports=function(a,b){function d(){o.length,this.init(),this._w=n,b.call(this,64,56)}function e(a,b){return a>>>b|a<<32-b}function f(a,b){return a>>>b}function g(a,b,c){return a&b^~a&c}function h(a,b,c){return a&b^a&c^b&c}function i(a){return e(a,2)^e(a,13)^e(a,22)}function j(a){return e(a,6)^e(a,11)^e(a,25)}function k(a){return e(a,7)^e(a,18)^f(a,3)}function l(a){return e(a,17)^e(a,19)^f(a,10)}var m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];c(d,b);var n=new Array(64),o=[];return d.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._len=this._s=0,this},d.prototype._update=function(){var a,b,c,d,e,f,n,o,p,q,r=this._block,s=this._w;a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,f=0|this._f,n=0|this._g,o=0|this._h;for(var t=0;64>t;t++){var u=s[t]=16>t?r.readInt32BE(4*t):l(s[t-2])+s[t-7]+k(s[t-15])+s[t-16];p=o+j(e)+g(e,f,n)+m[t]+u,q=i(a)+h(a,b,c),o=n,n=f,f=e,e=d+p,d=c,c=b,b=a,a=p+q}this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0,this._f=f+this._f|0,this._g=n+this._g|0,this._h=o+this._h|0},d.prototype._hash=function(){o.length<10&&o.push(this);var b=new a(32);return b.writeInt32BE(this._a,0),b.writeInt32BE(this._b,4),b.writeInt32BE(this._c,8),b.writeInt32BE(this._d,12),b.writeInt32BE(this._e,16),b.writeInt32BE(this._f,20),b.writeInt32BE(this._g,24),b.writeInt32BE(this._h,28),b},d}},{"./util":16,util:49}],16:[function(a,b,c){function d(a,b,c,d,e,f){var g=f-e;if("ascii"===c||"binary"===c)for(var h=0;g>h;h++)a[d+h]=b.charCodeAt(h+e);else if(null==c)for(var h=0;g>h;h++)a[d+h]=b[h+e];else{if("hex"!==c)throw new Error("base64"===c?"base64 encoding not yet supported":c+" encoding not yet supported");for(var h=0;g>h;h++){var i=e+h;a[d+h]=parseInt(b[2*i]+b[2*i+1],16)}}}function e(a,b){for(var c=b;c<a.length;c++)a[c]=0}c.write=d,c.zeroFill=e,c.toString=toString},{}],17:[function(a,b){(function(a){var c=64,d=new a(c);d.fill(0),b.exports=function(b,e){return e=e||{},e.pbkdf2=function(a,b,c,d,f){if("function"!=typeof f)throw new Error("No callback provided to pbkdf2");setTimeout(function(){f(null,e.pbkdf2Sync(a,b,c,d))})},e.pbkdf2Sync=function(e,f,g,h){if("number"!=typeof g)throw new TypeError("Iterations not a number");if(0>g)throw new TypeError("Bad iterations");if("number"!=typeof h)throw new TypeError("Key length not a number");if(0>h)throw new TypeError("Bad key length");var e=a.isBuffer(e)?e:new a(e);e.length>c?e=createHash(alg).update(e).digest():e.length<c&&(e=a.concat([e,d],c));var i,j,k,l=0,m=1,n=new a(4),o=new a(h);for(o.fill(0);h;){j=h>20?20:h,n[0]=m>>24&255,n[1]=m>>16&255,n[2]=m>>8&255,n[3]=255&m,i=b("sha1",e),i.update(f),i.update(n),k=i.digest(),k.copy(o,l,0,j);for(var p=1;g>p;p++){i=b("sha1",e),i.update(k),k=i.digest();for(var q=0;j>q;q++)o[q]^=k[q]}h-=j,m++,l+=j}return o},e}}).call(this,a("buffer").Buffer)},{buffer:3}],18:[function(a,b){(function(a){!function(){var c,d,e=this;c=function(b){for(var c,c,d=new a(b),e=0;b>e;e++)0==(3&e)&&(c=4294967296*Math.random()),d[e]=c>>>((3&e)<<3)&255;return d},e.crypto&&crypto.getRandomValues&&(d=function(b){var c=new a(b);return crypto.getRandomValues(c),c}),b.exports=d||c}()}).call(this,a("buffer").Buffer)},{buffer:3}],19:[function(a,b){function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function d(a){return"function"==typeof a}function e(a){return"number"==typeof a}function f(a){return"object"==typeof a&&null!==a}function g(a){return void 0===a}b.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0,c.defaultMaxListeners=10,c.prototype.setMaxListeners=function(a){if(!e(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},c.prototype.emit=function(a){var b,c,e,h,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||f(this._events.error)&&!this._events.error.length))throw b=arguments[1],b instanceof Error?b:TypeError('Uncaught, unspecified "error" event.');if(c=this._events[a],g(c))return!1;if(d(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(e=arguments.length,h=new Array(e-1),i=1;e>i;i++)h[i-1]=arguments[i];c.apply(this,h)}else if(f(c)){for(e=arguments.length,h=new Array(e-1),i=1;e>i;i++)h[i-1]=arguments[i];for(j=c.slice(),e=j.length,i=0;e>i;i++)j[i].apply(this,h)}return!0},c.prototype.addListener=function(a,b){var e;if(!d(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,d(b.listener)?b.listener:b),this._events[a]?f(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,f(this._events[a])&&!this._events[a].warned){var e;e=g(this._maxListeners)?c.defaultMaxListeners:this._maxListeners,e&&e>0&&this._events[a].length>e&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},c.prototype.on=c.prototype.addListener,c.prototype.once=function(a,b){function c(){this.removeListener(a,c),e||(e=!0,b.apply(this,arguments))}if(!d(b))throw TypeError("listener must be a function");var e=!1;return c.listener=b,this.on(a,c),this},c.prototype.removeListener=function(a,b){var c,e,g,h;if(!d(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],g=c.length,e=-1,c===b||d(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(f(c)){for(h=g;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){e=h;break}if(0>e)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(e,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},c.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],d(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},c.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?d(this._events[a])?[this._events[a]]:this._events[a].slice():[]},c.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?d(a._events[b])?1:a._events[b].length:0}},{}],20:[function(a,b){var c=b.exports,d=(a("events").EventEmitter,a("./lib/request")),e=a("url");c.request=function(a,b){"string"==typeof a&&(a=e.parse(a)),a||(a={}),a.host||a.port||(a.port=parseInt(window.location.port,10)),!a.host&&a.hostname&&(a.host=a.hostname),a.scheme||(a.scheme=window.location.protocol.split(":")[0]),a.host||(a.host=window.location.hostname||window.location.host),/:/.test(a.host)&&(a.port||(a.port=a.host.split(":")[1]),a.host=a.host.split(":")[0]),a.port||(a.port="https"==a.scheme?443:80);var c=new d(new f,a);return b&&c.on("response",b),c},c.get=function(a,b){a.method="GET";var d=c.request(a,b);return d.end(),d},c.Agent=function(){},c.Agent.defaultMaxSockets=4;var f=function(){if("undefined"==typeof window)throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){for(var a=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],b=0;b<a.length;b++)try{var c=new window.ActiveXObject(a[b]);return function(){if(c){var d=c;return c=null,d}return new window.ActiveXObject(a[b])}}catch(d){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}();c.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{"./lib/request":21,events:19,url:47}],21:[function(a,b){var c=a("stream"),d=a("./response"),e=a("Base64"),f=a("inherits"),g=b.exports=function(a,b){var c=this;c.writable=!0,c.xhr=a,c.body=[],c.uri=(b.scheme||"http")+"://"+b.host+(b.port?":"+b.port:"")+(b.path||"/"),"undefined"==typeof b.withCredentials&&(b.withCredentials=!0);try{a.withCredentials=b.withCredentials}catch(f){}if(b.responseType)try{a.responseType=b.responseType}catch(f){}if(a.open(b.method||"GET",c.uri,!0),c._headers={},b.headers)for(var g=h(b.headers),i=0;i<g.length;i++){var j=g[i];if(c.isSafeRequestHeader(j)){var k=b.headers[j];c.setHeader(j,k)}}b.auth&&this.setHeader("Authorization","Basic "+e.btoa(b.auth));var l=new d;l.on("close",function(){c.emit("close")}),l.on("ready",function(){c.emit("response",l)}),a.onreadystatechange=function(){a.__aborted||l.handle(a)}};f(g,c),g.prototype.setHeader=function(a,b){this._headers[a.toLowerCase()]=b},g.prototype.getHeader=function(a){return this._headers[a.toLowerCase()]},g.prototype.removeHeader=function(a){delete this._headers[a.toLowerCase()]},g.prototype.write=function(a){this.body.push(a)},g.prototype.destroy=function(){this.xhr.__aborted=!0,this.xhr.abort(),this.emit("close")},g.prototype.end=function(a){void 0!==a&&this.body.push(a);for(var b=h(this._headers),c=0;c<b.length;c++){var d=b[c],e=this._headers[d];if(i(e))for(var f=0;f<e.length;f++)this.xhr.setRequestHeader(d,e[f]);else this.xhr.setRequestHeader(d,e)}if(0===this.body.length)this.xhr.send("");else if("string"==typeof this.body[0])this.xhr.send(this.body.join(""));else if(i(this.body[0])){for(var g=[],c=0;c<this.body.length;c++)g.push.apply(g,this.body[c]);this.xhr.send(g)}else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){for(var j=0,c=0;c<this.body.length;c++)j+=this.body[c].length;for(var g=new this.body[0].constructor(j),k=0,c=0;c<this.body.length;c++)for(var l=this.body[c],f=0;f<l.length;f++)g[k++]=l[f];this.xhr.send(g)}else{for(var g="",c=0;c<this.body.length;c++)g+=this.body[c].toString();this.xhr.send(g)}},g.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],g.prototype.isSafeRequestHeader=function(a){return a?-1===j(g.unsafeHeaders,a.toLowerCase()):!1};var h=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b},i=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},j=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1}},{"./response":22,Base64:23,inherits:25,stream:45}],22:[function(a,b){function c(a){for(var b=a.getAllResponseHeaders().split(/\r?\n/),c={},d=0;d<b.length;d++){var e=b[d];if(""!==e){var f=e.match(/^([^:]+):\s*(.*)/);if(f){var g=f[1].toLowerCase(),i=f[2];void 0!==c[g]?h(c[g])?c[g].push(i):c[g]=[c[g],i]:c[g]=i}else c[e]=!0}}return c}var d=a("stream"),e=a("util"),f=b.exports=function(){this.offset=0,this.readable=!0};e.inherits(f,d);var g={streaming:!0,status2:!0};f.prototype.getResponse=function(a){var b=String(a.responseType).toLowerCase();return"blob"===b?a.responseBlob||a.response:"arraybuffer"===b?a.response:a.responseText},f.prototype.getHeader=function(a){return this.headers[a.toLowerCase()]},f.prototype.handle=function(a){if(2===a.readyState&&g.status2){try{this.statusCode=a.status,this.headers=c(a)}catch(b){g.status2=!1}g.status2&&this.emit("ready")}else if(g.streaming&&3===a.readyState){try{this.statusCode||(this.statusCode=a.status,this.headers=c(a),this.emit("ready"))}catch(b){}try{this._emitData(a)}catch(b){g.streaming=!1}}else 4===a.readyState&&(this.statusCode||(this.statusCode=a.status,this.emit("ready")),this._emitData(a),a.error?this.emit("error",this.getResponse(a)):this.emit("end"),this.emit("close"))},f.prototype._emitData=function(a){var b=this.getResponse(a);return b.toString().match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(b,this.offset)),void(this.offset=b.byteLength)):void(b.length>this.offset&&(this.emit("data",b.slice(this.offset)),this.offset=b.length))};var h=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{stream:45,util:49}],23:[function(a,b,c){!function(){function a(a){this.message=a}var b="undefined"!=typeof c?c:this,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.prototype=new Error,a.prototype.name="InvalidCharacterError",b.btoa||(b.btoa=function(b){for(var c,e,f=0,g=d,h="";b.charAt(0|f)||(g="=",f%1);h+=g.charAt(63&c>>8-f%1*8)){if(e=b.charCodeAt(f+=.75),e>255)throw new a("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");c=c<<8|e}return h}),b.atob||(b.atob=function(b){if(b=b.replace(/=+$/,""),b.length%4==1)throw new a("'atob' failed: The string to be decoded is not correctly encoded.");for(var c,e,f=0,g=0,h="";e=b.charAt(g++);~e&&(c=f%4?64*c+e:e,f++%4)?h+=String.fromCharCode(255&c>>(-2*f&6)):0)e=d.indexOf(e);return h})}()},{}],24:[function(a,b){var c=a("http"),d=b.exports;for(var e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);d.request=function(a,b){return a||(a={}),a.scheme="https",c.request.call(this,a,b)}},{http:20}],25:[function(a,b){b.exports="function"==typeof Object.create?function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],26:[function(a,b,c){(function(a){function b(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function d(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,f=function(a){return e.exec(a).slice(1)};c.resolve=function(){for(var c="",e=!1,f=arguments.length-1;f>=-1&&!e;f--){var g=f>=0?arguments[f]:a.cwd();if("string"!=typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(c=g+"/"+c,e="/"===g.charAt(0))}return c=b(d(c.split("/"),function(a){return!!a}),!e).join("/"),(e?"/":"")+c||"."},c.normalize=function(a){var e=c.isAbsolute(a),f="/"===g(a,-1);return a=b(d(a.split("/"),function(a){return!!a}),!e).join("/"),a||e||(a="."),a&&f&&(a+="/"),(e?"/":"")+a},c.isAbsolute=function(a){return"/"===a.charAt(0)},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(d(a,function(a){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},c.relative=function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=c.resolve(a).substr(1),b=c.resolve(b).substr(1);for(var e=d(a.split("/")),f=d(b.split("/")),g=Math.min(e.length,f.length),h=g,i=0;g>i;i++)if(e[i]!==f[i]){h=i;break}for(var j=[],i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")},c.sep="/",c.delimiter=":",c.dirname=function(a){var b=f(a),c=b[0],d=b[1];return c||d?(d&&(d=d.substr(0,d.length-1)),c+d):"."},c.basename=function(a,b){var c=f(a)[2];return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return f(a)[3]};var g="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){return 0>b&&(b=a.length+b),a.substr(b,c)}}).call(this,a("mBgmHg"))},{mBgmHg:27}],27:[function(a,b){function c(){}var d=b.exports={};d.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),d.title="browser",d.browser=!0,d.env={},d.argv=[],d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")}},{}],28:[function(a,b,c){(function(a){!function(d){function e(a){throw RangeError(H[a])}function f(a,b){for(var c=a.length;c--;)a[c]=b(a[c]);return a}function g(a,b){return f(a.split(G),b).join(".")}function h(a){for(var b,c,d=[],e=0,f=a.length;f>e;)b=a.charCodeAt(e++),b>=55296&&56319>=b&&f>e?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function i(a){return f(a,function(a){var b="";return a>65535&&(a-=65536,b+=K(a>>>10&1023|55296),a=56320|1023&a),b+=K(a)}).join("")}function j(a){return 10>a-48?a-22:26>a-65?a-65:26>a-97?a-97:w}function k(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function l(a,b,c){var d=0;for(a=c?J(a/A):a>>1,a+=J(a/b);a>I*y>>1;d+=w)a=J(a/I);return J(d+(I+1)*a/(a+z))}function m(a){var b,c,d,f,g,h,k,m,n,o,p=[],q=a.length,r=0,s=C,t=B;for(c=a.lastIndexOf(D),0>c&&(c=0),d=0;c>d;++d)a.charCodeAt(d)>=128&&e("not-basic"),p.push(a.charCodeAt(d));for(f=c>0?c+1:0;q>f;){for(g=r,h=1,k=w;f>=q&&e("invalid-input"),m=j(a.charCodeAt(f++)),(m>=w||m>J((v-r)/h))&&e("overflow"),r+=m*h,n=t>=k?x:k>=t+y?y:k-t,!(n>m);k+=w)o=w-n,h>J(v/o)&&e("overflow"),h*=o;b=p.length+1,t=l(r-g,b,0==g),J(r/b)>v-s&&e("overflow"),s+=J(r/b),r%=b,p.splice(r++,0,s)}return i(p)}function n(a){var b,c,d,f,g,i,j,m,n,o,p,q,r,s,t,u=[];for(a=h(a),q=a.length,b=C,c=0,g=B,i=0;q>i;++i)p=a[i],128>p&&u.push(K(p));for(d=f=u.length,f&&u.push(D);q>d;){for(j=v,i=0;q>i;++i)p=a[i],p>=b&&j>p&&(j=p);for(r=d+1,j-b>J((v-c)/r)&&e("overflow"),c+=(j-b)*r,b=j,i=0;q>i;++i)if(p=a[i],b>p&&++c>v&&e("overflow"),p==b){for(m=c,n=w;o=g>=n?x:n>=g+y?y:n-g,!(o>m);n+=w)t=m-o,s=w-o,u.push(K(k(o+t%s,0))),m=J(t/s);u.push(K(k(m,0))),g=l(c,r,d==f),c=0,++d}++c,++b}return u.join("")}function o(a){return g(a,function(a){return E.test(a)?m(a.slice(4).toLowerCase()):a})}function p(a){return g(a,function(a){return F.test(a)?"xn--"+n(a):a})}var q="object"==typeof c&&c,r="object"==typeof b&&b&&b.exports==q&&b,s="object"==typeof a&&a;(s.global===s||s.window===s)&&(d=s);var t,u,v=2147483647,w=36,x=1,y=26,z=38,A=700,B=72,C=128,D="-",E=/^xn--/,F=/[^ -~]/,G=/\x2E|\u3002|\uFF0E|\uFF61/g,H={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=w-x,J=Math.floor,K=String.fromCharCode;if(t={version:"1.2.4",ucs2:{decode:h,encode:i},decode:m,encode:n,toASCII:p,toUnicode:o},q&&!q.nodeType)if(r)r.exports=t;else for(u in t)t.hasOwnProperty(u)&&(q[u]=t[u]);else d.punycode=t}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],29:[function(a,b){"use strict";function c(a,b){return Object.prototype.hasOwnProperty.call(a,b)}b.exports=function(a,b,e,f){b=b||"&",e=e||"=";var g={};if("string"!=typeof a||0===a.length)return g;var h=/\+/g;a=a.split(b);var i=1e3;f&&"number"==typeof f.maxKeys&&(i=f.maxKeys);var j=a.length;i>0&&j>i&&(j=i);for(var k=0;j>k;++k){var l,m,n,o,p=a[k].replace(h,"%20"),q=p.indexOf(e);q>=0?(l=p.substr(0,q),m=p.substr(q+1)):(l=p,m=""),n=decodeURIComponent(l),o=decodeURIComponent(m),c(g,n)?d(g[n])?g[n].push(o):g[n]=[g[n],o]:g[n]=o}return g};var d=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{}],30:[function(a,b){"use strict";function c(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}var d=function(a){switch(typeof a){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}};b.exports=function(a,b,g,h){return b=b||"&",g=g||"=",null===a&&(a=void 0),"object"==typeof a?c(f(a),function(f){var h=encodeURIComponent(d(f))+g;return e(a[f])?c(a[f],function(a){return h+encodeURIComponent(d(a))}).join(b):h+encodeURIComponent(d(a[f]))}).join(b):h?encodeURIComponent(d(h))+g+encodeURIComponent(d(a)):""};var e=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},f=Object.keys||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},{}],31:[function(a,b,c){"use strict";c.decode=c.parse=a("./decode"),c.encode=c.stringify=a("./encode")},{"./decode":29,"./encode":30}],32:[function(a,b){b.exports=a("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":33}],33:[function(a,b){(function(c){function d(a){return this instanceof d?(i.call(this,a),j.call(this,a),a&&a.readable===!1&&(this.readable=!1),a&&a.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,a&&a.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",e)):new d(a)}function e(){this.allowHalfOpen||this._writableState.ended||c.nextTick(this.end.bind(this))}function f(a,b){for(var c=0,d=a.length;d>c;c++)b(a[c],c)}b.exports=d;var g=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b},h=a("core-util-is");h.inherits=a("inherits");var i=a("./_stream_readable"),j=a("./_stream_writable");h.inherits(d,i),f(g(j.prototype),function(a){d.prototype[a]||(d.prototype[a]=j.prototype[a])})}).call(this,a("mBgmHg"))},{"./_stream_readable":35,"./_stream_writable":37,"core-util-is":38,inherits:25,mBgmHg:27}],34:[function(a,b){function c(a){return this instanceof c?void d.call(this,a):new c(a)
}b.exports=c;var d=a("./_stream_transform"),e=a("core-util-is");e.inherits=a("inherits"),e.inherits(c,d),c.prototype._transform=function(a,b,c){c(null,a)}},{"./_stream_transform":36,"core-util-is":38,inherits:25}],35:[function(a,b){(function(c){function d(b){b=b||{};var c=b.highWaterMark;this.highWaterMark=c||0===c?c:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!b.objectMode,this.defaultEncoding=b.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,b.encoding&&(C||(C=a("string_decoder/").StringDecoder),this.decoder=new C(b.encoding),this.encoding=b.encoding)}function e(a){return this instanceof e?(this._readableState=new d(a,this),this.readable=!0,void A.call(this)):new e(a)}function f(a,b,c,d,e){var f=j(b,c);if(f)a.emit("error",f);else if(null===c||void 0===c)b.reading=!1,b.ended||k(a,b);else if(b.objectMode||c&&c.length>0)if(b.ended&&!e){var h=new Error("stream.push() after EOF");a.emit("error",h)}else if(b.endEmitted&&e){var h=new Error("stream.unshift() after end event");a.emit("error",h)}else!b.decoder||e||d||(c=b.decoder.write(c)),b.length+=b.objectMode?1:c.length,e?b.buffer.unshift(c):(b.reading=!1,b.buffer.push(c)),b.needReadable&&l(a),n(a,b);else e||(b.reading=!1);return g(b)}function g(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function h(a){if(a>=D)a=D;else{a--;for(var b=1;32>b;b<<=1)a|=a>>b;a++}return a}function i(a,b){return 0===b.length&&b.ended?0:b.objectMode?0===a?0:1:isNaN(a)||null===a?b.flowing&&b.buffer.length?b.buffer[0].length:b.length:0>=a?0:(a>b.highWaterMark&&(b.highWaterMark=h(a)),a>b.length?b.ended?b.length:(b.needReadable=!0,0):a)}function j(a,b){var c=null;return y.isBuffer(b)||"string"==typeof b||null===b||void 0===b||a.objectMode||c||(c=new TypeError("Invalid non-string/buffer chunk")),c}function k(a,b){if(b.decoder&&!b.ended){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,b.length>0?l(a):u(a)}function l(a){var b=a._readableState;b.needReadable=!1,b.emittedReadable||(b.emittedReadable=!0,b.sync?c.nextTick(function(){m(a)}):m(a))}function m(a){a.emit("readable")}function n(a,b){b.readingMore||(b.readingMore=!0,c.nextTick(function(){o(a,b)}))}function o(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function p(a){return function(){var b=a._readableState;b.awaitDrain--,0===b.awaitDrain&&q(a)}}function q(a){function b(a){var b=a.write(c);!1===b&&d.awaitDrain++}var c,d=a._readableState;for(d.awaitDrain=0;d.pipesCount&&null!==(c=a.read());)if(1===d.pipesCount?b(d.pipes,0,null):v(d.pipes,b),a.emit("data",c),d.awaitDrain>0)return;return 0===d.pipesCount?(d.flowing=!1,void(z.listenerCount(a,"data")>0&&s(a))):void(d.ranOut=!0)}function r(){this._readableState.ranOut&&(this._readableState.ranOut=!1,q(this))}function s(a,b){var d=a._readableState;if(d.flowing)throw new Error("Cannot switch to old mode now.");var e=b||!1,f=!1;a.readable=!0,a.pipe=A.prototype.pipe,a.on=a.addListener=A.prototype.on,a.on("readable",function(){f=!0;for(var b;!e&&null!==(b=a.read());)a.emit("data",b);null===b&&(f=!1,a._readableState.needReadable=!0)}),a.pause=function(){e=!0,this.emit("pause")},a.resume=function(){e=!1,f?c.nextTick(function(){a.emit("readable")}):this.read(0),this.emit("resume")},a.emit("readable")}function t(a,b){var c,d=b.buffer,e=b.length,f=!!b.decoder,g=!!b.objectMode;if(0===d.length)return null;if(0===e)c=null;else if(g)c=d.shift();else if(!a||a>=e)c=f?d.join(""):y.concat(d,e),d.length=0;else if(a<d[0].length){var h=d[0];c=h.slice(0,a),d[0]=h.slice(a)}else if(a===d[0].length)c=d.shift();else{c=f?"":new y(a);for(var i=0,j=0,k=d.length;k>j&&a>i;j++){var h=d[0],l=Math.min(a-i,h.length);f?c+=h.slice(0,l):h.copy(c,i,0,l),l<h.length?d[0]=h.slice(l):d.shift(),i+=l}}return c}function u(a){var b=a._readableState;if(b.length>0)throw new Error("endReadable called on non-empty stream");!b.endEmitted&&b.calledRead&&(b.ended=!0,c.nextTick(function(){b.endEmitted||0!==b.length||(b.endEmitted=!0,a.readable=!1,a.emit("end"))}))}function v(a,b){for(var c=0,d=a.length;d>c;c++)b(a[c],c)}function w(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}b.exports=e;var x=a("isarray"),y=a("buffer").Buffer;e.ReadableState=d;var z=a("events").EventEmitter;z.listenerCount||(z.listenerCount=function(a,b){return a.listeners(b).length});var A=a("stream"),B=a("core-util-is");B.inherits=a("inherits");var C;B.inherits(e,A),e.prototype.push=function(a,b){var c=this._readableState;return"string"!=typeof a||c.objectMode||(b=b||c.defaultEncoding,b!==c.encoding&&(a=new y(a,b),b="")),f(this,c,a,b,!1)},e.prototype.unshift=function(a){var b=this._readableState;return f(this,b,a,"",!0)},e.prototype.setEncoding=function(b){C||(C=a("string_decoder/").StringDecoder),this._readableState.decoder=new C(b),this._readableState.encoding=b};var D=8388608;e.prototype.read=function(a){var b=this._readableState;b.calledRead=!0;var c=a;if(("number"!=typeof a||a>0)&&(b.emittedReadable=!1),0===a&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return l(this),null;if(a=i(a,b),0===a&&b.ended)return 0===b.length&&u(this),null;var d=b.needReadable;b.length-a<=b.highWaterMark&&(d=!0),(b.ended||b.reading)&&(d=!1),d&&(b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1),d&&!b.reading&&(a=i(c,b));var e;return e=a>0?t(a,b):null,null===e&&(b.needReadable=!0,a=0),b.length-=a,0!==b.length||b.ended||(b.needReadable=!0),b.ended&&!b.endEmitted&&0===b.length&&u(this),e},e.prototype._read=function(){this.emit("error",new Error("not implemented"))},e.prototype.pipe=function(a,b){function d(a){a===k&&f()}function e(){a.end()}function f(){a.removeListener("close",h),a.removeListener("finish",i),a.removeListener("drain",o),a.removeListener("error",g),a.removeListener("unpipe",d),k.removeListener("end",e),k.removeListener("end",f),(!a._writableState||a._writableState.needDrain)&&o()}function g(b){j(),a.removeListener("error",g),0===z.listenerCount(a,"error")&&a.emit("error",b)}function h(){a.removeListener("finish",i),j()}function i(){a.removeListener("close",h),j()}function j(){k.unpipe(a)}var k=this,l=this._readableState;switch(l.pipesCount){case 0:l.pipes=a;break;case 1:l.pipes=[l.pipes,a];break;default:l.pipes.push(a)}l.pipesCount+=1;var m=(!b||b.end!==!1)&&a!==c.stdout&&a!==c.stderr,n=m?e:f;l.endEmitted?c.nextTick(n):k.once("end",n),a.on("unpipe",d);var o=p(k);return a.on("drain",o),a._events&&a._events.error?x(a._events.error)?a._events.error.unshift(g):a._events.error=[g,a._events.error]:a.on("error",g),a.once("close",h),a.once("finish",i),a.emit("pipe",k),l.flowing||(this.on("readable",r),l.flowing=!0,c.nextTick(function(){q(k)})),a},e.prototype.unpipe=function(a){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes?this:(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,this.removeListener("readable",r),b.flowing=!1,a&&a.emit("unpipe",this),this);if(!a){var c=b.pipes,d=b.pipesCount;b.pipes=null,b.pipesCount=0,this.removeListener("readable",r),b.flowing=!1;for(var e=0;d>e;e++)c[e].emit("unpipe",this);return this}var e=w(b.pipes,a);return-1===e?this:(b.pipes.splice(e,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this),this)},e.prototype.on=function(a,b){var c=A.prototype.on.call(this,a,b);if("data"!==a||this._readableState.flowing||s(this),"readable"===a&&this.readable){var d=this._readableState;d.readableListening||(d.readableListening=!0,d.emittedReadable=!1,d.needReadable=!0,d.reading?d.length&&l(this,d):this.read(0))}return c},e.prototype.addListener=e.prototype.on,e.prototype.resume=function(){s(this),this.read(0),this.emit("resume")},e.prototype.pause=function(){s(this,!0),this.emit("pause")},e.prototype.wrap=function(a){var b=this._readableState,c=!1,d=this;a.on("end",function(){if(b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&d.push(a)}d.push(null)}),a.on("data",function(e){if(b.decoder&&(e=b.decoder.write(e)),e&&(b.objectMode||e.length)){var f=d.push(e);f||(c=!0,a.pause())}});for(var e in a)"function"==typeof a[e]&&"undefined"==typeof this[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));var f=["error","close","destroy","pause","resume"];return v(f,function(b){a.on(b,d.emit.bind(d,b))}),d._read=function(){c&&(c=!1,a.resume())},d},e._fromList=t}).call(this,a("mBgmHg"))},{buffer:3,"core-util-is":38,events:19,inherits:25,isarray:39,mBgmHg:27,stream:45,"string_decoder/":40}],36:[function(a,b){function c(a,b){this.afterTransform=function(a,c){return d(b,a,c)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function d(a,b,c){var d=a._transformState;d.transforming=!1;var e=d.writecb;if(!e)return a.emit("error",new Error("no writecb in Transform class"));d.writechunk=null,d.writecb=null,null!==c&&void 0!==c&&a.push(c),e&&e(b);var f=a._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&a._read(f.highWaterMark)}function e(a){if(!(this instanceof e))return new e(a);g.call(this,a);var b=(this._transformState=new c(a,this),this);this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(a){f(b,a)}):f(b)})}function f(a,b){if(b)return a.emit("error",b);var c=a._writableState,d=(a._readableState,a._transformState);if(c.length)throw new Error("calling transform done when ws.length != 0");if(d.transforming)throw new Error("calling transform done when still transforming");return a.push(null)}b.exports=e;var g=a("./_stream_duplex"),h=a("core-util-is");h.inherits=a("inherits"),h.inherits(e,g),e.prototype.push=function(a,b){return this._transformState.needTransform=!1,g.prototype.push.call(this,a,b)},e.prototype._transform=function(){throw new Error("not implemented")},e.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},e.prototype._read=function(){var a=this._transformState;null!==a.writechunk&&a.writecb&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform)):a.needTransform=!0}},{"./_stream_duplex":33,"core-util-is":38,inherits:25}],37:[function(a,b){(function(c){function d(a,b,c){this.chunk=a,this.encoding=b,this.callback=c}function e(a,b){a=a||{};var c=a.highWaterMark;this.highWaterMark=c||0===c?c:16384,this.objectMode=!!a.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var d=a.decodeStrings===!1;this.decodeStrings=!d,this.defaultEncoding=a.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){n(b,a)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function f(b){var c=a("./_stream_duplex");return this instanceof f||this instanceof c?(this._writableState=new e(b,this),this.writable=!0,void w.call(this)):new f(b)}function g(a,b,d){var e=new Error("write after end");a.emit("error",e),c.nextTick(function(){d(e)})}function h(a,b,d,e){var f=!0;if(!u.isBuffer(d)&&"string"!=typeof d&&null!==d&&void 0!==d&&!b.objectMode){var g=new TypeError("Invalid non-string/buffer chunk");a.emit("error",g),c.nextTick(function(){e(g)}),f=!1}return f}function i(a,b,c){return a.objectMode||a.decodeStrings===!1||"string"!=typeof b||(b=new u(b,c)),b}function j(a,b,c,e,f){c=i(b,c,e),u.isBuffer(c)&&(e="buffer");var g=b.objectMode?1:c.length;b.length+=g;var h=b.length<b.highWaterMark;return h||(b.needDrain=!0),b.writing?b.buffer.push(new d(c,e,f)):k(a,b,g,c,e,f),h}function k(a,b,c,d,e,f){b.writelen=c,b.writecb=f,b.writing=!0,b.sync=!0,a._write(d,e,b.onwrite),b.sync=!1}function l(a,b,d,e,f){d?c.nextTick(function(){f(e)}):f(e),a._writableState.errorEmitted=!0,a.emit("error",e)}function m(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function n(a,b){var d=a._writableState,e=d.sync,f=d.writecb;if(m(d),b)l(a,d,e,b,f);else{var g=r(a,d);g||d.bufferProcessing||!d.buffer.length||q(a,d),e?c.nextTick(function(){o(a,d,g,f)}):o(a,d,g,f)}}function o(a,b,c,d){c||p(a,b),d(),c&&s(a,b)}function p(a,b){0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function q(a,b){b.bufferProcessing=!0;for(var c=0;c<b.buffer.length;c++){var d=b.buffer[c],e=d.chunk,f=d.encoding,g=d.callback,h=b.objectMode?1:e.length;if(k(a,b,h,e,f,g),b.writing){c++;break}}b.bufferProcessing=!1,c<b.buffer.length?b.buffer=b.buffer.slice(c):b.buffer.length=0}function r(a,b){return b.ending&&0===b.length&&!b.finished&&!b.writing}function s(a,b){var c=r(a,b);return c&&(b.finished=!0,a.emit("finish")),c}function t(a,b,d){b.ending=!0,s(a,b),d&&(b.finished?c.nextTick(d):a.once("finish",d)),b.ended=!0}b.exports=f;var u=a("buffer").Buffer;f.WritableState=e;var v=a("core-util-is");v.inherits=a("inherits");var w=a("stream");v.inherits(f,w),f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},f.prototype.write=function(a,b,c){var d=this._writableState,e=!1;return"function"==typeof b&&(c=b,b=null),u.isBuffer(a)?b="buffer":b||(b=d.defaultEncoding),"function"!=typeof c&&(c=function(){}),d.ended?g(this,d,c):h(this,d,a,c)&&(e=j(this,d,a,b,c)),e},f.prototype._write=function(a,b,c){c(new Error("not implemented"))},f.prototype.end=function(a,b,c){var d=this._writableState;"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),"undefined"!=typeof a&&null!==a&&this.write(a,b),d.ending||d.finished||t(this,d,c)}}).call(this,a("mBgmHg"))},{"./_stream_duplex":33,buffer:3,"core-util-is":38,inherits:25,mBgmHg:27,stream:45}],38:[function(a,b,c){(function(a){function b(a){return Array.isArray(a)}function d(a){return"boolean"==typeof a}function e(a){return null===a}function f(a){return null==a}function g(a){return"number"==typeof a}function h(a){return"string"==typeof a}function i(a){return"symbol"==typeof a}function j(a){return void 0===a}function k(a){return l(a)&&"[object RegExp]"===r(a)}function l(a){return"object"==typeof a&&null!==a}function m(a){return l(a)&&"[object Date]"===r(a)}function n(a){return l(a)&&("[object Error]"===r(a)||a instanceof Error)}function o(a){return"function"==typeof a}function p(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function q(b){return a.isBuffer(b)}function r(a){return Object.prototype.toString.call(a)}c.isArray=b,c.isBoolean=d,c.isNull=e,c.isNullOrUndefined=f,c.isNumber=g,c.isString=h,c.isSymbol=i,c.isUndefined=j,c.isRegExp=k,c.isObject=l,c.isDate=m,c.isError=n,c.isFunction=o,c.isPrimitive=p,c.isBuffer=q}).call(this,a("buffer").Buffer)},{buffer:3}],39:[function(a,b){b.exports=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)}},{}],40:[function(a,b,c){function d(a){if(a&&!i(a))throw new Error("Unknown encoding: "+a)}function e(a){return a.toString(this.encoding)}function f(a){var b=this.charReceived=a.length%2;return this.charLength=b?2:0,b}function g(a){var b=this.charReceived=a.length%3;return this.charLength=b?3:0,b}var h=a("buffer").Buffer,i=h.isEncoding||function(a){switch(a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},j=c.StringDecoder=function(a){switch(this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,""),d(a),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=f;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=g;break;default:return void(this.write=e)}this.charBuffer=new h(6),this.charReceived=0,this.charLength=0};j.prototype.write=function(a){for(var b="",c=0;this.charLength;){var d=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;if(a.copy(this.charBuffer,this.charReceived,c,d),this.charReceived+=d-c,c=d,this.charReceived<this.charLength)return"";b=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var e=b.charCodeAt(b.length-1);if(!(e>=55296&&56319>=e)){if(this.charReceived=this.charLength=0,d==a.length)return b;a=a.slice(d,a.length);break}this.charLength+=this.surrogateSize,b=""}var f=this.detectIncompleteChar(a),g=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-f,g),this.charReceived=f,g-=f),b+=a.toString(this.encoding,0,g);var g=b.length-1,e=b.charCodeAt(g);if(e>=55296&&56319>=e){var h=this.surrogateSize;return this.charLength+=h,this.charReceived+=h,this.charBuffer.copy(this.charBuffer,h,0,h),this.charBuffer.write(b.charAt(b.length-1),this.encoding),b.substring(0,g)}return b},j.prototype.detectIncompleteChar=function(a){for(var b=a.length>=3?3:a.length;b>0;b--){var c=a[a.length-b];if(1==b&&c>>5==6){this.charLength=2;break}if(2>=b&&c>>4==14){this.charLength=3;break}if(3>=b&&c>>3==30){this.charLength=4;break}}return b},j.prototype.end=function(a){var b="";if(a&&a.length&&(b=this.write(a)),this.charReceived){var c=this.charReceived,d=this.charBuffer,e=this.encoding;b+=d.slice(0,c).toString(e)}return b}},{buffer:3}],41:[function(a,b){b.exports=a("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":34}],42:[function(a,b,c){c=b.exports=a("./lib/_stream_readable.js"),c.Readable=c,c.Writable=a("./lib/_stream_writable.js"),c.Duplex=a("./lib/_stream_duplex.js"),c.Transform=a("./lib/_stream_transform.js"),c.PassThrough=a("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":33,"./lib/_stream_passthrough.js":34,"./lib/_stream_readable.js":35,"./lib/_stream_transform.js":36,"./lib/_stream_writable.js":37}],43:[function(a,b){b.exports=a("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":36}],44:[function(a,b){b.exports=a("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":37}],45:[function(a,b){function c(){d.call(this)}b.exports=c;var d=a("events").EventEmitter,e=a("inherits");e(c,d),c.Readable=a("readable-stream/readable.js"),c.Writable=a("readable-stream/writable.js"),c.Duplex=a("readable-stream/duplex.js"),c.Transform=a("readable-stream/transform.js"),c.PassThrough=a("readable-stream/passthrough.js"),c.Stream=c,c.prototype.pipe=function(a,b){function c(b){a.writable&&!1===a.write(b)&&j.pause&&j.pause()}function e(){j.readable&&j.resume&&j.resume()}function f(){k||(k=!0,a.end())}function g(){k||(k=!0,"function"==typeof a.destroy&&a.destroy())}function h(a){if(i(),0===d.listenerCount(this,"error"))throw a}function i(){j.removeListener("data",c),a.removeListener("drain",e),j.removeListener("end",f),j.removeListener("close",g),j.removeListener("error",h),a.removeListener("error",h),j.removeListener("end",i),j.removeListener("close",i),a.removeListener("close",i)}var j=this;j.on("data",c),a.on("drain",e),a._isStdio||b&&b.end===!1||(j.on("end",f),j.on("close",g));var k=!1;return j.on("error",h),a.on("error",h),j.on("end",i),j.on("close",i),a.on("close",i),a.emit("pipe",j),a}},{events:19,inherits:25,"readable-stream/duplex.js":32,"readable-stream/passthrough.js":41,"readable-stream/readable.js":42,"readable-stream/transform.js":43,"readable-stream/writable.js":44}],46:[function(a,b,c){function d(a){if(a&&!h.isEncoding(a))throw new Error("Unknown encoding: "+a)}function e(a){return a.toString(this.encoding)}function f(a){var b=this.charReceived=a.length%2;return this.charLength=b?2:0,b}function g(a){var b=this.charReceived=a.length%3;return this.charLength=b?3:0,b}var h=a("buffer").Buffer,i=c.StringDecoder=function(a){switch(this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,""),d(a),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=f;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=g;break;default:return void(this.write=e)}this.charBuffer=new h(6),this.charReceived=0,this.charLength=0};i.prototype.write=function(a){for(var b="",c=0;this.charLength;){var d=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;if(a.copy(this.charBuffer,this.charReceived,c,d),this.charReceived+=d-c,c=d,this.charReceived<this.charLength)return"";b=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var e=b.charCodeAt(b.length-1);if(!(e>=55296&&56319>=e)){if(this.charReceived=this.charLength=0,d==a.length)return b;a=a.slice(d,a.length);break}this.charLength+=this.surrogateSize,b=""}var f=this.detectIncompleteChar(a),g=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-f,g),this.charReceived=f,g-=f),b+=a.toString(this.encoding,0,g);var g=b.length-1,e=b.charCodeAt(g);if(e>=55296&&56319>=e){var h=this.surrogateSize;return this.charLength+=h,this.charReceived+=h,this.charBuffer.copy(this.charBuffer,h,0,h),this.charBuffer.write(b.charAt(b.length-1),this.encoding),b.substring(0,g)}return b},i.prototype.detectIncompleteChar=function(a){for(var b=a.length>=3?3:a.length;b>0;b--){var c=a[a.length-b];if(1==b&&c>>5==6){this.charLength=2;break}if(2>=b&&c>>4==14){this.charLength=3;break}if(3>=b&&c>>3==30){this.charLength=4;break}}return b},i.prototype.end=function(a){var b="";if(a&&a.length&&(b=this.write(a)),this.charReceived){var c=this.charReceived,d=this.charBuffer,e=this.encoding;b+=d.slice(0,c).toString(e)}return b}},{buffer:3}],47:[function(a,b,c){function d(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function e(a,b,c){if(a&&j(a)&&a instanceof d)return a;var e=new d;return e.parse(a,b,c),e}function f(a){return i(a)&&(a=e(a)),a instanceof d?a.format():d.prototype.format.call(a)}function g(a,b){return e(a,!1,!0).resolve(b)}function h(a,b){return a?e(a,!1,!0).resolveObject(b):b}function i(a){return"string"==typeof a}function j(a){return"object"==typeof a&&null!==a}function k(a){return null===a}function l(a){return null==a}var m=a("punycode");c.parse=e,c.resolve=g,c.resolveObject=h,c.format=f,c.Url=d;var n=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,p=["<",">",'"',"`"," ","\r","\n","	"],q=["{","}","|","\\","^","`"].concat(p),r=["'"].concat(q),s=["%","/","?",";","#"].concat(r),t=["/","?","#"],u=255,v=/^[a-z0-9A-Z_-]{0,63}$/,w=/^([a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},z={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=a("querystring");d.prototype.parse=function(a,b,c){if(!i(a))throw new TypeError("Parameter 'url' must be a string, not "+typeof a);var d=a;d=d.trim();var e=n.exec(d);if(e){e=e[0];var f=e.toLowerCase();this.protocol=f,d=d.substr(e.length)}if(c||e||d.match(/^\/\/[^@\/]+@[^@\/]+/)){var g="//"===d.substr(0,2);!g||e&&y[e]||(d=d.substr(2),this.slashes=!0)}if(!y[e]&&(g||e&&!z[e])){for(var h=-1,j=0;j<t.length;j++){var k=d.indexOf(t[j]);-1!==k&&(-1===h||h>k)&&(h=k)}var l,o;o=-1===h?d.lastIndexOf("@"):d.lastIndexOf("@",h),-1!==o&&(l=d.slice(0,o),d=d.slice(o+1),this.auth=decodeURIComponent(l)),h=-1;for(var j=0;j<s.length;j++){var k=d.indexOf(s[j]);-1!==k&&(-1===h||h>k)&&(h=k)}-1===h&&(h=d.length),this.host=d.slice(0,h),d=d.slice(h),this.parseHost(),this.hostname=this.hostname||"";var p="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!p)for(var q=this.hostname.split(/\./),j=0,B=q.length;B>j;j++){var C=q[j];if(C&&!C.match(v)){for(var D="",E=0,F=C.length;F>E;E++)D+=C.charCodeAt(E)>127?"x":C[E];if(!D.match(v)){var G=q.slice(0,j),H=q.slice(j+1),I=C.match(w);I&&(G.push(I[1]),H.unshift(I[2])),H.length&&(d="/"+H.join(".")+d),this.hostname=G.join(".");break}}}if(this.hostname=this.hostname.length>u?"":this.hostname.toLowerCase(),!p){for(var J=this.hostname.split("."),K=[],j=0;j<J.length;++j){var L=J[j];K.push(L.match(/[^A-Za-z0-9_-]/)?"xn--"+m.encode(L):L)}this.hostname=K.join(".")}var M=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+M,this.href+=this.host,p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==d[0]&&(d="/"+d))}if(!x[f])for(var j=0,B=r.length;B>j;j++){var O=r[j],P=encodeURIComponent(O);P===O&&(P=escape(O)),d=d.split(O).join(P)}var Q=d.indexOf("#");-1!==Q&&(this.hash=d.substr(Q),d=d.slice(0,Q));var R=d.indexOf("?");if(-1!==R?(this.search=d.substr(R),this.query=d.substr(R+1),b&&(this.query=A.parse(this.query)),d=d.slice(0,R)):b&&(this.search="",this.query={}),d&&(this.pathname=d),z[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var M=this.pathname||"",L=this.search||"";this.path=M+L}return this.href=this.format(),this},d.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var b=this.protocol||"",c=this.pathname||"",d=this.hash||"",e=!1,f="";this.host?e=a+this.host:this.hostname&&(e=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(e+=":"+this.port)),this.query&&j(this.query)&&Object.keys(this.query).length&&(f=A.stringify(this.query));var g=this.search||f&&"?"+f||"";return b&&":"!==b.substr(-1)&&(b+=":"),this.slashes||(!b||z[b])&&e!==!1?(e="//"+(e||""),c&&"/"!==c.charAt(0)&&(c="/"+c)):e||(e=""),d&&"#"!==d.charAt(0)&&(d="#"+d),g&&"?"!==g.charAt(0)&&(g="?"+g),c=c.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),g=g.replace("#","%23"),b+e+c+g+d},d.prototype.resolve=function(a){return this.resolveObject(e(a,!1,!0)).format()},d.prototype.resolveObject=function(a){if(i(a)){var b=new d;b.parse(a,!1,!0),a=b}var c=new d;if(Object.keys(this).forEach(function(a){c[a]=this[a]},this),c.hash=a.hash,""===a.href)return c.href=c.format(),c;if(a.slashes&&!a.protocol)return Object.keys(a).forEach(function(b){"protocol"!==b&&(c[b]=a[b])}),z[c.protocol]&&c.hostname&&!c.pathname&&(c.path=c.pathname="/"),c.href=c.format(),c;if(a.protocol&&a.protocol!==c.protocol){if(!z[a.protocol])return Object.keys(a).forEach(function(b){c[b]=a[b]}),c.href=c.format(),c;if(c.protocol=a.protocol,a.host||y[a.protocol])c.pathname=a.pathname;else{for(var e=(a.pathname||"").split("/");e.length&&!(a.host=e.shift()););a.host||(a.host=""),a.hostname||(a.hostname=""),""!==e[0]&&e.unshift(""),e.length<2&&e.unshift(""),c.pathname=e.join("/")}if(c.search=a.search,c.query=a.query,c.host=a.host||"",c.auth=a.auth,c.hostname=a.hostname||a.host,c.port=a.port,c.pathname||c.search){var f=c.pathname||"",g=c.search||"";c.path=f+g}return c.slashes=c.slashes||a.slashes,c.href=c.format(),c}var h=c.pathname&&"/"===c.pathname.charAt(0),j=a.host||a.pathname&&"/"===a.pathname.charAt(0),m=j||h||c.host&&a.pathname,n=m,o=c.pathname&&c.pathname.split("/")||[],e=a.pathname&&a.pathname.split("/")||[],p=c.protocol&&!z[c.protocol];if(p&&(c.hostname="",c.port=null,c.host&&(""===o[0]?o[0]=c.host:o.unshift(c.host)),c.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===e[0]?e[0]=a.host:e.unshift(a.host)),a.host=null),m=m&&(""===e[0]||""===o[0])),j)c.host=a.host||""===a.host?a.host:c.host,c.hostname=a.hostname||""===a.hostname?a.hostname:c.hostname,c.search=a.search,c.query=a.query,o=e;else if(e.length)o||(o=[]),o.pop(),o=o.concat(e),c.search=a.search,c.query=a.query;else if(!l(a.search)){if(p){c.hostname=c.host=o.shift();var q=c.host&&c.host.indexOf("@")>0?c.host.split("@"):!1;q&&(c.auth=q.shift(),c.host=c.hostname=q.shift())}return c.search=a.search,c.query=a.query,k(c.pathname)&&k(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.href=c.format(),c}if(!o.length)return c.pathname=null,c.path=c.search?"/"+c.search:null,c.href=c.format(),c;for(var r=o.slice(-1)[0],s=(c.host||a.host)&&("."===r||".."===r)||""===r,t=0,u=o.length;u>=0;u--)r=o[u],"."==r?o.splice(u,1):".."===r?(o.splice(u,1),t++):t&&(o.splice(u,1),t--);if(!m&&!n)for(;t--;t)o.unshift("..");!m||""===o[0]||o[0]&&"/"===o[0].charAt(0)||o.unshift(""),s&&"/"!==o.join("/").substr(-1)&&o.push("");var v=""===o[0]||o[0]&&"/"===o[0].charAt(0);if(p){c.hostname=c.host=v?"":o.length?o.shift():"";var q=c.host&&c.host.indexOf("@")>0?c.host.split("@"):!1;q&&(c.auth=q.shift(),c.host=c.hostname=q.shift())}return m=m||c.host&&o.length,m&&!v&&o.unshift(""),o.length?c.pathname=o.join("/"):(c.pathname=null,c.path=null),k(c.pathname)&&k(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.auth=a.auth||c.auth,c.slashes=c.slashes||a.slashes,c.href=c.format(),c},d.prototype.parseHost=function(){var a=this.host,b=o.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length)),a&&(this.hostname=a)}},{punycode:28,querystring:31}],48:[function(a,b){b.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],49:[function(a,b,c){(function(b,d){function e(a,b){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(b)?d.showHidden=b:b&&c._extend(d,b),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a){return a}function h(a){var b={};return a.forEach(function(a){b[a]=!0}),b}function i(a,b,d){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,b);if(f)return f;var g=Object.keys(b),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),z(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(b);if(0===g.length){if(A(b)){var q=b.name?": "+b.name:"";return a.stylize("[Function"+q+"]","special")}if(w(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(y(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return k(b)}var r="",s=!1,u=["{","}"];if(o(b)&&(s=!0,u=["[","]"]),A(b)){var v=b.name?": "+b.name:"";r=" [Function"+v+"]"}if(w(b)&&(r=" "+RegExp.prototype.toString.call(b)),y(b)&&(r=" "+Date.prototype.toUTCString.call(b)),z(b)&&(r=" "+k(b)),0===g.length&&(!s||0==b.length))return u[0]+r+u[1];if(0>d)return w(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var x;return x=s?l(a,b,d,p,g):g.map(function(c){return m(a,b,d,p,c,s)}),a.seen.pop(),n(x,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;h>g;++g)f.push(F(b,String(g))?m(a,b,c,d,String(g),!0):"");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))
}return g+": "+h}function n(a,b,c){var d=0,e=a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0);return e>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function C(a){return Object.prototype.toString.call(a)}function D(a){return 10>a?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var G=/%[sdj%]/g;c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(G,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(b){return"[Circular]"}default:return a}}),h=d[c];f>c;h=d[++c])g+=q(h)||!x(h)?" "+h:" "+e(h);return g},c.deprecate=function(a,e){function f(){if(!g){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation?console.trace(e):console.error(e),g=!0}return a.apply(this,arguments)}if(v(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(b.noDeprecation===!0)return a;var g=!1;return f};var H,I={};c.debuglog=function(a){if(v(H)&&(H=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!I[a])if(new RegExp("\\b"+a+"\\b","i").test(H)){var d=b.pid;I[a]=function(){var b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b)}}else I[a]=function(){};return I[a]},c.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=o,c.isBoolean=p,c.isNull=q,c.isNullOrUndefined=r,c.isNumber=s,c.isString=t,c.isSymbol=u,c.isUndefined=v,c.isRegExp=w,c.isObject=x,c.isDate=y,c.isError=z,c.isFunction=A,c.isPrimitive=B,c.isBuffer=a("./support/isBuffer");var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(){console.log("%s - %s",E(),c.format.apply(c,arguments))},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("mBgmHg"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":48,inherits:25,mBgmHg:27}],50:[function(a){define("dist/mailComposer.min",[],function(){var b=a("mailcomposer").MailComposer;return function(a,c){mailcomposer=new b,mailcomposer.setMessageOption({from:a.from,to:a.to,subject:a.subject,cc:a.cc,bcc:a.bcc,html:a.html}),mailcomposer.buildMessage(function(a,b){c(a,b)})}})},{mailcomposer:51}],51:[function(a,b){(function(c,d){"use strict";function e(a){f.call(this),this.readable=!0,this.options=a||{},this.options.charset=(this.options.charset||"utf-8").toString().trim().toLowerCase(),this.options.identityString=(this.options.identityString||"mailcomposer").toString().trim().replace(/\s/g,"-"),this._lineEnding="\r\n",this._init()}var f=a("stream").Stream,g=a("util"),h=a("mimelib"),i=a("he"),j=a("./topunycode"),k=a("dkim-signer").DKIMSign,l=a("./urlfetch"),m=a("fs"),n=a("mime"),o=a("crypto");b.exports.MailComposer=e,g.inherits(e,f),e.prototype._init=function(){this._headers={},this._message={},this._alternatives=[],this._attachments=[],this._relatedAttachments=[],this._envelope={},this._cacheOutput=!1,this._outputBuffer="",this._dkim=!1,this._currentStream=!1,this._gencounter=0},e.prototype.addHeader=function(a,b,c){a=this._normalizeKey(a),b=b&&"[object Object]"==Object.prototype.toString.call(b)?this._encodeMimeWord(JSON.stringify(b),"Q",52):(b||"").toString().trim(),a&&b&&(c&&(b={formatted:!!c,value:b}),a in this._headers?Array.isArray(this._headers[a])?this._headers[a].push(b):this._headers[a]=[this._headers[a],b]:this._headers[a]=b)},e.prototype.setMessageOption=function(a){var b=["from","to","cc","bcc","replyTo","inReplyTo","references","subject","body","html","envelope"],c={sender:"from",reply_to:"replyTo",text:"body"};a=a||{};for(var d,e,f=Object.keys(a),g=0,h=f.length;h>g;g++)d=f[g],e=a[d],d in c&&(d=c[d]),b.indexOf(d)>=0&&(this._message[d]=this._handleValue(d,e))},e.prototype.useDKIM=function(a){this._dkim=a||{},this._cacheOutput=!0},e.prototype.addAlternative=function(a){a=a||{},a.contentType||(a.contentType="application/octet-stream"),a.contentEncoding||(a.contentEncoding="base64"),a.contents&&this._alternatives.push(a)},e.prototype.addAttachment=function(a){if(a=a||{},a.filename&&(a.fileName=a.filename,delete a.filename),!a.fileName&&a.filePath&&(a.fileName=a.filePath.split(/[\/\\]/).pop()),a.contentType||(a.contentType=n.lookup(a.fileName||a.filePath||"")),a.streamSource){if("function"!=typeof a.streamSource.pause||"function"!=typeof a.streamSource.resume)return;a.streamSource.pause()}(a.filePath||a.contents||a.streamSource)&&this._attachments.push(a)},e.prototype.getEnvelope=function(){var a,b={},c=["to","cc","bcc"];this._envelope.from&&this._envelope.from.length&&(b.from=[].concat(this._envelope.from).shift());for(var d=0,e=c.length;e>d;d++)a=c[d],this._envelope[a]&&this._envelope[a].length&&(b.to||(b.to=[]),b.to=b.to.concat(this._envelope[a]));return b.stamp="Postage paid, Par Avion",b},e.prototype.streamMessage=function(){"function"==typeof setImmediate?setImmediate(this._composeMessage.bind(this)):c.nextTick(this._composeMessage.bind(this))},e.prototype.buildMessage=function(a){var b="",c=!1;this.on("data",function(a){b+=(a||"").toString()}),this.on("error",function(b){c||(c=!0,a(b))}),this.on("end",function(){c||(c=!0,a(null,b))}),this.streamMessage()},e.prototype.resume=function(){this._currentStream&&"function"==typeof this._currentStream.resume&&this._currentStream.resume()},e.prototype.pause=function(){this._currentStream&&"function"==typeof this._currentStream.pause&&this._currentStream.pause()},e.prototype._handleValue=function(a,b){a=(a||"").toString();var c;switch(a){case"from":case"to":case"cc":case"bcc":case"replyTo":return b=(b||"").toString().replace(/\r?\n|\r/g," "),c=[].concat.apply([],[].concat(b).map(h.parseAddresses.bind(h))),this._envelope.userDefined||(this._envelope[a]=[].concat(this._envelope[a]||[]),c.forEach(function(b){[].concat(b.group||b||[]).forEach(function(b){b=b.address,this._hasUTFChars(b)&&(b=j(b)),this._envelope[a].indexOf(b)<0&&this._envelope[a].push(b)}.bind(this))}.bind(this))),this._convertAddresses(c);case"inReplyTo":return b=(b||"").toString().replace(/\s/g,""),"<"!=b.charAt(0)&&(b="<"+b),">"!=b.charAt(b.length-1)&&(b+=">"),b;case"references":return b=[].concat.apply([],[].concat(b||"").map(function(a){return a=(a||"").toString().trim(),a.replace(/<[^>]*>/g,function(a){return a.replace(/\s/g,"")}).split(/\s+/)})).map(function(a){return a=(a||"").toString().trim(),"<"!=a.charAt(0)&&(a="<"+a),">"!=a.charAt(a.length-1)&&(a+=">"),a}),b.join(" ").trim();case"subject":return b=(b||"").toString().replace(/\r?\n|\r/g," "),this._encodeMimeWord(b,"Q",52);case"envelope":this._envelope={userDefined:!0},Object.keys(b).forEach(function(a){this._envelope[a]=[],[].concat(b[a]).forEach(function(b){var c=h.parseAddresses(b);this._envelope[a]=this._envelope[a].concat(c.map(function(a){return this._hasUTFChars(a.address)?j(a.address):a.address}.bind(this)))}.bind(this))}.bind(this))}return b},e.prototype._convertAddresses=function(a){for(var b,c=[],d=0,e=a.length;e>d;d++)b=a[d],b.address&&c.push(this._convertAddress(b)),b.group&&(b.name=b.name||"Recipients",b.name=this._hasUTFChars(b.name)?this._encodeMimeWord(b.name,"Q",52):b.name,c.push(b.name+":"+b.group.map(this._convertAddress.bind(this)).join(", ")+";"));return c.join(", ")},e.prototype._convertAddress=function(a){return a.address=a.address.replace(/^.*?(?=\@)/,function(a){return this._hasUTFChars(a)?h.encodeMimeWord(a,"Q",this.options.charset):a}.bind(this)),this._hasUTFChars(a.address)&&(a.address=j(a.address)),a.name?a.name?(a.name=this._hasUTFChars(a.name)?this._encodePartialMimeWord(a.name,"Q",52):JSON.stringify(a.name),a.name+" <"+a.address+">"):void 0:a.address},e.prototype._getHeader=function(a){var b;switch(a=this._normalizeKey(a),b=[].concat(this._headers[a]||[]).map(function(a){return a&&a.value||a}),b.length){case 0:return"";case 1:return b[0];default:return b}},e.prototype._composeMessage=function(){this.options.forceEmbeddedImages&&this._convertImagesToInline(),this._composeHeader(),this._flattenMimeTree(),this._composeBody()},e.prototype._composeHeader=function(){var a,b,c=[];if(this._message.useRelated=!1,this._message.html&&(b=this._attachments.length))for(a=b-1;a>=0;a--)this._attachments[a].cid&&this._message.html.indexOf("cid:"+this._attachments[a].cid)>=0&&(this._message.useRelated=!0,this._relatedAttachments.unshift(this._attachments[a]),this._attachments.splice(a,1));this._attachments.length?(this._message.useMixed=!0,this._message.mixedBoundary=this._generateBoundary()):this._message.useMixed=!1,[].concat(this._message.body||[]).concat(this._message.html||[]).concat(this._alternatives||[]).length>1?(this._message.useAlternative=!0,this._message.alternativeBoundary=this._generateBoundary()):this._message.useAlternative=!1,this._message.useRelated&&(this._message.relatedBoundary=this._generateBoundary()),this._message.html||this._message.body||(this._message.body=this._lineEnding),this._buildMessageHeaders(),this._generateBodyStructure(),c=this.compileHeaders(this._headers),c.push("MIME-Version: 1.0"),this._cacheOutput?this._outputBuffer+=c.join(this._lineEnding)+this._lineEnding+this._lineEnding:this.emit("data",new d(c.join(this._lineEnding)+this._lineEnding+this._lineEnding,"utf-8"))},e.prototype._buildMessageHeaders=function(){this._message.from&&this._message.from.length&&[].concat(this._message.from).forEach(function(a){this.addHeader("From",a)}.bind(this)),this._message.to&&this._message.to.length&&[].concat(this._message.to).forEach(function(a){this.addHeader("To",a)}.bind(this)),this._message.cc&&this._message.cc.length&&[].concat(this._message.cc).forEach(function(a){this.addHeader("Cc",a)}.bind(this)),this.options.keepBcc&&this._message.bcc&&this._message.bcc.length&&[].concat(this._message.bcc).forEach(function(a){this.addHeader("Bcc",a)}.bind(this)),this._message.replyTo&&this._message.replyTo.length&&[].concat(this._message.replyTo).forEach(function(a){this.addHeader("Reply-To",a)}.bind(this)),this._message.inReplyTo&&this._message.inReplyTo.length&&(this._message.references||"").toString().indexOf(this._message.inReplyTo)<0&&(this._message.references=[].concat(this._message.inReplyTo).concat(this._message.references||[]).join(" ")),this._message.references&&this._message.references.length&&this.addHeader("References",this._message.references),this._message.inReplyTo&&this._message.inReplyTo.length&&this.addHeader("In-Reply-To",this._message.inReplyTo),this._message.subject&&this.addHeader("Subject",this._message.subject)},e.prototype._generateBodyStructure=function(){var a,b,c,d,e=this._createMimeNode();if(this._message.useMixed&&(b=this._createMimeNode(),b.boundary=this._message.mixedBoundary,b.headers.push(["Content-Type",'multipart/mixed; boundary="'+b.boundary+'"']),a?(a.childNodes.push(b),b.parentNode=a):e=b,a=b),this._message.useAlternative&&(b=this._createMimeNode(),b.boundary=this._message.alternativeBoundary,b.headers.push(["Content-Type",'multipart/alternative; boundary="'+b.boundary+'"']),a?(a.childNodes.push(b),b.parentNode=a):e=b,a=b),this._message.body&&(b=this._createTextComponent(this._message.body,"text/plain"),a?(a.childNodes.push(b),b.parentNode=a):e=b),this._message.useRelated&&(b=this._createMimeNode(),b.boundary=this._message.relatedBoundary,b.headers.push(["Content-Type",'multipart/related; boundary="'+b.boundary+'"']),a?(a.childNodes.push(b),b.parentNode=a):e=b,a=b),this._message.html&&(b=this._createTextComponent(this._message.html,"text/html"),a?(a.childNodes.push(b),b.parentNode=a):e=b),this._alternatives&&this._alternatives.length)for(c=0,d=this._alternatives.length;d>c;c++)b=this._createAlternativeComponent(this._alternatives[c]),a?(a.childNodes.push(b),b.parentNode=a):e=b;if(this._relatedAttachments&&this._relatedAttachments.length)for(c=0,d=this._relatedAttachments.length;d>c;c++)b=this._createAttachmentComponent(this._relatedAttachments[c]),b.parentNode=a,a.childNodes.push(b);if(a=e,this._attachments&&this._attachments.length)for(c=0,d=this._attachments.length;d>c;c++)b=this._createAttachmentComponent(this._attachments[c]),b.parentNode=a,a.childNodes.push(b);for(c=0,d=e.headers.length;d>c;c++)this.addHeader(e.headers[c][0],e.headers[c][1]);this._message.tree=e},e.prototype._createTextComponent=function(a,b){var c=this._createMimeNode();return c.contentEncoding=(this.options.encoding||"quoted-printable").toLowerCase().trim(),c.useTextType=!0,b=[b||"text/plain"],b.push("charset="+this.options.charset),["7bit","8bit","binary"].indexOf(c.contentEncoding)>=0&&(c.textFormat="flowed",b.push("format="+c.textFormat)),c.headers.push(["Content-Type",b.join("; ")]),c.headers.push(["Content-Transfer-Encoding",c.contentEncoding]),c.contents=a,c},e.prototype._createAttachmentComponent=function(a){var b,c=this._createMimeNode(),d=[a.contentType],e=[a.contentDisposition||"attachment"];return c.contentEncoding="base64",a.fileName&&(b=this._encodeMimeWord(a.fileName,"Q",1024).replace(/"/g,'\\"'),d.push('name="'+b+'"'),e.push('filename="'+b+'"')),c.headers.push(["Content-Type",d.join("; ")]),c.headers.push(["Content-Disposition",e.join("; ")]),c.headers.push(["Content-Transfer-Encoding",c.contentEncoding]),a.cid&&c.headers.push(["Content-Id","<"+this._encodeMimeWord(a.cid)+">"]),a.contents?c.contents=a.contents:a.filePath?(c.filePath=a.filePath,a.userAgent&&(c.userAgent=a.userAgent)):a.streamSource&&(c.streamSource=a.streamSource),c},e.prototype._createAlternativeComponent=function(a){var b=this._createMimeNode(),c=a.contentType.split(";").map(function(a){return(a||"").trim()});return b.contentEncoding=a.contentEncoding||"base64",["7bit","8bit","binary"].indexOf(b.contentEncoding)>=0&&(b.textFormat="flowed",c.push("format="+b.textFormat)),a.charset&&c.push("charset="+a.charset),a.method&&c.push("method="+a.method),b.headers.push(["Content-Type",c.join("; ")]),b.headers.push(["Content-Transfer-Encoding",b.contentEncoding]),b.contents=a.contents,b},e.prototype._createMimeNode=function(){return{childNodes:[],headers:[],parentNode:null}},e.prototype.compileHeaders=function(a){var b=[];return Array.isArray(a)?b=a.map(function(a){var b=this._normalizeKey(a.key||a[0]),c=a.value||a[1];return"string"==typeof c&&(c={formatted:!1,value:c}),c.formatted?b+": "+c.value:h.foldLine(b+": "+this._sanitizeHeaderValue(c.value),76,!1,!1,52)}.bind(this)):Object.keys(a).forEach(function(c){c=this._normalizeKey(c),b=b.concat([].concat(a[c]).map(function(a){return"string"==typeof a&&(a={formatted:!1,value:a}),a.formatted?c+": "+a.value:h.foldLine(c+": "+this._sanitizeHeaderValue(a.value),76,!1,!1,52)}.bind(this)))}.bind(this)),b},e.prototype._sanitizeHeaderValue=function(a){return a=(a||"").toString().replace(/(\r?\n|\r)\s?/g,"").replace(/%0[ad]/gi,"")},e.prototype._flattenMimeTree=function(){var a=[],b=function(c,d){var e={};d=d||0,d&&(a=a.concat(this.compileHeaders(c.headers)),a.push("")),c.textFormat&&(e.textFormat=c.textFormat),c.contentEncoding&&(e.contentEncoding=c.contentEncoding),c.contents?e.contents=c.contents:c.filePath?(e.filePath=c.filePath,c.userAgent&&(e.userAgent=c.userAgent)):c.streamSource&&(e.streamSource=c.streamSource),(c.contents||c.filePath||c.streamSource)&&a.push(e);for(var f=0,g=c.childNodes.length;g>f;f++)c.boundary&&a.push("--"+c.boundary),b(c.childNodes[f],d+1);c.boundary&&c.childNodes.length&&(a.push("--"+c.boundary+"--"),a.push(""))}.bind(this);b(this._message.tree),a.length&&""===a[a.length-1]&&a.pop(),this._message.flatTree=a},e.prototype._composeBody=function(){var a,b,e=this._message.flatTree,f=!1,g=!1,h=function(a){a?this._cacheOutput?this._processBufferedOutput():this.emit("end"):"function"==typeof setImmediate?setImmediate(this._composeBody.bind(this)):c.nextTick(this._composeBody.bind(this))};this._message.processingStart=this._message.processingStart||0,this._message.processingPos=this._message.processingPos||0;for(var i=e.length;this._message.processingPos<i;this._message.processingPos++)if(g=this._message.processingPos>=i-1,f="object"==typeof e[this._message.processingPos],g||f){a=e.slice(this._message.processingStart,g&&!f?void 0:this._message.processingPos),a&&a.length&&(this._cacheOutput?this._outputBuffer+=a.join(this._lineEnding)+this._lineEnding:this.emit("data",new d(a.join(this._lineEnding)+this._lineEnding,"utf-8"))),f?(b=e[this._message.processingPos],this._message.processingPos++,this._message.processingStart=this._message.processingPos,this._emitDataElement(b,h.bind(this,g))):g&&(this._cacheOutput?this._processBufferedOutput():this.emit("end"));break}},e.prototype._emitDataElement=function(a,b){var e="";if(a.contents){switch(a.contentEncoding){case"quoted-printable":e=h.encodeQuotedPrintable(a.contents,!1,this.options.charset);break;case"base64":e=new d(a.contents,"utf-8").toString("base64").replace(/.{76}/g,"$&\r\n");break;default:e=h.foldLine(a.contents,76,!1,"flowed"==a.textFormat),e=e.replace(/^[ ]{7}/gm,"")}return this.options.escapeSMTP&&(e=e.replace(/^\./gm,"..")),this._cacheOutput?this._outputBuffer+=e+this._lineEnding:this.emit("data",new d(e+this._lineEnding,"utf-8")),void("function"==typeof setImmediate?setImmediate(b):c.nextTick(b))}return a.filePath?void(a.filePath.match(/^https?:\/\//)?this._serveStream(l(a.filePath,{userAgent:a.userAgent}),b):this._serveFile(a.filePath,b)):a.streamSource?void this._serveStream(a.streamSource,b):void b()},e.prototype._serveFile=function(a,b){m.stat(a,function(e,f){if(e||!f.isFile())return this._cacheOutput?this._outputBuffer+=new d("<ERROR OPENING FILE>","utf-8").toString("base64")+this._lineEnding:this.emit("data",new d(new d("<ERROR OPENING FILE>","utf-8").toString("base64")+this._lineEnding,"utf-8")),void("function"==typeof setImmediate?setImmediate(b):c.nextTick(b));var g=m.createReadStream(a);this._serveStream(g,b)}.bind(this))},e.prototype._serveStream=function(a,b){var e=new d(0);this._currentStream=a,a.on("error",function(a){this._cacheOutput?this._outputBuffer+=new d("<ERROR READING STREAM>\n"+a.message,"utf-8").toString("base64")+this._lineEnding:this.emit("data",new d(new d("<ERROR READING STREAM>\n"+a.message,"utf-8").toString("base64")+this._lineEnding,"utf-8")),this._currentStream=!1,"function"==typeof setImmediate?setImmediate(b):c.nextTick(b)}.bind(this)),a.on("data",function(a){var b="",c=e.length+a.length,f=c%57,g=new d(c);e.copy(g),a.copy(g,e.length),e=g.slice(c-f),b=g.slice(0,c-f).toString("base64").replace(/.{76}/g,"$&\r\n"),b.length&&(this._cacheOutput?this._outputBuffer+=b.trim()+this._lineEnding:this.emit("data",new d(b.trim()+this._lineEnding,"utf-8")))}.bind(this)),a.on("end",function(){var a;e.length&&(a=e.toString("base64").replace(/.{76}/g,"$&\r\n"),this._cacheOutput?this._outputBuffer+=a.trim()+this._lineEnding:this.emit("data",new d(a.trim()+this._lineEnding,"utf-8"))),this._currentStream=!1,"function"==typeof setImmediate?setImmediate(b):c.nextTick(b)}.bind(this)),a.resume()},e.prototype._processBufferedOutput=function(){var a;this._dkim&&(a=k(this.options.escapeSMTP?this._outputBuffer.replace(/^\.\./gm,"."):this._outputBuffer,this._dkim))&&this.emit("data",new d(a+this._lineEnding,"utf-8")),this.emit("data",new d(this._outputBuffer,"utf-8")),"function"==typeof setImmediate?setImmediate(this.emit.bind(this,"end")):c.nextTick(this.emit.bind(this,"end"))},e.prototype._normalizeKey=function(a){return a=(a||"").toString().trim(),a.match(/^X\-[A-Z0-9\-]+$/)?a:a.toLowerCase().replace(/^\S|[\-\s]\S/g,function(a){return a.toUpperCase()}).replace(/^MIME\-/i,"MIME-").replace(/^DKIM\-/i,"DKIM-")},e.prototype._hasUTFChars=function(a){var b=/[^\u0000-\u007f]/;return!!b.test(a)},e.prototype._generateBoundary=function(){return"----"+this.options.identityString+"-?=_"+ ++this._gencounter+"-"+Date.now()},e.prototype._encodeMimeWord=function(a,b,c){return h.encodeMimeWords(a,b,c,this.options.charset)},e.prototype._encodePartialMimeWord=function(a,b,c){return a.replace(/[^\s]*[^\s\w\?!*=+-]+[^\s]*(\s+[^\s]*[^\s\w\?!*=+-]+[^\s]*)*/g,function(a){return a.length?h.encodeMimeWord(a,b,this.options.charset,c).replace(/[^\w\s\?!*=+-]/g,function(a){var b=a.charCodeAt(0);return"="+(16>b?"0":"")+b.toString(16).toUpperCase()}):""}.bind(this))},e.prototype._splitEncodedString=function(a,b){for(var c,d,e,f,g=[];a.length;){for(c=a.substr(0,b),(d=c.match(/\=[0-9A-F]?$/i))&&(c=c.substr(0,d.index)),f=!1;!f;)f=!0,(d=a.substr(c.length).match(/^\=([0-9A-F]{2})/i))&&(e=parseInt(d[1],16),194>e&&e>127&&(c=c.substr(0,c.length-3),f=!1));c.length&&g.push(c),a=a.substr(c.length)}return g},e.prototype._convertImagesToInline=function(){this._message.html&&(this._message.html=this._message.html.replace(/<img[^>]*>/gi,function(a){return a.replace(/\b(src\s*=\s*(?:['"]?))([^'"> ]+)/i,function(a,b,c){var d;return c=i.decode(c||"").trim(),b=b||"",(c.match(/^https?:\/\//i)||c.match(/^\//i)||c.match(/^[a-z]:\\/i))&&(d=o.randomBytes(20).toString("hex")+"@"+this.options.identityString,this.addAttachment({filePath:c,cid:d}),c="cid:"+d),b+c}.bind(this))}.bind(this)))}}).call(this,a("mBgmHg"),a("buffer").Buffer)},{"./topunycode":52,"./urlfetch":53,buffer:3,crypto:9,"dkim-signer":54,fs:1,he:57,mBgmHg:27,mime:58,mimelib:59,stream:45,util:49}],52:[function(a,b){"use strict";var c=a("punycode");b.exports=function(a){return a.replace(/((?:https?:\/\/)?.*\@)?([^\/]*)/,function(a,b,d){var e=d.split(/\./).map(c.toASCII.bind(c));return(b||"")+e.join(".")})}},{punycode:28}],53:[function(a,b){"use strict";function c(a,b){b=b||{};var c,h=f.parse(a),i={host:h.hostname,port:h.port||("https:"==h.protocol?443:80),path:h.path||h.pathname,method:"GET",headers:{"User-Agent":b.userAgent||"mailcomposer"},agent:!1},j="https:"==h.protocol?e:d,k=new g;return k.resume=function(){},h.auth&&(i.auth=h.auth),c=j.request(i,function(a){return"2"!=(a.statusCode||0).toString().charAt(0)?void k.emit("error","Invalid status code "+(a.statusCode||0)):(a.on("error",function(a){k.emit("error",a)}),a.on("data",function(a){k.emit("data",a)}),void a.on("end",function(a){a&&k.emit("data",a),k.emit("end")}))}),c.end(),c.on("error",function(a){k.emit("error",a)}),k}var d=a("follow-redirects").http,e=a("follow-redirects").https,f=a("url"),g=a("stream").Stream;b.exports=c},{"follow-redirects":55,stream:45,url:47}],54:[function(a,b){"use strict";function c(a,b){b=b||{},a=(a||"").toString("utf-8");var c,e,f=a.match(/^\r?\n|(?:\r?\n){2}/),h=f&&a.substr(0,f.index)||"",i=f&&a.substr(f.index+f[0].length)||a,k="From:Sender:Reply-To:Subject:To:Cc:MIME-Version:Content-Type:Content-Transfer-Encoding:Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:In-Reply-To:References:List-Id:List-Help:List-Unsubscribe:List-Subscribe:List-Post:List-Owner:List-Archive",l=d(b.domainName,b.keySelector,b.headerFieldNames||k,h,i),m=j.relaxedHeaders(h,b.headerFieldNames||k),n=j.relaxedHeaderLine(l);return m.headers+=n.key+":"+n.value,c=g.createSign("RSA-SHA256"),c.update(m.headers),e=c.sign(b.privateKey,"base64"),l+e.replace(/(.{76}(?!\r?\n|\r))/g,"$&\r\n ")}function d(a,b,c,d,g){var k,l=j.relaxedBody(g),m=e(l,"base64"),n=j.relaxedHeaders(d,c);return f(a)&&(a=i.toASCII(a)),k=["v=1","a=rsa-sha256","c=relaxed/relaxed","d="+a,"q=dns/txt","s="+b,"bh="+m,"h="+n.fieldNames].join("; "),h.foldLine("DKIM-Signature: "+k,76)+";\r\n b="}function e(a,b){var c=g.createHash("sha256");return c.update(a),c.digest(b||"hex")}function f(a){var b=/[^\u0000-\u007f]/;return!!b.test(a)}var g=a("crypto"),h=a("mimelib"),i=a("punycode");b.exports.DKIMSign=c,b.exports.generateDKIMHeader=d,b.exports.sha256=e;var j={simpleBody:function(a){return(a||"").toString().replace(/(?:\r?\n|\r)*$/,"\r\n")},relaxedBody:function(a){return(a||"").toString().replace(/\r?\n|\r/g,"\n").split("\n").map(function(a){return a.replace(/\s*$/,"").replace(/\s+/g," ")}).join("\n").replace(/\n*$/,"\n").replace(/\n/g,"\r\n")},relaxedHeaders:function(a,b){var c,d,e=(b||"").toLowerCase().split(":").map(function(a){return a.trim()}),f={},g=a.split(/\r?\n|\r/);for(d=g.length-1;d>=0;d--)d&&g[d].match(/^\s/)?g[d-1]+=g.splice(d,1):(c=j.relaxedHeaderLine(g[d]),e.indexOf(c.key)>=0&&!(c.key in f)&&(f[c.key]=c.value));for(a=[],d=e.length-1;d>=0;d--)f[e[d]]?a.unshift(e[d]+":"+f[e[d]]):e.splice(d,1);return{headers:a.join("\r\n")+"\r\n",fieldNames:e.join(":")}},relaxedHeaderLine:function(a){var b=a.split(":"),c=(b.shift()||"").toLowerCase().trim();return b=b.join(":").replace(/\s+/g," ").trim(),{key:c,value:b}}};b.exports.DKIMCanonicalizer=j},{crypto:9,mimelib:59,punycode:28}],55:[function(a,b,c){var d=a("https"),e=a("http"),f=a("url"),g=a("underscore"),h=(b.exports.maxRedirects=5,{https:d,http:e});for(var i in h){var j=function(){};j.prototype=h[i],j=new j,b.exports[i]=j,j.request=function(a){return function(d,e,h){function j(a,c){return function(d){if(d.statusCode<300||d.statusCode>399)return c.userCallback(d);if(!("location"in d.headers))return c.userCallback(d);var e=f.resolve(a,d.headers.location),g=f.parse(e).protocol;return g=g.substr(0,g.length-1),b.exports[g].get(e,j(a,c),c)}}h=h||{};var k="object"==typeof d&&"maxRedirects"in d?d.maxRedirects:c.maxRedirects,l=g.extend({count:0,max:k,clientRequest:null,userCallback:e},h);if(l.count>l.max){var m=new Error("Max redirects exceeded. To allow more redirects, pass options.maxRedirects property.");return l.clientRequest.emit("error",m),l.clientRequest}l.count++;var n;n="string"==typeof d?d:f.format(g.extend({protocol:i},d));var o=a.__proto__.request(d,j(n,l));return l.clientRequest||(l.clientRequest=o),o}}(j),j.get=function(a){return function(b,c,d){var e=a.request(b,c,d);return e.end(),e}}(j)}},{http:20,https:24,underscore:56,url:47}],56:[function(a,b,c){(function(){var a=this,d=a._,e={},f=Array.prototype,g=Object.prototype,h=Function.prototype,i=f.push,j=f.slice,k=f.concat,l=g.toString,m=g.hasOwnProperty,n=f.forEach,o=f.map,p=f.reduce,q=f.reduceRight,r=f.filter,s=f.every,t=f.some,u=f.indexOf,v=f.lastIndexOf,w=Array.isArray,x=Object.keys,y=h.bind,z=function(a){return a instanceof z?a:this instanceof z?void(this._wrapped=a):new z(a)};"undefined"!=typeof c?("undefined"!=typeof b&&b.exports&&(c=b.exports=z),c._=z):a._=z,z.VERSION="1.6.0";var A=z.each=z.forEach=function(a,b,c){if(null==a)return a;if(n&&a.forEach===n)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,f=a.length;f>d;d++)if(b.call(c,a[d],d,a)===e)return}else for(var g=z.keys(a),d=0,f=g.length;f>d;d++)if(b.call(c,a[g[d]],g[d],a)===e)return;return a};z.map=z.collect=function(a,b,c){var d=[];return null==a?d:o&&a.map===o?a.map(b,c):(A(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var B="Reduce of empty array with no initial value";z.reduce=z.foldl=z.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),p&&a.reduce===p)return d&&(b=z.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(A(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(B);return c},z.reduceRight=z.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),q&&a.reduceRight===q)return d&&(b=z.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=z.keys(a);f=g.length}if(A(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(B);return c},z.find=z.detect=function(a,b,c){var d;return C(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},z.filter=z.select=function(a,b,c){var d=[];return null==a?d:r&&a.filter===r?a.filter(b,c):(A(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},z.reject=function(a,b,c){return z.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},z.every=z.all=function(a,b,c){b||(b=z.identity);var d=!0;return null==a?d:s&&a.every===s?a.every(b,c):(A(a,function(a,f,g){return(d=d&&b.call(c,a,f,g))?void 0:e}),!!d)};var C=z.some=z.any=function(a,b,c){b||(b=z.identity);var d=!1;return null==a?d:t&&a.some===t?a.some(b,c):(A(a,function(a,f,g){return d||(d=b.call(c,a,f,g))?e:void 0}),!!d)};z.contains=z.include=function(a,b){return null==a?!1:u&&a.indexOf===u?-1!=a.indexOf(b):C(a,function(a){return a===b})},z.invoke=function(a,b){var c=j.call(arguments,2),d=z.isFunction(b);return z.map(a,function(a){return(d?b:a[b]).apply(a,c)})},z.pluck=function(a,b){return z.map(a,z.property(b))},z.where=function(a,b){return z.filter(a,z.matches(b))},z.findWhere=function(a,b){return z.find(a,z.matches(b))},z.max=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);var d=-1/0,e=-1/0;return A(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;h>e&&(d=a,e=h)}),d},z.min=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);var d=1/0,e=1/0;return A(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;e>h&&(d=a,e=h)}),d},z.shuffle=function(a){var b,c=0,d=[];return A(a,function(a){b=z.random(c++),d[c-1]=d[b],d[b]=a}),d},z.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=z.values(a)),a[z.random(a.length-1)]):z.shuffle(a).slice(0,Math.max(0,b))};var D=function(a){return null==a?z.identity:z.isFunction(a)?a:z.property(a)};z.sortBy=function(a,b,c){return b=D(b),z.pluck(z.map(a,function(a,d,e){return{value:a,index:d,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var E=function(a){return function(b,c,d){var e={};return c=D(c),A(b,function(f,g){var h=c.call(d,f,g,b);a(e,h,f)}),e}};z.groupBy=E(function(a,b,c){z.has(a,b)?a[b].push(c):a[b]=[c]}),z.indexBy=E(function(a,b,c){a[b]=c}),z.countBy=E(function(a,b){z.has(a,b)?a[b]++:a[b]=1}),z.sortedIndex=function(a,b,c,d){c=D(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},z.toArray=function(a){return a?z.isArray(a)?j.call(a):a.length===+a.length?z.map(a,z.identity):z.values(a):[]},z.size=function(a){return null==a?0:a.length===+a.length?a.length:z.keys(a).length},z.first=z.head=z.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:j.call(a,0,b)},z.initial=function(a,b,c){return j.call(a,0,a.length-(null==b||c?1:b))},z.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:j.call(a,Math.max(a.length-b,0))},z.rest=z.tail=z.drop=function(a,b,c){return j.call(a,null==b||c?1:b)},z.compact=function(a){return z.filter(a,z.identity)};var F=function(a,b,c){return b&&z.every(a,z.isArray)?k.apply(c,a):(A(a,function(a){z.isArray(a)||z.isArguments(a)?b?i.apply(c,a):F(a,b,c):c.push(a)}),c)};z.flatten=function(a,b){return F(a,b,[])},z.without=function(a){return z.difference(a,j.call(arguments,1))},z.partition=function(a,b){var c=[],d=[];return A(a,function(a){(b(a)?c:d).push(a)}),[c,d]},z.uniq=z.unique=function(a,b,c,d){z.isFunction(b)&&(d=c,c=b,b=!1);var e=c?z.map(a,c,d):a,f=[],g=[];return A(e,function(c,d){(b?d&&g[g.length-1]===c:z.contains(g,c))||(g.push(c),f.push(a[d]))
}),f},z.union=function(){return z.uniq(z.flatten(arguments,!0))},z.intersection=function(a){var b=j.call(arguments,1);return z.filter(z.uniq(a),function(a){return z.every(b,function(b){return z.contains(b,a)})})},z.difference=function(a){var b=k.apply(f,j.call(arguments,1));return z.filter(a,function(a){return!z.contains(b,a)})},z.zip=function(){for(var a=z.max(z.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=z.pluck(arguments,""+c);return b},z.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},z.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=z.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(u&&a.indexOf===u)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},z.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(v&&a.lastIndexOf===v)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},z.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var G=function(){};z.bind=function(a,b){var c,d;if(y&&a.bind===y)return y.apply(a,j.call(arguments,1));if(!z.isFunction(a))throw new TypeError;return c=j.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(j.call(arguments)));G.prototype=a.prototype;var e=new G;G.prototype=null;var f=a.apply(e,c.concat(j.call(arguments)));return Object(f)===f?f:e}},z.partial=function(a){var b=j.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===z&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},z.bindAll=function(a){var b=j.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return A(b,function(b){a[b]=z.bind(a[b],a)}),a},z.memoize=function(a,b){var c={};return b||(b=z.identity),function(){var d=b.apply(this,arguments);return z.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},z.delay=function(a,b){var c=j.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},z.defer=function(a){return z.delay.apply(z,[a,1].concat(j.call(arguments,1)))},z.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:z.now(),g=null,f=a.apply(d,e),d=e=null};return function(){var j=z.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),d=e=null):g||c.trailing===!1||(g=setTimeout(i,k)),f}},z.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=z.now()-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),f=e=null))};return function(){f=this,e=arguments,g=z.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},z.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},z.wrap=function(a,b){return z.partial(b,a)},z.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},z.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},z.keys=function(a){if(!z.isObject(a))return[];if(x)return x(a);var b=[];for(var c in a)z.has(a,c)&&b.push(c);return b},z.values=function(a){for(var b=z.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},z.pairs=function(a){for(var b=z.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},z.invert=function(a){for(var b={},c=z.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},z.functions=z.methods=function(a){var b=[];for(var c in a)z.isFunction(a[c])&&b.push(c);return b.sort()},z.extend=function(a){return A(j.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},z.pick=function(a){var b={},c=k.apply(f,j.call(arguments,1));return A(c,function(c){c in a&&(b[c]=a[c])}),b},z.omit=function(a){var b={},c=k.apply(f,j.call(arguments,1));for(var d in a)z.contains(c,d)||(b[d]=a[d]);return b},z.defaults=function(a){return A(j.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},z.clone=function(a){return z.isObject(a)?z.isArray(a)?a.slice():z.extend({},a):a},z.tap=function(a,b){return b(a),a};var H=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof z&&(a=a._wrapped),b instanceof z&&(b=b._wrapped);var e=l.call(a);if(e!=l.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(z.isFunction(g)&&g instanceof g&&z.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1;c.push(a),d.push(b);var i=0,j=!0;if("[object Array]"==e){if(i=a.length,j=i==b.length)for(;i--&&(j=H(a[i],b[i],c,d)););}else{for(var k in a)if(z.has(a,k)&&(i++,!(j=z.has(b,k)&&H(a[k],b[k],c,d))))break;if(j){for(k in b)if(z.has(b,k)&&!i--)break;j=!i}}return c.pop(),d.pop(),j};z.isEqual=function(a,b){return H(a,b,[],[])},z.isEmpty=function(a){if(null==a)return!0;if(z.isArray(a)||z.isString(a))return 0===a.length;for(var b in a)if(z.has(a,b))return!1;return!0},z.isElement=function(a){return!(!a||1!==a.nodeType)},z.isArray=w||function(a){return"[object Array]"==l.call(a)},z.isObject=function(a){return a===Object(a)},A(["Arguments","Function","String","Number","Date","RegExp"],function(a){z["is"+a]=function(b){return l.call(b)=="[object "+a+"]"}}),z.isArguments(arguments)||(z.isArguments=function(a){return!(!a||!z.has(a,"callee"))}),"function"!=typeof/./&&(z.isFunction=function(a){return"function"==typeof a}),z.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},z.isNaN=function(a){return z.isNumber(a)&&a!=+a},z.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==l.call(a)},z.isNull=function(a){return null===a},z.isUndefined=function(a){return void 0===a},z.has=function(a,b){return m.call(a,b)},z.noConflict=function(){return a._=d,this},z.identity=function(a){return a},z.constant=function(a){return function(){return a}},z.property=function(a){return function(b){return b[a]}},z.matches=function(a){return function(b){if(b===a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}},z.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},z.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},z.now=Date.now||function(){return(new Date).getTime()};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=z.invert(I.escape);var J={escape:new RegExp("["+z.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+z.keys(I.unescape).join("|")+")","g")};z.each(["escape","unescape"],function(a){z[a]=function(b){return null==b?"":(""+b).replace(J[a],function(b){return I[a][b]})}}),z.result=function(a,b){if(null==a)return void 0;var c=a[b];return z.isFunction(c)?c.call(a):c},z.mixin=function(a){A(z.functions(a),function(b){var c=z[b]=a[b];z.prototype[b]=function(){var a=[this._wrapped];return i.apply(a,arguments),O.call(this,c.apply(z,a))}})};var K=0;z.uniqueId=function(a){var b=++K+"";return a?a+b:b},z.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\t|\u2028|\u2029/g;z.template=function(a,b,c){var d;c=z.defaults({},c,z.templateSettings);var e=new RegExp([(c.escape||L).source,(c.interpolate||L).source,(c.evaluate||L).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(N,function(a){return"\\"+M[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,z);var i=function(a){return d.call(this,a,z)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},z.chain=function(a){return z(a).chain()};var O=function(a){return this._chain?z(a).chain():a};z.mixin(z),A(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=f[a];z.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],O.call(this,c)}}),A(["concat","join","slice"],function(a){var b=f[a];z.prototype[a]=function(){return O.call(this,b.apply(this._wrapped,arguments))}}),z.extend(z.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return z})}).call(this)},{}],57:[function(a,b,c){(function(a){!function(d){var e="object"==typeof c&&c,f="object"==typeof b&&b&&b.exports==e&&b,g="object"==typeof a&&a;(g.global===g||g.window===g)&&(d=g);var h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i=/[\0-\x7F]/g,j=/[^\0-\x7F]/g,k=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,l={"":"Aacute","":"aacute","":"Abreve","":"abreve","":"ac","":"acd","":"acE","":"Acirc","":"acirc","":"acute","":"Acy","":"acy","":"AElig","":"aelig","":"af","":"Afr","":"afr","":"Agrave","":"agrave","":"aleph","":"Alpha","":"alpha","":"Amacr","":"amacr","":"amalg","&":"amp","":"andand","":"And","":"and","":"andd","":"andslope","":"andv","":"ang","":"ange","":"angmsdaa","":"angmsdab","":"angmsdac","":"angmsdad","":"angmsdae","":"angmsdaf","":"angmsdag","":"angmsdah","":"angmsd","":"angrt","":"angrtvb","":"angrtvbd","":"angsph","":"angst","":"angzarr","":"Aogon","":"aogon","":"Aopf","":"aopf","":"apacir","":"ap","":"apE","":"ape","":"apid","'":"apos","":"aring","":"Ascr","":"ascr","":"colone","*":"ast","":"CupCap","":"Atilde","":"atilde","":"Auml","":"auml","":"awconint","":"awint","":"bcong","":"bepsi","":"bprime","":"bsim","":"bsime","":"setmn","":"Barv","":"barvee","":"barwed","":"Barwed","":"bbrk","":"bbrktbrk","":"Bcy","":"bcy","":"bdquo","":"becaus","":"bemptyv","":"Bscr","":"Beta","":"beta","":"beth","":"twixt","":"Bfr","":"bfr","":"xcap","":"xcirc","":"xcup","":"xodot","":"xoplus","":"xotime","":"xsqcup","":"starf","":"xdtri","":"xutri","":"xuplus","":"Vee","":"Wedge","":"rbarr","":"lozf","":"squf","":"utrif","":"dtrif","":"ltrif","":"rtrif","":"blank","":"blk12","":"blk14","":"blk34","":"block","=":"bne","":"bnequiv","":"bNot","":"bnot","":"Bopf","":"bopf","":"bot","":"bowtie","":"boxbox","":"boxdl","":"boxdL","":"boxDl","":"boxDL","":"boxdr","":"boxdR","":"boxDr","":"boxDR","":"boxh","":"boxH","":"boxhd","":"boxHd","":"boxhD","":"boxHD","":"boxhu","":"boxHu","":"boxhU","":"boxHU","":"minusb","":"plusb","":"timesb","":"boxul","":"boxuL","":"boxUl","":"boxUL","":"boxur","":"boxuR","":"boxUr","":"boxUR","":"boxv","":"boxV","":"boxvh","":"boxvH","":"boxVh","":"boxVH","":"boxvl","":"boxvL","":"boxVl","":"boxVL","":"boxvr","":"boxvR","":"boxVr","":"boxVR","":"breve","":"brvbar","":"bscr","":"bsemi","":"bsolb","\\":"bsol","":"bsolhsub","":"bull","":"bump","":"bumpE","":"bumpe","":"Cacute","":"cacute","":"capand","":"capbrcup","":"capcap","":"cap","":"Cap","":"capcup","":"capdot","":"DD","":"caps","":"caret","":"caron","":"Cfr","":"ccaps","":"Ccaron","":"ccaron","":"Ccedil","":"ccedil","":"Ccirc","":"ccirc","":"Cconint","":"ccups","":"ccupssm","":"Cdot","":"cdot","":"cedil","":"cemptyv","":"cent","":"middot","":"cfr","":"CHcy","":"chcy","":"check","":"Chi","":"chi","":"circ","":"cire","":"olarr","":"orarr","":"oast","":"ocir","":"odash","":"odot","":"reg","":"oS","":"ominus","":"oplus","":"otimes","":"cir","":"cirE","":"cirfnint","":"cirmid","":"cirscir","":"cwconint","":"rdquo","":"rsquo","":"clubs",":":"colon","":"Colon","":"Colone",",":"comma","@":"commat","":"comp","":"compfn","":"Copf","":"cong","":"congdot","":"equiv","":"oint","":"Conint","":"copf","":"coprod","":"copy","":"copysr","":"crarr","":"cross","":"Cross","":"Cscr","":"cscr","":"csub","":"csube","":"csup","":"csupe","":"ctdot","":"cudarrl","":"cudarrr","":"cuepr","":"cuesc","":"cularr","":"cularrp","":"cupbrcap","":"cupcap","":"cup","":"Cup","":"cupcup","":"cupdot","":"cupor","":"cups","":"curarr","":"curarrm","":"cuvee","":"cuwed","":"curren","":"cwint","":"cylcty","":"dagger","":"Dagger","":"daleth","":"darr","":"Darr","":"dArr","":"dash","":"Dashv","":"dashv","":"rBarr","":"dblac","":"Dcaron","":"dcaron","":"Dcy","":"dcy","":"ddarr","":"dd","":"DDotrahd","":"eDDot","":"deg","":"Del","":"Delta","":"delta","":"demptyv","":"dfisht","":"Dfr","":"dfr","":"dHar","":"dharl","":"dharr","":"dot","`":"grave","":"tilde","":"diam","":"diams","":"die","":"gammad","":"disin","":"div","":"divonx","":"DJcy","":"djcy","":"dlcorn","":"dlcrop",$:"dollar","":"Dopf","":"dopf","":"DotDot","":"doteq","":"eDot","":"minusd","":"plusdo","":"sdotb","":"lArr","":"iff","":"xlArr","":"xhArr","":"xrArr","":"rArr","":"vDash","":"uArr","":"vArr","":"par","":"DownArrowBar","":"duarr","":"DownBreve","":"DownLeftRightVector","":"DownLeftTeeVector","":"DownLeftVectorBar","":"lhard","":"DownRightTeeVector","":"DownRightVectorBar","":"rhard","":"mapstodown","":"top","":"RBarr","":"drcorn","":"drcrop","":"Dscr","":"dscr","":"DScy","":"dscy","":"dsol","":"Dstrok","":"dstrok","":"dtdot","":"dtri","":"duhar","":"dwangle","":"DZcy","":"dzcy","":"dzigrarr","":"Eacute","":"eacute","":"easter","":"Ecaron","":"ecaron","":"Ecirc","":"ecirc","":"ecir","":"ecolon","":"Ecy","":"ecy","":"Edot","":"edot","":"ee","":"efDot","":"Efr","":"efr","":"eg","":"Egrave","":"egrave","":"egs","":"egsdot","":"el","":"in","":"elinters","":"ell","":"els","":"elsdot","":"Emacr","":"emacr","":"empty","":"EmptySmallSquare","":"EmptyVerySmallSquare","":"emsp13","":"emsp14","":"emsp","":"ENG","":"eng","":"ensp","":"Eogon","":"eogon","":"Eopf","":"eopf","":"epar","":"eparsl","":"eplus","":"epsi","":"Epsilon","":"epsiv","":"esim","":"Equal","=":"equals","":"equest","":"rlhar","":"equivDD","":"eqvparsl","":"erarr","":"erDot","":"escr","":"Escr","":"Esim","":"Eta","":"eta","":"ETH","":"eth","":"Euml","":"euml","":"euro","!":"excl","":"exist","":"Fcy","":"fcy","":"female","":"ffilig","":"fflig","":"ffllig","":"Ffr","":"ffr","":"filig","":"FilledSmallSquare",fj:"fjlig","":"flat","":"fllig","":"fltns","":"fnof","":"Fopf","":"fopf","":"forall","":"fork","":"forkv","":"Fscr","":"fpartint","":"half","":"frac13","":"frac14","":"frac15","":"frac16","":"frac18","":"frac23","":"frac25","":"frac34","":"frac35","":"frac38","":"frac45","":"frac56","":"frac58","":"frac78","":"frasl","":"frown","":"fscr","":"gacute","":"Gamma","":"gamma","":"Gammad","":"gap","":"Gbreve","":"gbreve","":"Gcedil","":"Gcirc","":"gcirc","":"Gcy","":"gcy","":"Gdot","":"gdot","":"ge","":"gE","":"gEl","":"gel","":"ges","":"gescc","":"gesdot","":"gesdoto","":"gesdotol","":"gesl","":"gesles","":"Gfr","":"gfr","":"gg","":"Gg","":"gimel","":"GJcy","":"gjcy","":"gla","":"gl","":"glE","":"glj","":"gnap","":"gne","":"gnE","":"gnsim","":"Gopf","":"gopf","":"GreaterGreater","":"gsim","":"Gscr","":"gscr","":"gsime","":"gsiml","":"gtcc","":"gtcir",">":"gt","":"gtdot","":"gtlPar","":"gtquest","":"gtrarr","":"gvnE","":"hairsp","":"Hscr","":"HARDcy","":"hardcy","":"harrcir","":"harr","":"harrw","^":"Hat","":"hbar","":"Hcirc","":"hcirc","":"hearts","":"mldr","":"hercon","":"hfr","":"Hfr","":"searhk","":"swarhk","":"hoarr","":"homtht","":"larrhk","":"rarrhk","":"hopf","":"Hopf","":"horbar","":"hscr","":"Hstrok","":"hstrok","":"hybull","":"Iacute","":"iacute","":"ic","":"Icirc","":"icirc","":"Icy","":"icy","":"Idot","":"IEcy","":"iecy","":"iexcl","":"ifr","":"Im","":"Igrave","":"igrave","":"ii","":"qint","":"tint","":"iinfin","":"iiota","":"IJlig","":"ijlig","":"Imacr","":"imacr","":"Iscr","":"imath","":"imof","":"imped","":"incare","":"infin","":"infintie","":"intcal","":"int","":"Int","":"Zopf","":"intlarhk","":"iprod","":"it","":"IOcy","":"iocy","":"Iogon","":"iogon","":"Iopf","":"iopf","":"Iota","":"iota","":"iquest","":"iscr","":"isindot","":"isinE","":"isins","":"isinsv","":"Itilde","":"itilde","":"Iukcy","":"iukcy","":"Iuml","":"iuml","":"Jcirc","":"jcirc","":"Jcy","":"jcy","":"Jfr","":"jfr","":"jmath","":"Jopf","":"jopf","":"Jscr","":"jscr","":"Jsercy","":"jsercy","":"Jukcy","":"jukcy","":"Kappa","":"kappa","":"kappav","":"Kcedil","":"kcedil","":"Kcy","":"kcy","":"Kfr","":"kfr","":"kgreen","":"KHcy","":"khcy","":"KJcy","":"kjcy","":"Kopf","":"kopf","":"Kscr","":"kscr","":"lAarr","":"Lacute","":"lacute","":"laemptyv","":"Lscr","":"Lambda","":"lambda","":"lang","":"Lang","":"langd","":"lap","":"laquo","":"larrb","":"larrbfs","":"larr","":"Larr","":"larrfs","":"larrlp","":"larrpl","":"larrsim","":"larrtl","":"latail","":"lAtail","":"lat","":"late","":"lates","":"lbarr","":"lBarr","":"lbbrk","{":"lcub","[":"lsqb","":"lbrke","":"lbrksld","":"lbrkslu","":"Lcaron","":"lcaron","":"Lcedil","":"lcedil","":"lceil","":"Lcy","":"lcy","":"ldca","":"ldquo","":"ldrdhar","":"ldrushar","":"ldsh","":"le","":"lE","":"lrarr","":"lobrk","":"LeftDownTeeVector","":"LeftDownVectorBar","":"lfloor","":"lharu","":"llarr","":"lrhar","":"LeftRightVector","":"mapstoleft","":"LeftTeeVector","":"lthree","":"LeftTriangleBar","":"vltri","":"ltrie","":"LeftUpDownVector","":"LeftUpTeeVector","":"LeftUpVectorBar","":"uharl","":"LeftVectorBar","":"lEg","":"leg","":"les","":"lescc","":"lesdot","":"lesdoto","":"lesdotor","":"lesg","":"lesges","":"ltdot","":"lg","":"LessLess","":"lsim","":"lfisht","":"Lfr","":"lfr","":"lgE","":"lHar","":"lharul","":"lhblk","":"LJcy","":"ljcy","":"ll","":"Ll","":"llhard","":"lltri","":"Lmidot","":"lmidot","":"lmoust","":"lnap","":"lne","":"lnE","":"lnsim","":"loang","":"loarr","":"xlarr","":"xharr","":"xmap","":"xrarr","":"rarrlp","":"lopar","":"Lopf","":"lopf","":"loplus","":"lotimes","":"lowast",_:"lowbar","":"swarr","":"searr","":"loz","(":"lpar","":"lparlt","":"lrhard","":"lrm","":"lrtri","":"lsaquo","":"lscr","":"lsh","":"lsime","":"lsimg","":"lsquo","":"sbquo","":"Lstrok","":"lstrok","":"ltcc","":"ltcir","<":"lt","":"ltimes","":"ltlarr","":"ltquest","":"ltri","":"ltrPar","":"lurdshar","":"luruhar","":"lvnE","":"macr","":"male","":"malt","":"Map","":"map","":"mapstoup","":"marker","":"mcomma","":"Mcy","":"mcy","":"mdash","":"mDDot","":"MediumSpace","":"Mscr","":"Mfr","":"mfr","":"mho","":"micro","":"midcir","":"mid","":"minus","":"minusdu","":"mp","":"mlcp","":"models","":"Mopf","":"mopf","":"mscr","":"Mu","":"mu","":"mumap","":"Nacute","":"nacute","":"nang","":"nap","":"napE","":"napid","":"napos","":"natur","":"Nopf","":"nbsp","":"nbump","":"nbumpe","":"ncap","":"Ncaron","":"ncaron","":"Ncedil","":"ncedil","":"ncong","":"ncongdot","":"ncup","":"Ncy","":"ncy","":"ndash","":"nearhk","":"nearr","":"neArr","":"ne","":"nedot","":"ZeroWidthSpace","":"nequiv","":"toea","":"nesim","\n":"NewLine","":"nexist","":"Nfr","":"nfr","":"ngE","":"nge","":"nges","":"nGg","":"ngsim","":"nGt","":"ngt","":"nGtv","":"nharr","":"nhArr","":"nhpar","":"ni","":"nis","":"nisd","":"NJcy","":"njcy","":"nlarr","":"nlArr","":"nldr","":"nlE","":"nle","":"nles","":"nlt","":"nLl","":"nlsim","":"nLt","":"nltri","":"nltrie","":"nLtv","":"nmid","":"NoBreak","":"nopf","":"Not","":"not","":"NotCupCap","":"npar","":"notin","":"ntgl","":"notindot","":"notinE","":"notinvb","":"notinvc","":"NotLeftTriangleBar","":"ntlg","":"NotNestedGreaterGreater","":"NotNestedLessLess","":"notni","":"notnivb","":"notnivc","":"npr","":"npre","":"nprcue","":"NotRightTriangleBar","":"nrtri","":"nrtrie","":"NotSquareSubset","":"nsqsube","":"NotSquareSuperset","":"nsqsupe","":"vnsub","":"nsube","":"nsc","":"nsce","":"nsccue","":"NotSucceedsTilde","":"vnsup","":"nsupe","":"nsim","":"nsime","":"nparsl","":"npart","":"npolint","":"nrarrc","":"nrarr","":"nrArr","":"nrarrw","":"Nscr","":"nscr","":"nsub","":"nsubE","":"nsup","":"nsupE","":"Ntilde","":"ntilde","":"Nu","":"nu","#":"num","":"numero","":"numsp","":"nvap","":"nvdash","":"nvDash","":"nVdash","":"nVDash","":"nvge",">":"nvgt","":"nvHarr","":"nvinfin","":"nvlArr","":"nvle","<":"nvlt","":"nvltrie","":"nvrArr","":"nvrtrie","":"nvsim","":"nwarhk","":"nwarr","":"nwArr","":"nwnear","":"Oacute","":"oacute","":"Ocirc","":"ocirc","":"Ocy","":"ocy","":"Odblac","":"odblac","":"odiv","":"odsold","":"OElig","":"oelig","":"ofcir","":"Ofr","":"ofr","":"ogon","":"Ograve","":"ograve","":"ogt","":"ohbar","":"ohm","":"olcir","":"olcross","":"oline","":"olt","":"Omacr","":"omacr","":"omega","":"Omicron","":"omicron","":"omid","":"Oopf","":"oopf","":"opar","":"operp","":"Or","":"or","":"ord","":"oscr","":"ordf","":"ordm","":"origof","":"oror","":"orslope","":"orv","":"Oscr","":"Oslash","":"oslash","":"osol","":"Otilde","":"otilde","":"otimesas","":"Otimes","":"Ouml","":"ouml","":"ovbar","":"OverBrace","":"tbrk","":"OverParenthesis","":"para","":"parsim","":"parsl","":"part","":"Pcy","":"pcy","%":"percnt",".":"period","":"permil","":"pertenk","":"Pfr","":"pfr","":"Phi","":"phi","":"phiv","":"phone","":"Pi","":"pi","":"piv","":"planckh","":"plusacir","":"pluscir","+":"plus","":"plusdu","":"pluse","":"pm","":"plussim","":"plustwo","":"pointint","":"popf","":"Popf","":"pound","":"prap","":"Pr","":"pr","":"prcue","":"pre","":"prsim","":"prnap","":"prnE","":"prnsim","":"prE","":"prime","":"Prime","":"prod","":"profalar","":"profline","":"profsurf","":"prop","":"prurel","":"Pscr","":"pscr","":"Psi","":"psi","":"puncsp","":"Qfr","":"qfr","":"qopf","":"Qopf","":"qprime","":"Qscr","":"qscr","":"quatint","?":"quest",'"':"quot","":"rAarr","":"race","":"Racute","":"racute","":"Sqrt","":"raemptyv","":"rang","":"Rang","":"rangd","":"range","":"raquo","":"rarrap","":"rarrb","":"rarrbfs","":"rarrc","":"rarr","":"Rarr","":"rarrfs","":"rarrpl","":"rarrsim","":"Rarrtl","":"rarrtl","":"rarrw","":"ratail","":"rAtail","":"ratio","":"rbbrk","}":"rcub","]":"rsqb","":"rbrke","":"rbrksld","":"rbrkslu","":"Rcaron","":"rcaron","":"Rcedil","":"rcedil","":"rceil","":"Rcy","":"rcy","":"rdca","":"rdldhar","":"rdsh","":"Re","":"Rscr","":"Ropf","":"rect","":"rfisht","":"rfloor","":"rfr","":"rHar","":"rharu","":"rharul","":"Rho","":"rho","":"rhov","":"rlarr","":"robrk","":"RightDownTeeVector","":"RightDownVectorBar","":"rrarr","":"vdash","":"RightTeeVector","":"rthree","":"RightTriangleBar","":"vrtri","":"rtrie","":"RightUpDownVector","":"RightUpTeeVector","":"RightUpVectorBar","":"uharr","":"RightVectorBar","":"ring","":"rlm","":"rmoust","":"rnmid","":"roang","":"roarr","":"ropar","":"ropf","":"roplus","":"rotimes","":"RoundImplies",")":"rpar","":"rpargt","":"rppolint","":"rsaquo","":"rscr","":"rsh","":"rtimes","":"rtri","":"rtriltri","":"RuleDelayed","":"ruluhar","":"rx","":"Sacute","":"sacute","":"scap","":"Scaron","":"scaron","":"Sc","":"sc","":"sccue","":"sce","":"scE","":"Scedil","":"scedil","":"Scirc","":"scirc","":"scnap","":"scnE","":"scnsim","":"scpolint","":"scsim","":"Scy","":"scy","":"sdot","":"sdote","":"seArr","":"sect",";":"semi","":"tosa","":"sext","":"Sfr","":"sfr","":"sharp","":"SHCHcy","":"shchcy","":"SHcy","":"shcy","":"uarr","":"shy","":"Sigma","":"sigma","":"sigmaf","":"sim","":"simdot","":"sime","":"simg","":"simgE","":"siml","":"simlE","":"simne","":"simplus","":"simrarr","":"smashp","":"smeparsl","":"smile","":"smt","":"smte","":"smtes","":"SOFTcy","":"softcy","":"solbar","":"solb","/":"sol","":"Sopf","":"sopf","":"spades","":"sqcap","":"sqcaps","":"sqcup","":"sqcups","":"sqsub","":"sqsube","":"sqsup","":"sqsupe","":"squ","":"Sscr","":"sscr","":"Star","":"star","":"sub","":"Sub","":"subdot","":"subE","":"sube","":"subedot","":"submult","":"subnE","":"subne","":"subplus","":"subrarr","":"subsim","":"subsub","":"subsup","":"sum","":"sung","":"sup1","":"sup2","":"sup3","":"sup","":"Sup","":"supdot","":"supdsub","":"supE","":"supe","":"supedot","":"suphsol","":"suphsub","":"suplarr","":"supmult","":"supnE","":"supne","":"supplus","":"supsim","":"supsub","":"supsup","":"swArr","":"swnwar","":"szlig","	":"Tab","":"target","":"Tau","":"tau","":"Tcaron","":"tcaron","":"Tcedil","":"tcedil","":"Tcy","":"tcy","":"tdot","":"telrec","":"Tfr","":"tfr","":"there4","":"Theta","":"theta","":"thetav","":"ThickSpace","":"thinsp","":"THORN","":"thorn","":"timesbar","":"times","":"timesd","":"topbot","":"topcir","":"Topf","":"topf","":"topfork","":"tprime","":"trade","":"utri","":"trie","":"tridot","":"triminus","":"triplus","":"trisb","":"tritime","":"trpezium","":"Tscr","":"tscr","":"TScy","":"tscy","":"TSHcy","":"tshcy","":"Tstrok","":"tstrok","":"Uacute","":"uacute","":"Uarr","":"Uarrocir","":"Ubrcy","":"ubrcy","":"Ubreve","":"ubreve","":"Ucirc","":"ucirc","":"Ucy","":"ucy","":"udarr","":"Udblac","":"udblac","":"udhar","":"ufisht","":"Ufr","":"ufr","":"Ugrave","":"ugrave","":"uHar","":"uhblk","":"ulcorn","":"ulcrop","":"ultri","":"Umacr","":"umacr","":"UnderBrace","":"UnderParenthesis","":"uplus","":"Uogon","":"uogon","":"Uopf","":"uopf","":"UpArrowBar","":"varr","":"upsi","":"Upsi","":"Upsilon","":"uuarr","":"urcorn","":"urcrop","":"Uring","":"uring","":"urtri","":"Uscr","":"uscr","":"utdot","":"Utilde","":"utilde","":"Uuml","":"uuml","":"uwangle","":"vangrt","":"vsubne","":"vsubnE","":"vsupne","":"vsupnE","":"vBar","":"Vbar","":"vBarv","":"Vcy","":"vcy","":"Vdash","":"VDash","":"Vdashl","":"veebar","":"veeeq","":"vellip","|":"vert","":"Vert","":"VerticalSeparator","":"wr","":"Vfr","":"vfr","":"Vopf","":"vopf","":"Vscr","":"vscr","":"Vvdash","":"vzigzag","":"Wcirc","":"wcirc","":"wedbar","":"wedgeq","":"wp","":"Wfr","":"wfr","":"Wopf","":"wopf","":"Wscr","":"wscr","":"Xfr","":"xfr","":"Xi","":"xi","":"xnis","":"Xopf","":"xopf","":"Xscr","":"xscr","":"Yacute","":"yacute","":"YAcy","":"yacy","":"Ycirc","":"ycirc","":"Ycy","":"ycy","":"yen","":"Yfr","":"yfr","":"YIcy","":"yicy","":"Yopf","":"yopf","":"Yscr","":"yscr","":"YUcy","":"yucy","":"yuml","":"Yuml","":"Zacute","":"zacute","":"Zcaron","":"zcaron","":"Zcy","":"zcy","":"Zdot","":"zdot","":"Zfr","":"Zeta","":"zeta","":"zfr","":"ZHcy","":"zhcy","":"zigrarr","":"zopf","":"Zscr","":"zscr","":"zwj","":"zwnj"},m=/[&<>"']/g,n={"&":"&amp;","<":"&lt;",'"':"&quot;","'":"&#x27;",">":"&gt;"},o=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,p=/&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+);|&(Aacute|iacute|Uacute|plusmn|otilde|Otilde|Agrave|agrave|yacute|Yacute|oslash|Oslash|Atilde|atilde|brvbar|Ccedil|ccedil|ograve|curren|divide|Eacute|eacute|Ograve|oacute|Egrave|egrave|ugrave|frac12|frac14|frac34|Ugrave|Oacute|Iacute|ntilde|Ntilde|uacute|middot|Igrave|igrave|iquest|aacute|laquo|THORN|micro|iexcl|icirc|Icirc|Acirc|ucirc|ecirc|Ocirc|ocirc|Ecirc|Ucirc|aring|Aring|aelig|AElig|acute|pound|raquo|acirc|times|thorn|szlig|cedil|COPY|Auml|ordf|ordm|uuml|macr|Uuml|auml|Ouml|ouml|para|nbsp|Euml|quot|QUOT|euml|yuml|cent|sect|copy|sup1|sup2|sup3|Iuml|iuml|shy|eth|reg|not|yen|amp|AMP|REG|uml|ETH|deg|gt|GT|LT|lt)([=a-zA-Z0-9])?/g,q={Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",amp:"&",AMP:"&",andand:"",And:"",and:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angmsd:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",apacir:"",ap:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxHd:"",boxhD:"",boxHD:"",boxhu:"",boxHu:"",boxhU:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsolb:"",bsol:"\\",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",capand:"",capbrcup:"",capcap:"",cap:"",Cap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cir:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cupbrcap:"",cupcap:"",CupCap:"",cup:"",Cup:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",Darr:"",dArr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",ddagger:"",ddarr:"",DD:"",dd:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrowBar:"",downarrow:"",DownArrow:"",Downarrow:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVectorBar:"",DownLeftVector:"",DownRightTeeVector:"",DownRightVectorBar:"",DownRightVector:"",DownTeeArrow:"",DownTee:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",Ecirc:"",ecirc:"",ecir:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",edot:"",eDot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp13:"",emsp14:"",emsp:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",ge:"",gE:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",gescc:"",ges:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",gg:"",Gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gla:"",gl:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gt:">",GT:">",Gt:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",harrcir:"",harr:"",hArr:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",ifr:"",Ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",Im:"",imof:"",imped:"",Implies:"",incare:"","in":"",infin:"",infintie:"",inodot:"",intcal:"","int":"",Int:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larrb:"",larrbfs:"",larr:"",Larr:"",lArr:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",latail:"",lAtail:"",lat:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",LeftArrowBar:"",leftarrow:"",LeftArrow:"",Leftarrow:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVectorBar:"",LeftDownVector:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTeeArrow:"",LeftTee:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangleBar:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVectorBar:"",LeftUpVector:"",LeftVectorBar:"",LeftVector:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",lescc:"",les:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",llarr:"",ll:"",Ll:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoustache:"",lmoust:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",LongLeftArrow:"",Longleftarrow:"",longleftrightarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longmapsto:"",longrightarrow:"",LongRightArrow:"",Longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",ltcc:"",ltcir:"",lt:"<",LT:"<",Lt:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",midast:"*",midcir:"",mid:"",middot:"",minusb:"",minus:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natural:"",naturals:"",natur:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",nearhk:"",nearr:"",neArr:"",nearrow:"",ne:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlarr:"",nlArr:"",nldr:"",nlE:"",nle:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangleBar:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangleBar:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",nparallel:"",npar:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",nprec:"",npreceq:"",npre:"",nrarrc:"",nrarr:"",nrArr:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",Ocirc:"",ocirc:"",ocir:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",orarr:"",Or:"",or:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",otimesas:"",Otimes:"",otimes:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",para:"",parallel:"",par:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plusacir:"",plusb:"",pluscir:"",plus:"+",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",prap:"",Pr:"",pr:"",prcue:"",precapprox:"",prec:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",pre:"",prE:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportional:"",Proportion:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarr:"",Rarr:"",rArr:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",Re:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrowBar:"",rightarrow:"",RightArrow:"",Rightarrow:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVectorBar:"",RightDownVector:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTeeArrow:"",RightTee:"",RightTeeVector:"",rightthreetimes:"",RightTriangleBar:"",RightTriangle:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVectorBar:"",RightUpVector:"",RightVectorBar:"",RightVector:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoustache:"",rmoust:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",scap:"",Scaron:"",scaron:"",Sc:"",sc:"",sccue:"",sce:"",scE:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdotb:"",sdot:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",solbar:"",solb:"",sol:"/",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squ:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succapprox:"",succ:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",Sup:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",therefore:"",Therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",ThinSpace:"",thinsp:"",thkap:"",thksim:"",THORN:"",thorn:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",timesbar:"",timesb:"",times:"",timesd:"",tint:"",toea:"",topbot:"",topcir:"",top:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",uarr:"",Uarr:"",uArr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrowBar:"",uparrow:"",UpArrow:"",Uparrow:"",UpArrowDownArrow:"",updownarrow:"",UpDownArrow:"",Updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTeeArrow:"",UpTee:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",Vcy:"",vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",veebar:"",vee:"",Vee:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xharr:"",xhArr:"",Xi:"",xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",yuml:"",Yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",zfr:"",Zfr:"",ZHcy:"",zhcy:"",zigrarr:"",zopf:"",Zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""},r={Aacute:"",aacute:"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"",Agrave:"",agrave:"",amp:"&",AMP:"&",Aring:"",aring:"",Atilde:"",atilde:"",Auml:"",auml:"",brvbar:"",Ccedil:"",ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",Eacute:"",eacute:"",Ecirc:"",ecirc:"",Egrave:"",egrave:"",ETH:"",eth:"",Euml:"",euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",Iacute:"",iacute:"",Icirc:"",icirc:"",iexcl:"",Igrave:"",igrave:"",iquest:"",Iuml:"",iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",Ntilde:"",ntilde:"",Oacute:"",oacute:"",Ocirc:"",ocirc:"",Ograve:"",ograve:"",ordf:"",ordm:"",Oslash:"",oslash:"",Otilde:"",otilde:"",Ouml:"",ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",THORN:"",thorn:"",times:"",Uacute:"",uacute:"",Ucirc:"",ucirc:"",Ugrave:"",ugrave:"",uml:"",Uuml:"",uuml:"",Yacute:"",yacute:"",yen:"",yuml:""},s={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},t=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],u=String.fromCharCode,v={},w=v.hasOwnProperty,x=function(a,b){return w.call(a,b)
},y=function(a,b){for(var c=-1,d=a.length;++c<d;)if(a[c]==b)return!0;return!1},z=function(a,b){if(!a)return b;var c,d={};for(c in b)d[c]=x(a,c)?a[c]:b[c];return d},A=function(a,b){var c="";return a>=55296&&57343>=a||a>1114111?(b&&C("character reference outside the permissible Unicode range"),""):x(s,a)?(b&&C("disallowed character reference"),s[a]):(b&&y(t,a)&&C("disallowed character reference"),a>65535&&(a-=65536,c+=u(a>>>10&1023|55296),a=56320|1023&a),c+=u(a))},B=function(a){return"&#x"+a.charCodeAt(0).toString(16).toUpperCase()+";"},C=function(a){throw Error("Parse error: "+a)},D=function(a,b){b=z(b,D.options);var c=b.encodeEverything,d=b.useNamedReferences;return c?(a=a.replace(i,function(a){return d&&x(l,a)?"&"+l[a]+";":B(a)}),d&&(a=a.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),d&&(a=a.replace(k,function(a){return"&"+l[a]+";"}))):d?(a=a.replace(m,function(a){return"&"+l[a]+";"}),a=a.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),a=a.replace(k,function(a){return"&"+l[a]+";"})):a=a.replace(m,B),a.replace(h,function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1),d=1024*(b-55296)+c-56320+65536;return"&#x"+d.toString(16).toUpperCase()+";"}).replace(j,B)};D.options={useNamedReferences:!1,encodeEverything:!1};var E=function(a,b){b=z(b,E.options);var c=b.strict;return c&&o.test(a)&&C("malformed character reference"),a.replace(p,function(a,d,e,f,g,h,i,j){var k,l,m,n,o;return d?(k=d,l=e,c&&!l&&C("character reference was not terminated by a semicolon"),A(k,c)):f?(m=f,l=g,c&&!l&&C("character reference was not terminated by a semicolon"),k=parseInt(m,16),A(k,c)):h?(n=h,x(q,n)?q[n]:(c&&C("named character reference was not terminated by a semicolon"),a)):(n=i,o=j,o&&b.isAttributeValue?(c&&"="==o&&C("`&` did not start a character reference"),a):(c&&C("named character reference was not terminated by a semicolon"),r[n]+(o||"")))})};E.options={isAttributeValue:!1,strict:!1};var F=function(a){return a.replace(m,function(a){return n[a]})},G={version:"0.3.6",encode:D,decode:E,escape:F,unescape:E};if(e&&!e.nodeType)if(f)f.exports=G;else for(var H in G)x(G,H)&&(e[H]=G[H]);else d.he=G}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],58:[function(a,b){(function(c){function d(){this.types=Object.create(null),this.extensions=Object.create(null)}var e=(a("path"),a("fs"));d.prototype.define=function(a){for(var b in a){for(var d=a[b],e=0;e<d.length;e++)c.env.DEBUG_MIME&&this.types[d]&&console.warn(this._loading.replace(/.*\//,""),'changes "'+d[e]+'" extension type from '+this.types[d]+" to "+b),this.types[d[e]]=b;this.extensions[b]||(this.extensions[b]=d[0])}},d.prototype.load=function(a){this._loading=a;var b={},c=e.readFileSync(a,"ascii"),d=c.split(/[\r\n]+/);d.forEach(function(a){var c=a.replace(/\s*#.*|^\s*|\s*$/g,"").split(/\s+/);b[c.shift()]=c}),this.define(b),this._loading=null},d.prototype.lookup=function(a,b){var c=a.replace(/.*[\.\/\\]/,"").toLowerCase();return this.types[c]||b||this.default_type},d.prototype.extension=function(a){var b=a.match(/^\s*([^;\s]*)(?:;|\s|$)/)[1].toLowerCase();return this.extensions[b]};var f=new d;f.default_type=f.lookup("bin"),f.Mime=d,f.charsets={lookup:function(a,b){return/^text\//.test(a)?"UTF-8":b}},b.exports=f}).call(this,a("mBgmHg"),"/node_modules/mailcomposer/node_modules/mime")},{fs:1,mBgmHg:27,path:26}],59:[function(a,b){"use strict";b.exports=a("./lib/mimelib"),b.exports.contentTypes=a("./lib/content-types"),b.exports.contentTypesReversed=a("./lib/content-types-reversed")},{"./lib/content-types":61,"./lib/content-types-reversed":60,"./lib/mimelib":62}],60:[function(a,b){"use strict";b.exports={"application/msword":"doc","application/pdf":"pdf","application/rss+xml":"rss","application/vnd.ms-excel":"xls","application/vnd.ms-powerpoint":"ppt","application/vnd.oasis.opendocument.presentation":"odp","application/vnd.oasis.opendocument.spreadsheet":"ods","application/vnd.oasis.opendocument.text":"odt","application/vnd.sun.xml.calc":"sxc","application/vnd.sun.xml.writer":"sxw","audio/basic":"au","audio/flac":"flac","audio/mid":"mid","audio/mp4":"m4a","audio/mpeg":"mp3","audio/ogg":"ogg","audio/x-aiff":"aif","audio/x-wav":"wav","image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/tiff":"tif","image/vnd.wap.wbmp":"wbmp","image/x-ms-bmp":"bmp","text/calendar":"ics","text/comma-separated-values":"csv","text/css":"css","text/html":"html","text/plain":"txt","text/x-vcard":"vcf","video/mp4":"mp4","video/mpeg":"mpeg","video/ogg":"ogv","video/quicktime":"mov","video/x-msvideo":"avi","application/zip":"zip","application/x-rar-compressed":"rar"}},{}],61:[function(a,b){"use strict";b.exports={doc:"application/msword",docx:"application/msword",pdf:"application/pdf",rss:"application/rss+xml",xls:"application/vnd.ms-excel",xlsx:"application/vnd.ms-excel",pps:"application/vnd.ms-powerpoint",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.ms-powerpoint",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",sxc:"application/vnd.sun.xml.calc",sxw:"application/vnd.sun.xml.writer",au:"audio/basic",snd:"audio/basic",flac:"audio/flac",mid:"audio/mid",rmi:"audio/mid",m4a:"audio/mp4",mp3:"audio/mpeg",oga:"audio/ogg",ogg:"audio/ogg",aif:"audio/x-aiff",aifc:"audio/x-aiff",aiff:"audio/x-aiff",wav:"audio/x-wav",gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpeg",jpe:"image/jpeg",png:"image/png",tiff:"image/tiff",tif:"image/tiff",wbmp:"image/vnd.wap.wbmp",bmp:"image/x-ms-bmp",ics:"text/calendar",csv:"text/comma-separated-values",css:"text/css",htm:"text/html",html:"text/html",text:"text/plain",txt:"text/plain",asc:"text/plain",diff:"text/plain",pot:"text/plain",vcf:"text/x-vcard",mp4:"video/mp4",mpeg:"video/mpeg",mpg:"video/mpeg",mpe:"video/mpeg",ogv:"video/ogg",qt:"video/quicktime",mov:"video/quicktime",avi:"video/x-msvideo",zip:"application/zip",rar:"application/x-rar-compressed"}},{}],62:[function(a,b){(function(c){"use strict";function d(a,b){var c=76;return b=(b||"base64").toString().toLowerCase().trim(),"qp"==b?f(a,c):e(a,c)}function e(a,b){return a=(a||"").toString().trim(),a.replace(new RegExp(".{"+b+"}","g"),"$&\r\n").trim()}function f(a,b){for(var c,d,e,f=0,g=a.length,h=Math.floor(b/3),i="";g>f;)if(e=a.substr(f,b),c=e.match(/\r\n/))e=e.substr(0,c.index+c[0].length),i+=e,f+=e.length;else if("\n"!=e.substr(-1))if(c=e.substr(-h).match(/\n.*?$/))e=e.substr(0,e.length-(c[0].length-1)),i+=e,f+=e.length;else{if(e.length>b-h&&(c=e.substr(-h).match(/[ \t\.,!\?][^ \t\.,!\?]*$/)))e=e.substr(0,e.length-(c[0].length-1));else if("\r"==e.substr(-1))e=e.substr(0,e.length-1);else if(e.match(/\=[\da-f]{0,2}$/i))for((c=e.match(/\=[\da-f]{0,1}$/i))&&(e=e.substr(0,e.length-c[0].length));e.length>3&&e.length<g-f&&!e.match(/^(?:=[\da-f]{2}){1,4}$/i)&&(c=e.match(/\=[\da-f]{2}$/gi))&&(d=parseInt(c[0].substr(1,2),16),!(128>d))&&(e=e.substr(0,e.length-3),!(d>=192)););f+e.length<g&&"\n"!=e.substr(-1)?(76==e.length&&e.match(/\=[\da-f]{2}$/i)?e=e.substr(0,e.length-3):76==e.length&&(e=e.substr(0,e.length-1)),f+=e.length,e+="=\r\n"):f+=e.length,i+=e}else i+=e,f+=e.length;return i}function g(a,b){for(var c=b.length-1;c>=0;c--)if(b[c].length){if(1==b[c].length&&a==b[c][0])return!0;if(2==b[c].length&&a>=b[c][0]&&a<=b[c][1])return!0}return!1}var h=a("encoding").convert,i=a("addressparser");b.exports.foldLine=function(a,c,d,f,g){return d?e(a,c||76):b.exports.mimeFunctions.foldLine(a,c,!!f,g)},b.exports.encodeMimeWord=function(a,c,d,e){return b.exports.mimeFunctions.encodeMimeWord(a,c,e||0,d)},b.exports.encodeMimeWords=function(a,c,d,e){return b.exports.mimeFunctions.encodeMimeWords(a,c,d||0,e)},b.exports.decodeMimeWord=function(a){return b.exports.mimeFunctions.decodeMimeWord(a).toString("utf-8")},b.exports.parseMimeWords=function(a){return b.exports.mimeFunctions.decodeMimeWords(a).toString("utf-8")},b.exports.encodeQuotedPrintable=function(a,c,d){return"string"!=typeof c||d||(d=c,c=void 0),b.exports.mimeFunctions.encodeQuotedPrintable(a,d)},b.exports.decodeQuotedPrintable=function(a,c,d){"string"!=typeof c||d||(d=c,c=void 0),d=(d||"").toString().toUpperCase().trim();var e=b.exports.mimeFunctions.decodeQuotedPrintable(a,"utf-8",d);return"BINARY"==d?e:e.toString("utf-8")},b.exports.encodeBase64=function(a,c){return b.exports.mimeFunctions.encodeBase64(a,c)},b.exports.decodeBase64=function(a,c){return b.exports.mimeFunctions.decodeBase64(a,"utf-8",c).toString("utf-8")},b.exports.parseAddresses=function(a){return[].concat.apply([],[].concat(a).map(i)).map(function(a){return a.name=b.exports.parseMimeWords(a.name),a.group&&a.group.forEach(function(a){a.name=b.exports.parseMimeWords(a.name)}),a})},b.exports.parseHeaders=function(a){return b.exports.mimeFunctions.parseHeaderLines(a)},b.exports.parseHeaderLine=function(a){if(!a)return{};for(var b,c={},d=a.split(";"),e=0,f=d.length;f>e;e++)b=d[e].indexOf("="),0>b?c[e?"i-"+e:"defaultValue"]=d[e].trim():c[d[e].substr(0,b).trim().toLowerCase()]=d[e].substr(b+1).trim();return c},b.exports.mimeFunctions={mimeEncode:function(a,b,c){b=b||"UTF-8",c=c||"UTF-8";for(var d=h(a||"",b,c),e=[[9],[10],[13],[32],[33],[35,60],[62],[64,94],[96,126]],f="",i=0,j=d.length;j>i;i++)f+=g(d[i],e)?String.fromCharCode(d[i]):"="+(d[i]<16?"0":"")+d[i].toString(16).toUpperCase();return f},mimeDecode:function(a,b,d){a=(a||"").toString(),b=b||"UTF-8",d=d||"UTF-8";for(var e,f,g=(a.match(/\=[\da-fA-F]{2}/g)||[]).length,i=a.length-2*g,j=new c(i),k=0,l=0,m=a.length;m>l;l++)e=a.charAt(l),"="==e&&(f=a.substr(l+1,2))&&/[\da-fA-F]{2}/.test(f)?(j[k++]=parseInt(f,16),l+=2):j[k++]=e.charCodeAt(0);return"BINARY"==d.toUpperCase().trim()?j:h(j,b,d)},encodeBase64:function(a,b,c){var e=h(a||"",b,c);return d(e.toString("base64"),"base64")},decodeBase64:function(a,b,d){var e=new c((a||"").toString(),"base64");return h(e,b,d)},decodeQuotedPrintable:function(a,b,c){return a=(a||"").toString(),a=a.replace(/\=(?:\r?\n|$)/g,""),this.mimeDecode(a,b,c)},encodeQuotedPrintable:function(a,b,c){var e=this.mimeEncode(a,b,c);return e=e.replace(/\r?\n|\r/g,function(){return"\r\n"}).replace(/[\t ]+$/gm,function(a){return a.replace(/ /g,"=20").replace(/\t/g,"=09")}),d(e,"qp")},encodeMimeWord:function(a,b,c,d,e){d=(d||"utf-8").toString().toUpperCase().trim(),b=(b||"Q").toString().toUpperCase().trim().charAt(0);var f;return c&&c>7+d.length&&(c-=7+d.length),"Q"==b?(f=this.mimeEncode(a,d,e),f=f.replace(/[\r\n\t_]/g,function(a){var b=a.charCodeAt(0);return"="+(16>b?"0":"")+b.toString(16).toUpperCase()}).replace(/\s/g,"_")):"B"==b&&(f=h(a||"",d,e).toString("base64").trim()),c&&f.length>c&&("Q"==b?f=this.splitEncodedString(f,c).join("?= =?"+d+"?"+b+"?"):(f=f.replace(new RegExp(".{"+c+"}","g"),"$&?= =?"+d+"?"+b+"?"),f.substr(-(" =?"+d+"?"+b+"?=").length)==" =?"+d+"?"+b+"?="&&(f=f.substr(0,f.length-(" =?"+d+"?"+b+"?=").length)),f.substr(-(" =?"+d+"?"+b+"?").length)==" =?"+d+"?"+b+"?"&&(f=f.substr(0,f.length-(" =?"+d+"?"+b+"?").length)))),"=?"+d+"?"+b+"?"+f+("?="==f.substr(-2)?"":"?=")},decodeMimeWord:function(a,b){a=(a||"").toString().trim();var c,d,e;return(e=a.match(/^\=\?([\w_\-]+)\?([QqBb])\?([^\?]+)\?\=$/i))?(c=e[1],d=(e[2]||"Q").toString().toUpperCase(),a=(e[3]||"").replace(/_/g," "),"B"==d?this.decodeBase64(a,b,c):"Q"==d?this.mimeDecode(a,b,c):a):h(a,b)},decodeMimeWords:function(a,b){var c;return a=(a||"").toString().replace(/(=\?[^?]+\?[QqBb]\?[^?]+\?=)\s+(?==\?[^?]+\?[QqBb]\?[^?]+\?=)/g,"$1").replace(/\=\?([\w_\-]+)\?([QqBb])\?[^\?]+\?\=/g,function(a,b,d){return c=b+d,this.decodeMimeWord(a)}.bind(this)),h(a,b)},foldLine:function(a,b,c,d){b=b||76,d=d||Math.floor(b/5),a=(a||"").toString().trim();for(var e,f,g=0,h=a.length,i="";h>g;){if(e=a.substr(g,b),e.length<b){i+=e;break}(f=e.match(/^[^\n\r]*(\r?\n|\r)/))?(e=f[0],i+=e,g+=e.length):((f=e.substr(-d).match(/(\s+)[^\s]*$/))?e=e.substr(0,e.length-(f[0].length-(c?(f[1]||"").length:0))):(f=a.substr(g+e.length).match(/^[^\s]+(\s*)/))&&(e+=f[0].substr(0,f[0].length-(c?0:(f[1]||"").length))),i+=e,g+=e.length,h>g&&(i+="\r\n"))}return i},encodeMimeWords:function(a,b,c,d,e){var f,g=h(a||"","utf-8",e).toString("utf-8");return f=g.replace(/([^\s\u0080-\uFFFF]*[\u0080-\uFFFF]+[^\s\u0080-\uFFFF]*(?:\s+[^\s\u0080-\uFFFF]*[\u0080-\uFFFF]+[^\s\u0080-\uFFFF]*\s*)?)+/g,function(a){return a.length?this.encodeMimeWord(a,b||"Q",c,d):""}.bind(this))},encodeHeaderLine:function(a,b,c,d){var e=this.encodeMimeWords(b,52,c,d);return this.foldLine(a+": "+e,76)},parseHeaderLines:function(a,b){var c,d,e,f,g,h=a.split(/\r?\n|\r/),i={};for(f=h.length-1;f>=0;f--)f&&h[f].match(/^\s/)&&(h[f-1]+="\r\n"+h[f],h.splice(f,1));for(f=0,g=h.length;g>f;f++)e=this.decodeHeaderLine(h[f]),c=(e[0]||"").toString().toLowerCase().trim(),d=e[1]||"",(!b||(b||"").toString().trim().match(/^utf[\-_]?8$/i))&&(d=d.toString("utf-8")),i[c]?i[c].push(d):i[c]=[d];return i},decodeHeaderLine:function(a,b){var c=(a||"").toString().replace(/(?:\r?\n|\r)[ \t]*/g," ").trim(),d=c.match(/^\s*([^:]+):(.*)$/),e=(d&&d[1]||"").trim(),f=(d&&d[2]||"").trim();return f=this.decodeMimeWords(f,b),[e,f]},splitEncodedString:function(a,b){for(var c,d,e,f,g=[];a.length;){for(c=a.substr(0,b),(d=c.match(/\=[0-9A-F]?$/i))&&(c=c.substr(0,d.index)),f=!1;!f;)f=!0,(d=a.substr(c.length).match(/^\=([0-9A-F]{2})/i))&&(e=parseInt(d[1],16),194>e&&e>127&&(c=c.substr(0,c.length-3),f=!1));c.length&&g.push(c),a=a.substr(c.length)}return g},parseAddresses:i}}).call(this,a("buffer").Buffer)},{addressparser:63,buffer:3,encoding:64}],63:[function(a,b){"use strict";var c={};b.exports=function(a){return c.parse(a)},c.parse=function(a){var b=new c.Tokenizer(a),d=b.tokenize(),e=[],f=[],g=[];return d.forEach(function(a){"operator"!=a.type||","!=a.value&&";"!=a.value?f.push(a):(f.length&&e.push(f),f=[])}),f.length&&e.push(f),e.forEach(function(a){a=c._handleAddress(a),a.length&&(g=g.concat(a))}),g},c._handleAddress=function(a){var b,d,e,f,g=!1,h="text",i=[],j={address:[],comment:[],group:[],text:[]};for(e=0,f=a.length;f>e;e++)if(b=a[e],"operator"==b.type)switch(b.value){case"<":h="address";break;case"(":h="comment";break;case":":h="group",g=!0;break;default:h="text"}else b.value&&j[h].push(b.value);if(!j.text.length&&j.comment.length&&(j.text=j.comment,j.comment=[]),g)j.text=j.text.join(" "),i.push({name:j.text||d&&d.name,group:j.group.length?c.parse(j.group.join(",")):[]});else{if(!j.address.length&&j.text.length){for(e=j.text.length-1;e>=0;e--)if(j.text[e].match(/^[^@\s]+@[^@\s]+$/)){j.address=j.text.splice(e,1);break}var k=function(a){return j.address.length?a:(j.address=[a.trim()]," ")};if(!j.address.length)for(e=j.text.length-1;e>=0&&(j.text[e]=j.text[e].replace(/\s*\b[^@\s]+@[^@\s]+\b\s*/,k).trim(),!j.address.length);e--);}if(!j.text.length&&j.comment.length&&(j.text=j.comment,j.comment=[]),j.address.length>1&&(j.text=j.text.concat(j.address.splice(1))),j.text=j.text.join(" "),j.address=j.address.join(" "),!j.address&&g)return[];d={address:j.address||j.text||"",name:j.text||j.address||""},d.address==d.name&&((d.address||"").match(/@/)?d.name="":d.address=""),i.push(d)}return i},c.Tokenizer=function(a){this.str=(a||"").toString(),this.operatorCurrent="",this.operatorExpecting="",this.node=null,this.escaped=!1,this.list=[]},c.Tokenizer.prototype.operators={'"':'"',"(":")","<":">",",":"",":":";"},c.Tokenizer.prototype.tokenize=function(){for(var a,b=[],c=0,d=this.str.length;d>c;c++)a=this.str.charAt(c),this.checkChar(a);return this.list.forEach(function(a){a.value=(a.value||"").toString().trim(),a.value&&b.push(a)}),b},c.Tokenizer.prototype.checkChar=function(a){if((a in this.operators||"\\"==a)&&this.escaped)this.escaped=!1;else{if(this.operatorExpecting&&a==this.operatorExpecting)return this.node={type:"operator",value:a},this.list.push(this.node),this.node=null,this.operatorExpecting="",void(this.escaped=!1);if(!this.operatorExpecting&&a in this.operators)return this.node={type:"operator",value:a},this.list.push(this.node),this.node=null,this.operatorExpecting=this.operators[a],void(this.escaped=!1)}return this.escaped||"\\"!=a?(this.node||(this.node={type:"text",value:""},this.list.push(this.node)),this.escaped&&"\\"!=a&&(this.node.value+="\\"),this.node.value+=a,void(this.escaped=!1)):void(this.escaped=!0)}},{}],64:[function(a,b){(function(c){"use strict";function d(a,b,d,i){d=g(d||"UTF-8"),b=g(b||"UTF-8"),a=a||"";var j;if("UTF-8"!=d&&"string"==typeof a&&(a=new c(a,"binary")),d===b)j="string"==typeof a?new c(a):a;else if(h&&!i)try{j=e(a,b,d)}catch(k){console.log(k);try{j=f(a,b,d)}catch(k){console.log(k),j=a}}else try{j=f(a,b,d)}catch(k){console.log(k),j=a}return"string"==typeof j&&(j=new c(j,"utf-8")),j}function e(a,b,c){var d,e;return e=new h(c,b+"//TRANSLIT//IGNORE"),d=e.convert(a),d.slice(0,d.length)}function f(a,b,c){return"UTF-8"==b?i.decode(a,c):"UTF-8"==c?i.encode(a,b):i.encode(i.decode(a,c),b)}function g(a){return(a||"").toString().trim().replace(/^latin[\-_]?(\d+)$/i,"ISO-8859-$1").replace(/^win(?:dows)?[\-_]?(\d+)$/i,"WINDOWS-$1").replace(/^utf[\-_]?(\d+)$/i,"UTF-$1").replace(/^ks_c_5601\-1987$/i,"CP949").replace(/^us[\-_]?ascii$/i,"ASCII").toUpperCase()}var h,i=a("iconv-lite");try{}catch(j){}b.exports.convert=d}).call(this,a("buffer").Buffer)},{buffer:3,"iconv-lite":81}],65:[function(a,b,c){(function(a){function b(a){if(this.options=a,!a)throw new Error("DBCS codec is called without the data.");if(!a.table)throw new Error("Encoding '"+a.encodingName+"' has no data.");var b=a.table();this.decodeTables=[],this.decodeTables[0]=m.slice(0),this.decodeTableSeq=[];for(var c=0;c<b.length;c++)this._addDecodeChunk(b[c]);this.defaultCharUnicode=a.iconv.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var d={};if(a.encodeSkipVals)for(var c=0;c<a.encodeSkipVals.length;c++)for(var e=a.encodeSkipVals[c],f=e.from;f<=e.to;f++)d[f]=!0;this._fillEncodeTable(0,0,d);for(var g in a.encodeAdd||{})this._setEncodeChar(g.charCodeAt(0),a.encodeAdd[g]);if(this.defCharSB=this.encodeTable[0][a.iconv.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===i&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===i&&(this.defCharSB="?".charCodeAt(0)),"function"==typeof a.gb18030){this.gb18030=a.gb18030();for(var h=this.decodeTables.length,k=this.decodeTables[h]=m.slice(0),n=this.decodeTables.length,o=this.decodeTables[n]=m.slice(0),c=129;254>=c;c++)for(var p=l-this.decodeTables[0][c],q=this.decodeTables[p],f=48;57>=f;f++)q[f]=l-h;for(var c=129;254>=c;c++)k[c]=l-n;for(var c=48;57>=c;c++)o[c]=j}}function d(b){for(var c=new a(b.length*(this.gb18030?4:3)),d=this.leadSurrogate,e=this.seqObj,f=-1,g=0,j=0;;){if(-1===f){if(g==b.length)break;var l=b.charCodeAt(g++)}else{var l=f;f=-1}if(l>=55296&&57344>l)if(56320>l){if(-1===d){d=l;continue}d=l,l=i}else-1!==d?(l=65536+1024*(d-55296)+(l-56320),d=-1):l=i;else-1!==d&&(f=l,l=i,d=-1);var m=i;if(void 0!==e&&l!=i){var o=e[l];if("object"==typeof o){e=o;continue}"number"==typeof o?m=o:void 0==o&&(o=e[n],void 0!==o&&(m=o,f=l)),e=void 0}else if(l>=0){var p=this.encodeTable[l>>8];if(void 0!==p&&(m=p[255&l]),k>=m){e=this.encodeTableSeq[k-m];continue}if(m==i&&this.gb18030){var q=h(this.gb18030.uChars,l);if(-1!=q){var m=this.gb18030.gbChars[q]+(l-this.gb18030.uChars[q]);c[j++]=129+Math.floor(m/12600),m%=12600,c[j++]=48+Math.floor(m/1260),m%=1260,c[j++]=129+Math.floor(m/10),m%=10,c[j++]=48+m;continue}}}m===i&&(m=this.defaultCharSingleByte),256>m?c[j++]=m:65536>m?(c[j++]=m>>8,c[j++]=255&m):(c[j++]=m>>16,c[j++]=m>>8&255,c[j++]=255&m)}return this.seqObj=e,this.leadSurrogate=d,c.slice(0,j)}function e(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var b=new a(10),c=0;if(this.seqObj){var d=this.seqObj[n];void 0!==d&&(256>d?b[c++]=d:(b[c++]=d>>8,b[c++]=255&d)),this.seqObj=void 0}return-1!==this.leadSurrogate&&(b[c++]=this.defaultCharSingleByte,this.leadSurrogate=-1),b.slice(0,c)}}function f(b){var c,d=new a(2*b.length),e=this.nodeIdx,f=this.prevBuf,g=this.prevBuf.length,m=-this.prevBuf.length;g>0&&(f=a.concat([f,b.slice(0,10)]));for(var n=0,o=0;n<b.length;n++){var p=n>=0?b[n]:f[n+g],c=this.decodeTables[e][p];if(c>=0);else if(c===i)n=m,c=this.defaultCharUnicode.charCodeAt(0);else if(c===j){var q=m>=0?b.slice(m,n+1):f.slice(m+g,n+1+g),r=12600*(q[0]-129)+1260*(q[1]-48)+10*(q[2]-129)+(q[3]-48),s=h(this.gb18030.gbChars,r);c=this.gb18030.uChars[s]+r-this.gb18030.gbChars[s]}else{if(l>=c){e=l-c;continue}if(!(k>=c))throw new Error("Unknown table value when decoding: "+val);for(var t=this.decodeTableSeq[k-c],u=0;u<t.length-1;u++)c=t[u],d[o++]=255&c,d[o++]=c>>8;c=t[t.length-1]}if(c>65535){c-=65536;var v=55296+Math.floor(c/1024);d[o++]=255&v,d[o++]=v>>8,c=56320+c%1024}d[o++]=255&c,d[o++]=c>>8,e=0,m=n+1}return this.nodeIdx=e,this.prevBuf=m>=0?b.slice(m):f.slice(m+g),d.slice(0,o).toString("ucs2")}function g(){for(var b="";this.prevBuf.length>0;){b+=this.defaultCharUnicode;var c=this.prevBuf.slice(1);this.prevBuf=new a(0),this.nodeIdx=0,c.length>0&&(b+=f.call(this,c))}return this.nodeIdx=0,b}function h(a,b){if(a[0]>b)return-1;for(var c=0,d=a.length;d-1>c;){var e=c+Math.floor((d-c+1)/2);a[e]<=b?c=e:d=e}return c}c._dbcs=function(a){return new b(a)};for(var i=-1,j=-2,k=-10,l=-1e3,m=new Array(256),n=-1,o=0;256>o;o++)m[o]=i;b.prototype.encoder=function(){return{write:d,end:e,leadSurrogate:-1,seqObj:void 0,encodeTable:this.encodeTable,encodeTableSeq:this.encodeTableSeq,defaultCharSingleByte:this.defCharSB,gb18030:this.gb18030,findIdx:h}},b.prototype.decoder=function(){return{write:f,end:g,nodeIdx:0,prevBuf:new a(0),decodeTables:this.decodeTables,decodeTableSeq:this.decodeTableSeq,defaultCharUnicode:this.defaultCharUnicode,gb18030:this.gb18030}},b.prototype._getDecodeTrieNode=function(a){for(var b=[];a>0;a>>=8)b.push(255&a);0==b.length&&b.push(0);for(var c=this.decodeTables[0],d=b.length-1;d>0;d--){var e=c[b[d]];if(e==i)c[b[d]]=l-this.decodeTables.length,this.decodeTables.push(c=m.slice(0));else{if(!(l>=e))throw new Error("Overwrite byte in "+this.options.encodingName+", addr: "+a.toString(16));c=this.decodeTables[l-e]}}return c},b.prototype._addDecodeChunk=function(a){var b=parseInt(a[0],16),c=this._getDecodeTrieNode(b);b=255&b;for(var d=1;d<a.length;d++){var e=a[d];if("string"==typeof e)for(var f=0;f<e.length;){var g=e.charCodeAt(f++);if(g>=55296&&56320>g){var h=e.charCodeAt(f++);if(!(h>=56320&&57344>h))throw new Error("Incorrect surrogate pair in "+this.options.encodingName+" at chunk "+a[0]);c[b++]=65536+1024*(g-55296)+(h-56320)}else if(g>4080&&4095>=g){for(var i=4095-g+2,j=[],l=0;i>l;l++)j.push(e.charCodeAt(f++));c[b++]=k-this.decodeTableSeq.length,this.decodeTableSeq.push(j)}else c[b++]=g}else{if("number"!=typeof e)throw new Error("Incorrect type '"+typeof e+"' given in "+this.options.encodingName+" at chunk "+a[0]);for(var m=c[b-1]+1,f=0;e>f;f++)c[b++]=m++}}if(b>255)throw new Error("Incorrect chunk in "+this.options.encodingName+" at addr "+a[0]+": too long"+b)},b.prototype._getEncodeBucket=function(a){var b=a>>8;return void 0===this.encodeTable[b]&&(this.encodeTable[b]=m.slice(0)),this.encodeTable[b]},b.prototype._setEncodeChar=function(a,b){var c=this._getEncodeBucket(a),d=255&a;c[d]<=k?this.encodeTableSeq[k-c[d]][n]=b:c[d]==i&&(c[d]=b)},b.prototype._setEncodeSequence=function(a,b){var c,d=a[0],e=this._getEncodeBucket(d),f=255&d;e[f]<=k?c=this.encodeTableSeq[k-e[f]]:(c={},e[f]!==i&&(c[n]=e[f]),e[f]=k-this.encodeTableSeq.length,this.encodeTableSeq.push(c));for(var g=1;g<a.length-1;g++){var h=c[d];"object"==typeof h?c=h:(c=c[d]={},void 0!==h&&(c[n]=h))}d=a[a.length-1],c[d]=b},b.prototype._fillEncodeTable=function(a,b,c){for(var d=this.decodeTables[a],e=0;256>e;e++){var f=d[e],g=b+e;c[g]||(f>=0?this._setEncodeChar(f,g):l>=f?this._fillEncodeTable(l-f,g<<8,c):k>=f&&this._setEncodeSequence(this.decodeTableSeq[k-f],g))}}}).call(this,a("buffer").Buffer)},{buffer:3}],66:[function(a,b){b.exports={shiftjis:{type:"_dbcs",table:function(){return a("./tables/shiftjis.json")},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis","windows-31j":"shiftjis","x-sjis":"shiftjis",windows932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return a("./tables/eucjp.json")},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",isoir58:"gbk",windows936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return a("./tables/cp936.json")}},gbk:{type:"_dbcs",table:function(){return a("./tables/cp936.json").concat(a("./tables/gbk-added.json"))}},xgbk:"gbk",gb18030:{type:"_dbcs",table:function(){return a("./tables/cp936.json").concat(a("./tables/gbk-added.json"))},gb18030:function(){return a("./tables/gb18030-ranges.json")}},chinese:"gb18030",windows949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return a("./tables/cp949.json")}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return a("./tables/cp950.json")}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return a("./tables/cp950.json").concat(a("./tables/big5-added.json"))}},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},{"./tables/big5-added.json":72,"./tables/cp936.json":73,"./tables/cp949.json":74,"./tables/cp950.json":75,"./tables/eucjp.json":76,"./tables/gb18030-ranges.json":77,"./tables/gbk-added.json":78,"./tables/shiftjis.json":79}],67:[function(a,b,c){for(var d=[a("./internal"),a("./utf16"),a("./sbcs-codec"),a("./sbcs-data"),a("./sbcs-data-generated"),a("./dbcs-codec"),a("./dbcs-data")],e=0;e<d.length;e++){var b=d[e];for(var f in b)c[f]=b[f]}},{"./dbcs-codec":65,"./dbcs-data":66,"./internal":68,"./sbcs-codec":69,"./sbcs-data":71,"./sbcs-data-generated":70,"./utf16":80}],68:[function(a,b){(function(c){function d(){return new h(this.enc)}function e(){return{write:f,end:function(){},enc:this.enc}}function f(a){return new c(a,this.enc)}var g=new c([255,254]);b.exports={utf8:{type:"_internal",enc:"utf8"},cesu8:{type:"_internal",enc:"utf8"},unicode11utf8:{type:"_internal",enc:"utf8"},ucs2:{type:"_internal",enc:"ucs2",bom:g},utf16le:{type:"_internal",enc:"ucs2",bom:g},binary:{type:"_internal",enc:"binary"},base64:{type:"_internal",enc:"base64"},hex:{type:"_internal",enc:"hex"},_internal:function(a){if(!a||!a.enc)throw new Error("Internal codec is called without encoding type.");return{encoder:e,decoder:d,enc:a.enc,bom:a.bom}}};var h=a("string_decoder").StringDecoder;h.prototype.end||(h.prototype.end=function(){})}).call(this,a("buffer").Buffer)},{buffer:3,string_decoder:46}],69:[function(a,b,c){(function(a){function b(){return{write:d,end:function(){},encodeBuf:this.encodeBuf}}function d(b){for(var c=new a(b.length),d=0;d<b.length;d++)c[d]=this.encodeBuf[b.charCodeAt(d)];return c}function e(){return{write:f,end:function(){},decodeBuf:this.decodeBuf}}function f(b){for(var c=this.decodeBuf,d=new a(2*b.length),e=0,f=0,g=0,h=b.length;h>g;g++)e=2*b[g],f=2*g,d[f]=c[e],d[f+1]=c[e+1];return d.toString("ucs2")}c._sbcs=function(c){if(!c)throw new Error("SBCS codec is called without the data.");if(!c.chars||128!==c.chars.length&&256!==c.chars.length)throw new Error("Encoding '"+c.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===c.chars.length){for(var d="",f=0;128>f;f++)d+=String.fromCharCode(f);c.chars=d+c.chars}var g=new a(c.chars,"ucs2"),h=new a(65536);h.fill(c.iconv.defaultCharSingleByte.charCodeAt(0));for(var f=0;f<c.chars.length;f++)h[c.chars.charCodeAt(f)]=f;return{encoder:b,decoder:e,encodeBuf:h,decodeBuf:g}}}).call(this,a("buffer").Buffer)},{buffer:3}],70:[function(a,b){b.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\x00\b	\n\f\r !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:""},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\x00\b	\n\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\x00\b	\n\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\x00\b	\n\f\r !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\x00\b	\n\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}
},{}],71:[function(a,b){b.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii","ansix3.4":"ascii","ansix3.41968":"ascii","ansix3.41986":"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii","iso646.irv":"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620","tis620.25291":"tis620","tis620.25330":"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},{}],72:[function(a,b){b.exports=[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]]},{}],73:[function(a,b){b.exports=[["0","\x00",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]},{}],74:[function(a,b){b.exports=[["0","\x00",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]
},{}],75:[function(a,b){b.exports=[["0","\x00",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]},{}],76:[function(a,b){b.exports=[["0","\x00",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]},{}],77:[function(a,b){b.exports={uChars:[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],gbChars:[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189e3]}
},{}],78:[function(a,b){b.exports=[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93]]},{}],79:[function(a,b){b.exports=[["0","\x00",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]},{}],80:[function(a,b,c){(function(a){function b(){return{write:d,end:function(){}}}function d(b){for(var c=new a(b,"ucs2"),d=0;d<c.length;d+=2){var e=c[d];c[d]=c[d+1],c[d+1]=e}return c}function e(){return{write:f,end:function(){},overflowByte:-1}}function f(b){if(0==b.length)return"";var c=new a(b.length+1),d=0,e=0;for(-1!==this.overflowByte&&(c[0]=b[0],c[1]=this.overflowByte,d=1,e=2);d<b.length-1;d+=2,e+=2)c[e]=b[d+1],c[e+1]=b[d];return this.overflowByte=d==b.length-1?b[b.length-1]:-1,c.slice(0,e).toString("ucs2")}function g(a){a=a||{};var b=this.getCodec(a.use||"utf-16be");if(!b.bom)throw new Error("iconv-lite: in UTF-16 encoder, 'use' parameter should be either UTF-16BE or UTF16-LE.");return{write:h,end:i,bom:b.bom,internalEncoder:b.encoder(a)}}function h(b){var c=this.internalEncoder.write(b);return this.bom&&(c=a.concat([this.bom,c]),this.bom=null),c}function i(){return this.internalEncoder.end()}function j(a){return{write:k,end:l,internalDecoder:null,initialBytes:[],initialBytesLen:0,options:a||{},getCodec:this.getCodec}}function k(a){return this.internalDecoder?this.internalDecoder.write(a):(this.initialBytes.push(a),this.initialBytesLen+=a.length,this.initialBytesLen<16?"":m.call(this))}function l(){if(this.internalDecoder)return this.internalDecoder.end();var a,b=m.call(this);return this.internalDecoder&&(a=this.internalDecoder.end()),a&&a.length>0?b+a:b}function m(){var b=a.concat(this.initialBytes);if(this.initialBytes.length=this.initialBytesLen=0,b.length<2)return"";var c=this.options.default||"utf-16be";if(254==b[0]&&255==b[1])c="utf-16be",b=b.slice(2);else if(255==b[0]&&254==b[1])c="utf-16le",b=b.slice(2);else{for(var d=[0,0],e=Math.min(b.length-b.length%2,64),f=0;e>f;f+=2)0==b[f]&&32==b[f+1]&&d[0]++,32==b[f]&&0==b[f+1]&&d[1]++;d[0]>0&&0==d[1]?c="utf-16be":0==d[0]&&d[1]>0&&(c="utf-16le")}return this.internalDecoder=this.getCodec(c).decoder(this.options),this.internalDecoder.write(b)}c.utf16be=function(){return{encoder:b,decoder:e,bom:new a([254,255])}},c.utf16=function(a){return{encoder:g,decoder:j,getCodec:a.iconv.getCodec}}}).call(this,a("buffer").Buffer)},{buffer:3}],81:[function(a,b){(function(c,d){var e=b.exports;e.encodings=null,e.defaultCharUnicode="",e.defaultCharSingleByte="?",e.encode=function(a,b,c){a=""+(a||"");var f=e.getCodec(b).encoder(c),g=f.write(a),h=f.end();return h&&h.length>0?d.concat([g,h]):g},e.decode=function(a,b,c){"string"==typeof a&&(e.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),e.skipDecodeWarning=!0),a=new d(""+(a||""),"binary"));var f=e.getCodec(b).decoder(c),g=f.write(a),h=f.end();return h&&h.length>0?g+h:g},e.encodingExists=function(a){try{return e.getCodec(a),!0}catch(b){return!1}},e.toEncoding=e.encode,e.fromEncoding=e.decode,e._codecDataCache={},e.getCodec=function(b){e.encodings||(e.encodings=a("../encodings"));for(var c,d,f=(""+b).toLowerCase().replace(/[^0-9a-z]|:\d{4}$/g,"");;){if(c=e._codecDataCache[f])return c;var g=e.encodings[f];switch(typeof g){case"string":f=g;break;case"object":if(d)for(var h in g)d[h]=g[h];else d=g,d.encodingName=f;f=g.type;break;case"function":return d||(d={encodingName:f}),d.iconv=e,c=g.call(e.encodings,d),e._codecDataCache[d.encodingName]=c,c;default:throw new Error("Encoding not recognized: '"+b+"' (searched as: '"+f+"')")}}};var f="undefined"!=typeof c&&c.versions&&c.versions.node;if(f){var g=f.split(".").map(Number);(g[0]>0||g[1]>=10)&&a("./streams")(e),a("./extend-node")(e)}}).call(this,a("mBgmHg"),a("buffer").Buffer)},{"../encodings":67,"./extend-node":2,"./streams":2,buffer:3,mBgmHg:27}]},{},[50]),function(){var a;a=new Object,a._plugins={},a._workspace={},a._models={},a.angular={dependency:[]},a.loaded=!1,a.bootstraped=!1,a.default_plugin="",window.create_object_dictionary=function(a){var b,c,d,e;for(b={},d=0,e=a.length;e>d;d++)c=a[d],b[c.id]=c;return b},a.current_user=function(a){var b;return b=this,Nimbus.Share.get_me(function(c){return console.log(c),b._current_user=c,b._current_user.email||(b._current_user.email=Nimbus.Share.get_user_email()),a&&a(c),$("#user_pic").attr("src",c.pic),$("#user_pic_large").attr("src",c.pic)})},a.shared_users=function(a){var b;return b=this,Nimbus.Share.get_shared_users_real(function(c){return console.log(c),b._user_list=window.create_object_dictionary(c),a?a(c):void 0})},a.plugins_loaded=!1,a.load_plugins=function(){var a;return a=this,require(["core"],function(b){var c;return a.plugins_loaded=!0,c=function(){var c,d,e,f;for(d in arguments)f=arguments[d],e=b.names[d],a._plugins[e]=f;return c=a.angular.dependency.concat(["foundry-ui","ngRoute"]),angular.module("foundry",c).config(["$routeProvider",function(a){var c,d,e;e=b.paths;for(d in e)c=e[d],a.when("/"+d,{templateUrl:c+".html"})}]).run(["$rootScope","$location",function(a,b){var c,d,e,g,h;a._plugins={},d=-15,e="",h=foundry._plugins;for(c in h)g=h[c],g.order>d&&(d=f.order,e=c),a._plugins[c]=g;a._active_app_path="",a._current_global_user=foundry._current_user,a.$on("$locationChangeSuccess",function(){var c;c=localStorage.default_plugin||foundry.default_plugin,c&&!b.path()?b.path(c):b.path()||b.path(e),a._active_app_path=b.path(),localStorage.default_plugin=b.path()})}]),console.log("plugins loaded"),a.plugin_load_completed()},require(b.names,c)})},define("core",["config"],function(a){var b,c,d,e,f,g,h,i;console.log(a),f={},g={},d=[],e=[],i=a.plugins;for(c in i)h=i[c],f[c]=h+"/index",g[c]=h,d.push(c),e.push({name:c,location:h,main:"index"});return requirejs.config({packages:e}),b={plugins:g,paths:f,packages:e,appName:a.appName,names:d}}),a.plugin_load_completed=function(){return console.log("plugins is loaded")},a.init=function(a){var b,c,d;d=this,b=function(){var b,c,e;d.init_settings(),e=d._plugins;for(b in e)c=e[b],"function"==typeof c.inited&&c.inited();d.bootstraped||(angular.bootstrap(document,["foundry"]),d.bootstraped=!0),a&&a()},this.plugins_loaded?(console.log("plugins loaded, and start the callback"),this.reinitialize(b)):(console.log("not yet, put the callback into the plugin_callbak"),c=this.plugin_load_completed,this.plugin_load_completed=function(){return c(),d.reinitialize(b)})},a.module_status={},a.reinitialize=function(a){var b,c,d,e,f;a&&(this.module_finished=a),e=this._plugins;for(c in e)d=e[c],d.init&&(this.module_status[c]="start");f=this._plugins;for(c in f)if(d=f[c],"plugin"===d.type)try{d.init()}catch(g){b=g,console.log(b),this.initialized(c)}},a.initialized=function(a){var b,c,d;this.module_status[a]="end",console.log(this.module_status),d=this._plugins;for(b in d)if(c=d[b],"start"===this.module_status[b])return;return this.module_finished?this.module_finished():void 0},a.ready=function(a){var b;return b=this,Nimbus.Auth.set_app_ready(function(){return a(),b.loaded=!0})},a.model=function(a,b,c){var d,e,f;if(e=this,a&&b)return d=Nimbus.Model.setup(a,b),e._models[a]=d,f=function(){return c(d)},d.sync_all(f),d;throw"Model name and attributes should be specified"},a.module=function(b,c,d){var e;return e=!1,a._plugins[b]?e=!0:a._plugins[b]=c,d(!e),console.log("register "+(e?"failed":"ok"))},a.load=function(a){return this._plugins[a]},a.load_model=function(a){return this._models[a]},a.logout=function(){return Nimbus.Auth.logout()},a.parse_open_url=function(){var a,b,c,d,e,f;for(a={},f=decodeURIComponent(location.search.substring(1)).replace("/",""),e=/([^&=]+)=([^&]*)/g;c=e.exec(f);)a[c[1]]=c[2];if(a.state)try{d=JSON.parse(a.state),d&&(localStorage.login_user=d.userId,d.ids[0]&&(localStorage.last_opened_workspace=d.ids[0]))}catch(g){b=g,console.log(b)}else a.space&&(localStorage.last_opened_workspace=a.space,localStorage.to_open_topic=a.topic);return a},a.parse_open_url(),a.init_settings=function(){return a.settings=a.model("Settings",["userid","setting_name","setting_value"],function(b){return a.settings=b,a._my_settings=b.findByAttribute("userid",a._current_user.id)})},a.set_setting=function(a,b){var c,d;return c=foundry.settings.select(function(b){return b.userid===foundry._current_user.id&&b.setting_name===a}),0===c.length?foundry.settings.create({userid:foundry._current_user.id,setting_name:a,setting_value:b}):(d=c[0],d.setting_value=b,d.save())},a.get_setting=function(a){var b;return b=foundry.settings.select(function(b){return b.userid===foundry._current_user.id&&b.setting_name===a}),b.length>0?b[0].setting_value:null},a.get_setting_all=function(a,b){var c;return c=foundry.settings.select(function(c){return c.userid===a&&c.setting_name===b}),c.length>0?c[0].setting_value:null},a.set_file_public=function(a,b){var c;return c={body:{role:"reader",type:"anyone"},path:"/drive/v2/files/"+a+"/permissions",params:{fileId:a},method:"POST",callback:function(a){return log(a),b?b(a):void 0}},gapi.client.request(c)},window.foundry=a}.call(this),function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),function(){define("core/analytic",function(){var a,b,c,d,e,f;return c=function(){var a;return ga("create","UA-55223184-1",{userId:foundry._current_user.email}),ga("require","displayfeatures"),ga("set","dimension1",foundry._current_user.email),ga("set","dimension2",Nimbus.realtime.c_file.title),ga("set","dimension3",Nimbus.realtime.c_file.owners[0].emailAddress+":"+Nimbus.realtime.c_file.owners[0].displayName),a=foundry._models.User.all(),ga("set","dimension4",a),ga("send","pageview")},b=function(){var a,b,c,d,e;for(a=0,e=Nimbus.realtime.app_files,c=0,d=e.length;d>c;c++)b=e[c],b.owners[0].permissionId===foundry._current_user.id&&a++;return a},e=function(a){var c;if(ga)return c=b(),ga("send","event","forum_owner_operation:"+a.email,"create_workspace:"+a.name,c)},f=function(a){var b;if(ga)return b=foundry._models.User.all().length,ga("send","event","forum_owner_operation:"+a.email,"share_workspace:"+a.user,b)},d=function(){},a={init:function(){return c()},owner:function(a){return e(a)},user:function(a){return f(a)},login:function(a){return d(a)}}})}.call(this),function(){var a;define("document",function(){var b;return b={type:"plugin",title:"Document",anchor:"#/document",name:"document",version:1,order:-10,icon:"icon-file",controller_scope:null,init:function(){var b,c,d;d=this,c="Document",b=["id","title","timestamp"],foundry.model(c,b,function(a){return a.onUpdate(function(a,b,c){return"CREATE"!==a||c?void 0:d.all_file(function(){return d.controller_scope?(d.controller_scope.load(),d.controller_scope.$apply()):void 0})}),d.all_file(function(){return foundry.initialized(d.name)})}),a()},all_file:function(a){var b;return b=this,Nimbus.realtime.folder?Nimbus.Client.GDrive.getMetadataList("'"+Nimbus.realtime.folder.binary_files.id+"' in parents",function(c){b._documents=window.create_object_dictionary(c.items),a&&a(c.items)}):[]},upload_file:function(a,b){return Nimbus.Binary.upload_file(a,function(a){return b?b(a):void 0})},delete_file:function(a,b){var c;return Nimbus.Client.GDrive.deleteFile(a.id),delete this._documents[a.id],c=foundry._models.Document,a=c.findByAttribute("id",a.id),a&&a.destroy(),b?b():void 0},get:function(a){return this._documents[a]},set:function(a,b){var c,d;this._documents[a]||(this._documents[a]=b,d=foundry._models.Document,c=d.create({title:b.title,id:b.id,timestamp:(new Date).getTime()}),c.save())}}}),a=function(){return angular.module("foundry").controller("DocumentController",["$scope","$rootScope","ngDialog","$foundry","$timeout",function(a,b,c,d,e){var f;b.breadcum="Documents",f=foundry.load("document"),f.controller_scope=a,a.load=function(b){a.files=f._documents,b&&b()},a.choosed_file=null,a.upload_document=function(){var b;b=d.spinner({type:"loading",text:"Uploading "}),Nimbus.Binary.upload_file(a.choosed_file,function(c){return f.set(c._file.id,c._file),a.choosed_file=null,a.load(),a.$apply(),b.hide()})},a.delete_document=function(b){var c;return c=d.spinner({type:"loading",text:"Deleteing..."}),f.delete_file(b,function(){return console.log("deleting file"),e(function(){return a.load(function(){return c.hide()})},3e3)})},a.load()}]),angular.module("foundry").run(["$templateCache",function(a){var b;return b='<div ng-controller="DocumentController"> <div class="breadcrumb"> <h1 ng-bind="breadcum"></h1> <div class="pull-right"> <span class="btn outline btn-file"> <span class="fileupload-new">Add Document</span> <input type="file" en-model="choosed_file" fileread id="upload_file"> </span> <a class="btn btn-success" ng-show="choosed_file" ng-click="upload_document()">Upload</a> </div> </div> <div class="container-fluid"> <div class="row-fluid"> <div class="well-content"> <table class="table"> <thead> <tr> <th>Documents</th> </tr> </thead> <tbody> <tr ng-repeat="file in files"> <td> <div class="user_listing"> <i class="file_thumb" style="background-image:url({{file.thumbnailLink || file.iconLink}});" ></i> <a href="{{file.webContentLink}}"><span class="name">{{file.title}}</span></a> <div class="pull-right list_menu"> <a class="btn outline narrow" confirm on-confirm="delete_document(file)"><i class="icon-trash" ></i></a> </div> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div>',a.put("core/plugins/document/index.html",b)}])}}.call(this),function(){var a;define("user",["require","core/analytic"],function(b,c){var d;return d={_models:{},title:"Users",type:"plugin",order:-12,icon:"icon-user",init:function(){var a,b,c;c=this,b="User",a=["pid","name","role","email","pic","not_first_login","initied","rated","last_login_time"],this._models.user={},foundry.model(b,a,function(a){c._models.user=a,foundry.initialized("user")})},inited:function(){var b,d,e,f,g;c.init(),this.check_users(),d=this,f=foundry._models.User,g=foundry._user_list;for(b in g)e=g[b],e.id===Nimbus.realtime.c_file.owners[0].permissionId&&(foundry._current_owner=e);return a()},check_users:function(){var a,b,c,d,e,f,g,h,i;for(e=foundry._models.User,console.log("user list total :"+Object.keys(foundry._user_list).length+", user model total: "+e.all().length),h=e.all(),f=0,g=h.length;g>f;f++)d=h[f],d.email||d.destroy();i=foundry._user_list;for(c in i)d=i[c],b=e.findByAttribute("pid",c),b&&b.email&&(d.email=b.email,d.roleName=b.role),b&&!b.pic?(b.pic=d.pic,b.save()):b||(a={pid:c,name:d.name,pic:d.pic},d.email&&(a.email=d.email),a.role=Nimbus.realtime.c_file.owners[0].permissionId===c?"Admin":"Viewer",c===foundry._current_user.id&&(a.email=foundry._current_user.email),e.create(a),d.roleName=a.role),b=e.findByAttribute("pid",c),c===foundry._current_user.id&&(b.not_first_login||(b.not_first_login=1,b.save()))},all_user:function(){return this._models.user.all()},add_user:function(a,b){var d,e;return a.role||(a.role="Viewer"),d=this._models.user,e=d.findByAttribute("email",a.email),e||(e=d.create(a)),e.role=a.role,e.save(),this.add_share(e,function(a){return b?b(a):void 0}),c.user({email:foundry._current_user.email,user:a.email,id:foundry._current_user.id})},add_share:function(a,b){var c;return c=this._models.user,a.email&&(Nimbus.Share.add_share_user_real(a.email,function(d){var e;return d.name&&(e=c.findByAttribute("email",a.email),e.name=d.name,e.pid=d.id,e.pic=d.pic,e.save()),foundry._user_list[d.id]={name:d.name,pic:d.pic,roleName:a.role,email:a.email,id:d.id,role:d.role},b?(b(d),angular.element(document).scope().$apply()):void 0}),Nimbus.realtime.folder&&Nimbus.realtime.folder.binary_files)?Nimbus.Share.add_share_user_real(a.email,null,Nimbus.realtime.folder.binary_files.id):void 0},remove_share:function(a){Nimbus.Share.remove_share_user_real(a.id,function(){})},save_user:function(a,b){var c;return c=foundry._user_list[a],c.roleName=b.role,c=this._models.user.findByAttribute("pid",a),c?(c.role=b.role,c.save()):void 0},del_user:function(a,b){var c;return c=a.id,this.remove_share(a),b?b():void 0},mail_list:function(){var a,b,c,d,e;c="",a=0,e=foundry._user_list;for(b in e)d=e[b],d.email!==foundry._current_user.email&&(null==foundry.get_setting_all(b,"email")||foundry.get_setting_all(b,"email")!==!1)&&(0===a&&d.email?c+=d.name+" <"+d.email+">":d.email&&(c+=","+d.name+" <"+d.email+">"),a++);return c}}}),a=function(){return angular.module("foundry").controller("UserListController",["$scope","$rootScope","$parse",function(a,b){var c,d,e;e=foundry.load("user"),a.users=foundry._user_list,b.breadcum="Users",b.shortcut_name="Add User",c=foundry._current_user,a.user_permission="Viewer",d=function(){var b;return b=foundry._models.User.findByAttribute("pid",c.id),b?a.user_permission=b.role:void 0},d(),a.add_shortcut=function(){a.form_mode="create",$(".form").modal()},a.form_mode="create",a.usermodel={fields:{email:{type:"input",label:"Email"},role:{type:"select",label:"Role",options:{Admin:"Admin",Viewer:"Viewer"}}},create:"submit()",update:"update()"},a.userEditModel={fields:{role:{type:"select",label:"Role",options:{Admin:"Admin",Viewer:"Viewer"}}},create:"submit()",update:"update()"},a.user_data={name:"",email:""},a.edit_user=function(b){a.form_mode="edit",a.user_data=angular.copy(a.users[b]),a.user_data.role=a.user_data.roleName,$(".update_form").modal()},a.update=function(){e.save_user(a.user_data.id,a.user_data),d(),$(".modal").modal("hide"),a.user_data={}},a.del_user=function(b){return e.del_user(a.users[b]),delete foundry._user_list[b]},a.creating_user=!1,a.submit=function(){var b;a.creating_user||(a.creating_user=!0,b=function(){return a.user_data={},$(".form").modal("hide"),$(".create_button").removeClass("disabled"),a.creating_user=!1},$(".create_button").addClass("disabled"),e.add_user(a.user_data,function(){return b()}))},a.user_info={},a.show_user=function(b){var c;c=a.users[b],a.user_info={name:c.name,email:c.email},$(".userinfo").modal()},a.is_owner=function(a){return a.id===foundry._current_owner.id},a.clear=function(){$(".modal").modal("hide"),a.user_data={}}}]),angular.module("foundry").run(["$templateCache",function(a){var b;return b='<div ng-controller="UserListController"> <div class="breadcrumb"> <h1 ng-bind="breadcum"></h1> <div class="pull-right"> <a class="btn outline" ng-click="add_shortcut()">Add User</a> </div> </div> <div class="container-fluid"> <div class="row-fluid"> <div class="well-content"> <div> <table class="table"> <thead> <tr> <th>Current Users</th> </tr> </thead> <tbody> <tr ng-repeat="user in users"> <td> <div class="user_listing"> <img class="pic" ng-src="{{user.pic || \'assets/img/photo.jpg\'}}" /> <span class="name">{{user.name}}</span><span class="pill">{{user.roleName || \'Viewer\'}}</span> <span class="badge badge-info" ng-if="is_owner(user)" style="border-radius: 5px;padding: 3px 5px;position: relative;top: -2px;text-transform: uppercase;">Owner</span> <div class="pull-right list_menu"> <a class="btn outline narrow" ng-click="edit_user(user.id)" ng-show="user_permission==\'Admin\'">edit</a> <a class="btn outline narrow" ng-click="show_user(user.id)">show</a> <a class="btn outline narrow" confirm on-confirm="del_user(user.id)" ng-show="user_permission==\'Admin\'"><i class="icon-trash" ></i></a> </div> </div> </td> </tr> </tbody> </table> </div> <div class="form modal fade nimbus_form_modal"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" aria-hidden="true" ng-click="clear()">&times;</button> <h4 class="modal-title">User Form</h4> </div> <div class="modal-body"> <model-form model-name="usermodel" form-mode="form_mode" instance-name="user_data" on-create="submit()" on-update="update()"></model-form> </div> </div><!-- /.modal-content --> </div><!-- /.modal-dialog --> </div> <div class="update_form modal fade nimbus_form_modal"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" aria-hidden="true" ng-click="clear()">&times;</button> <h4 class="modal-title">User Form</h4> </div> <div class="modal-body"> <model-form model-name="userEditModel" form-mode="form_mode" instance-name="user_data" on-create="submit()" on-update="update()"></model-form> </div> </div><!-- /.modal-content --> </div><!-- /.modal-dialog --> </div> <div class="modal fade userinfo"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" aria-hidden="true" ng-click="clear()">&times;</button> <h4 class="modal-title" >User Info</h4> </div> <div class="modal-body"> <dl class="dl-horizontal" id="user_form"> <dt>Name :<dt> <dd>{{user_info.name}}</dd> <dt>Email : </dt><dd>{{user_info.email}}</dd> </dl> </div> </div><!-- /.modal-content --> </div><!-- /.modal-dialog --> </div> </div> </div> </div> </div>',a.put("core/plugins/user/index.html",b)}])}}.call(this),function(){var a;define("support",function(){return{title:"Support",type:"plugin",icon:"icon-info-sign",order:-15,init:function(){return foundry.initialized("support")},inited:function(){return a()}}}),a=function(){var a;return a="foundry",foundry||(a="foundry"),angular.module(a).controller("SupportController",["$scope","$foundry",function(a,b){var c;return c="admin@nimbusfoundry.com",a.createTicket=function(){var c,d,e,f;e=a.newTicket,a.newTicket="",d=[],foundry.supportEmail?d=foundry.supportEmail.split(","):d.push("release@nimbusbase.com"),Nimbus.Share.add_share_user_real(d[0],function(a){var b;return console.log(a),b={id:a.id,email:d[0],name:a.name,role:"Admin"},foundry._user_list[a.id]?void 0:foundry._user_list[a.id]=b}),f="<table style='border-collapse:collapse;width:100%;'> <tr> <td style='background: #1fa086;color: #fff;padding: 10px;border: 1px solid #1fa086;width:20%;border-bottom-color:#ddd;'>Workspace Name</td> <td style='border:1px solid #ddd; padding-left: 20px;'>"+Nimbus.realtime.c_file.title+"</td> </tr> <tr> <td style='background: #1fa086;color: #fff;padding: 10px;border: 1px solid #1fa086;width:20%;border-bottom-color:#ddd;'>Workspace Owner</td> <td style='border:1px solid #ddd; padding-left: 20px;'>"+foundry._current_owner.email+"</td> </tr> <tr> <td style='background: #1fa086;color: #fff;padding: 10px;border: 1px solid #1fa086;width:20%;border-bottom-color:#ddd;'>Support Subject</td> <td style='border:1px solid #ddd; padding-left: 20px;'>"+e+"</td> </tr> </table>",c=d.slice(1).reduce(function(a,b){var c;
return c="",c=a?""+a+", '"+b.split("@")[0]+"' <"+b+">":""+b.split("@")[0]+"' <"+b+">"},""),b.email("Forum Support",d[0],f,c),$("#notification").slideDown().delay(3e3).slideUp()}}]),angular.module("foundry").run(["$templateCache",function(a){var b;return b='<div ng-controller="SupportController"> <div class="breadcrumb"> <h1>Create a Support Request</h1> </div> <div class="container-fluid"> <div class="row-fluid"> <div class="well-content nimbus_form_modal"> <div class="alert alert-success" id="notification" style="display:none;">Your request has been sent to the support team, Thanks for using Forum.</div> <div class=""> <form action=""> <textarea name="newTicket" class="span12" ng-model="newTicket" id="newTicket" rows="10" style="border-radius: 0px"></textarea> <br> <input type="button" value="Submit" class="btn btn-primary" ng-click="createTicket()"> </form> </div> </div> </div> </div> </div> <style> .ticket-list{list-style: none; padding: 10px;background: #fff;} .ticket-list li{padding: 10px; border-bottom: 1px solid #ddd;} .ticket-list li:first-child{border-top: 1px solid #ddd;} .ticket-list li.solved{border-left: 3px solid green;} .ticket-list a {float: right;} </style>',a.put("core/plugins/support/index.html",b)}])}}.call(this),function(){var a;define("workspace",["require","core/analytic"],function(b,c){var d,e;return d=Nimbus.realtime.c_file,e={type:"plugin",title:"Workspace",anchor:"#/workspace",name:"workspace",version:1,order:-13,icon:"icon-folder-close",_app_files:[],_app_folders:[],init:function(){var b;return b=this,localStorage.last_opened_workspace&&localStorage.last_opened_workspace!==Nimbus.realtime.c_file.id?this.open({id:localStorage.last_opened_workspace}):(localStorage.last_opened_workspace=Nimbus.realtime.c_file.id,foundry.shared_users(function(a){var c;return c=a,foundry.current_user(function(a){var d,e,f;for(e=0,f=c.length;f>e;e++)d=c[e],d.id===a.id&&(foundry._current_user.role=d.role);return foundry._current_user.email||(foundry._current_user.email=Nimbus.Share.get_user_email()),console.log(c),foundry.initialized(b.name)})})),a()},inited:function(){return log("inited"),this.switch_callback&&this.switch_callback(),console.log(c)},switch_callback:null,all_doc:function(){return Nimbus.realtime.app_files},open:function(a,b){localStorage.last_opened_workspace=a.id,Nimbus.Share.switch_to_app_file_real(a.id,function(){b&&b(),angular.element(document).scope().$apply(),ga("set","dimension2",Nimbus.realtime.c_file.title),ga("set","dimension3",Nimbus.realtime.c_file.owners[0].emailAddress+":"+Nimbus.realtime.c_file.owners[0].displayName),ga("set","dimension4",foundry._models.User.all())})},create:function(a,b){var d;a||console.log("name required"),d=this,Nimbus.Client.GDrive.insertFile("",a,"application/vnd.google-apps.drive-sdk",null,function(a){Nimbus.realtime.app_files.push(a),d._app_files.push(a),b(a),angular.element(document).scope().$apply()}),c.owner({id:foundry._current_user.id,email:foundry._current_user.email,date:(new Date).getTime(),name:a})},current:function(){return Nimbus.realtime.c_file},is_current:function(a){return a.id===Nimbus.realtime.c_file.id},rename:function(a,b,c){var e,f,g,h,i;i=this,e=a.id,f=a.title,g={path:"/drive/v2/files/"+e,method:"PATCH",params:{key:Nimbus.Auth.key,fileId:e},body:{title:b},callback:function(g){var h,j,k,l,m,n,o;o=Nimbus.realtime.app_files;for(k in o)n=o[k],a.id===n.id&&(g.title=b);j=Nimbus.realtime.folder.binary_files,h=function(a){return c&&c(a),angular.element(document).scope().$apply()},m=function(a,c){return i.rename_folder(a,b+" files",function(a){return c&&(window.folder.binary_files=a),h(g)})},d.id!==e?(l="mimeType = 'application/vnd.google-apps.folder' and title = '"+f+" files' and properties has { key='space' and value='"+e+"' and visibility='PRIVATE' }",Nimbus.Client.GDrive.getMetadataList(l,function(a){return a.error?h():a.items.length>=1?(j=a.items[0],m(j)):h()})):m(j,!0)}},h=gapi.client.request(g)},rename_folder:function(a,b,c){var d,e,f;log("rename the folder"),d=a.id,e={path:"/drive/v2/files/"+d,method:"PATCH",params:{key:Nimbus.Auth.key,fileId:d},body:{title:b},callback:function(a){return c&&c(a),angular.element(document).scope().$apply()}},f=gapi.client.request(e)},del_doc:function(a){var b,c,d,e;if(a.id!==Nimbus.realtime.c_file.id){Nimbus.Client.GDrive.deleteFile(a.id),d=this._app_files;for(c in d)b=d[c],a.id===b.id&&this._app_files.splice(c,1);e=Nimbus.realtime.app_files;for(c in e)b=e[c],a.id===b.id&&Nimbus.realtime.app_files.splice(c,1)}}}}),a=function(){return angular.module("foundry").controller("ProjectController",["$scope","$rootScope","ngDialog","$foundry",function(a,b,c,d){var e;e=foundry.load("workspace"),b.breadcum="Workspace",a.filename="",a.current_edit=-1,a.load=function(){return a.projects=e.all_doc()},a.is_loaded=function(a){return e.is_current(a)},a.add_document=function(){a.filename="",c.open({template:"newfile",controller:this,scope:a})},a.create_doc=function(){var b;c.close(),b=d.spinner({type:"loading",text:"Creating "+a.filename+"..."}),e.create(a.filename,function(c){var d,e,f;if(c.title===a.filename){a.load(),b.hide(),f=a.projects;for(d in f)if(e=f[d],c.id===e.id)return void a["switch"](d)}})},a.edit=function(b){var d;d=a.projects[b],a.current_edit=b,a.newname=d.title,c.open({template:"rename",scope:a})},a["switch"]=function(b){var c,f;a.current_doc=c=a.projects[b],f=d.spinner({type:"loading",text:"Switching..."}),e.switch_callback=function(){return a.load(),f.hide()},e.open(c,function(){})},a.rename=function(){var b,f;b=a.projects[a.current_edit],f=d.spinner({type:"loading",text:"Renaming..."}),c.close(),e.rename(b,a.newname,function(b){return console.log(b),a.load(),f.hide()})},a.delet_doc=function(b){var c;c=a.projects[b],e.del_doc(c)},a.load()}]),angular.module("foundry").run(["$templateCache",function(a){var b;return b='<div ng-controller="ProjectController"> <div class="breadcrumb"> <h1 ng-bind="breadcum"></h1> <div class="pull-right"> <a class="btn outline" ng-click="add_document()">Add Workspace</a> </div> </div> <div class="container-fluid"> <div class="row-fluid"> <div class="well-content"> <table class="table"> <thead> <tr> <th>Current Workspaces</th> </tr> </thead> <tbody> <tr ng-repeat="project in projects"> <td> <div class="user_listing"> <i class="icon-folder-open colored-icon" ></i> <span class="name">{{project.title}}</span> <span class="pill" ng-show="is_loaded(project)">Loaded</span> <div class="pull-right list_menu"> <a class="btn outline narrow" ng-click="switch($index)">switch</a> <a class="btn outline narrow" ng-click="edit($index)">edit</a> <a class="btn outline narrow" confirm on-confirm="delet_doc($index)" ng-hide="is_loaded(project)"><i class="icon-trash" ></i></a> </div> </div> </td> </tr> </tbody> </table> </div> </div> <script type="text/ng-template" id="newfile"> <div class="nimbus_form_modal"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h4 class="modal-title">Add Document</h4> </div> <div class="modal-body"> <form method="get" accept-charset="utf-8"> <div class="nimb_form input" style="height:70px;"> <label>Name</label> <input type="text" ng-model="filename" placeholder="Type in document name" style="height:30px;margin-top:0px"> </div> </form> <button type="button" class="btn btn-primary" ng-click="create_doc()">Create</button> </div> </div><!-- /.modal-content --> </div><!-- /.modal-dialog --> </div> </script> <script type="text/ng-template" id="rename"> <div class="nimbus_form_modal"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h4 class="modal-title">Rename Document</h4> </div> <div class="modal-body"> <form method="get" accept-charset="utf-8"> <div class="nimb_form input" style="height:70px;"> <label>Name</label> <input type="text" ng-model="newname" placeholder="Type in document name" style="height:30px;margin-top:0px"> </div> </form> <button type="button" class="btn btn-primary" ng-click="rename()">Rename</button> </div> </div><!-- /.modal-content --> </div><!-- /.modal-dialog --> </div> </script> <script type="text/ng-template" id="swithing"> <div class="title"> swtiching to <span class="label label-success">{{current_doc.title}}</span>...</div> </script> </div> </div>',a.put("core/plugins/workspace/index.html",b)}])}}.call(this),function(){angular.module("foundry-ui",["ngDialog"]).directive("enEditor",["$parse","$timeout",function(a,b){return function(c,d,e){var f,g,h,i,j;j=a(e.ngModel)(c),i=function(){var c,e;return c=a(d.attr("ng-model")),e=c.assign,e(angular.element(d).scope(),$(d).val()),b(function(){return angular.element(d).scope().$apply()},0)},g=$(d).wysihtml5($.extend(foundry.wysiwygOptions,{stylesheets:[],events:{change:i,blur:i}})),c.$watch(e.ngModel,function(a){a||(a=""),a!==$(d).data("wysihtml5").editor.composer.getValue()&&$(d).data("wysihtml5").editor.composer.setValue(a)},!0),h=$(d).data("wysihtml5").editor.currentView.iframe,f=$(d).data("wysihtml5").editor.composer,$(h).on("load",function(){return $(h.contentDocument.body).on("keydown",function(a){return 13===a.keyCode?(f.selectedNodeBeforeReturn=f.selection.getSelectedNode(),f.commands.exec("insertHTML","<br>")):void 0}),$(h.contentDocument.body).on("paste",function(a){return console.log("pasted"),a.stopPropagation()})}),j||(j=""),$(d).data("wysihtml5").editor.composer.setValue(j)}}]).directive("modelForm",["$compile","$parse",function(a){return{restrict:"E",compile:function(){return function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r;m=Math.floor(1e9*Math.random()),h=d.instanceName,l=d.modelName,f=b[l].create,n=b[l].update,g="<form>",k=d.formMode,q=b[l].fields;for(j in q){switch(p=q[j],g+='<div class="nimb_form '+p.type+'"',p.show&&(g+='ng-show="'+p.show+'"'),p.hide&&(g+='ng-hide="'+p.hide+'"'),g+=">",g+='<label for="'+h+"."+j+m+'">'+p.label+"</label>",p.type){case"input":g+='<input type="text" id="'+h+"."+j+m+'" ng-model="'+h+"."+j+'">';break;case"select":g+='<select ng-model="'+h+"."+j+'">',r=p.options;for(i in r)o=r[i],g+='<option ng-selected="'+l+"."+j+".value == "+o+'" value="'+o+'">'+i+"</option>";g+="</select>";break;case"checkbox":g+='<div class="checker"><span><input style="margin-top:0px;margin-right:10px;" type="checkbox" ng-model="'+h+"."+j+'" >'+p.text+"</span></div><br>";break;case"text":g+='<textarea id="'+h+"."+j+m+'" ng-model="'+h+"."+j+'"></textarea>';break;case"editor":g+='<textarea style="" en-editor ng-model="'+h+"."+j+'">{{'+h+"[key]}}</textarea>";break;case"list":g+='<span ng-init="'+h+"."+j+"=[]||"+h+"."+j+'"></span>',g+='<tags-input custom-class="bootstrap" type="text" ng-model="'+h+"."+j+'"></tags-input>';break;case"radio":g+='<div><label ng-repeat="(k,v) in '+l+"."+j+'.options">',g+='<input name="'+h+"."+j+'" style="margin-top: -4px;margin-right: 5px;" type="radio" value="{{v}}" ng-model="'+h+"."+j+'"> {{k}}<br />',g+="</label></div>";break;case"file":g+='<span class="btn outline btn-file"><input type="file" form-file en-model="'+h+"."+j+'" class="fileupload">Choose File</span>',g+='<span class="btn btn-danger" ng-show="'+h+"."+j+'" ng-click="'+h+"."+j+'=null">Clear</span>',g+='<p class="file_attach">{{'+h+"."+j+".name}}</p>";break;case"date_time":g+='<input class="datetimepicker" en-date type="text" ng-model="'+h+"."+j+'">'}g+="</div>"}g+='<button ng-show="'+k+'==\'edit\'" class="btn btn-success update_button" ng-click="'+n+'">Update</button>',g+='<button ng-show="'+k+'==\'create\'" class="btn btn-primary create_button" ng-click="'+f+'">Create</button>',g+="</form>",e=a(g)(b),c.replaceWith(e)}}}}]).directive("enList",["$compile","$timeout","$parse",function(a,b){return function(a,c,d){return b(function(){return $(c).simpleTagger()},300),a.$watch(d.ngModel,function(){return console.log("new value")}),console.log("list directive")}}]).directive("userInfo",["$compile",function(a){return{restrict:"E",compile:function(){return function(){return console.log(a)}}}}]).directive("fileread",[function(){return{link:function(a,b,c){b.bind("change",function(b){return c.enModel?(a[c.enModel]=b.target.files[0],a.$apply()):void 0}),b.on("click",function(a){return a.stopPropagation()})}}}]).directive("formFile",["$parse",function(a){return function(b,c,d){var e,f;return f="test",e=function(c){var e;return d.enModel?(e=a(d.enModel),f=e.assign,f(b,c.target.files[0]),b.$apply()):void 0},c.bind("change",e)}}]).factory("$foundry",["$http",function(){var a;return a={email:function(){var a;return console.log("email"),a=function(a,b,c,d,e){var f;return f={from:encodeURIComponent("NimbusBase <me@nimbusbase.com>"),to:encodeURIComponent(b),subject:encodeURIComponent(a),html:encodeURIComponent(c)},d&&(f.bcc=encodeURIComponent(d)),e&&(f.cc=encodeURIComponent(e)),$.ajax({url:"http://192.241.167.76:3000/api.mailgun.net/v2/nimbusbase.com/messages",method:"post",beforeSend:function(a){return a.setRequestHeader("Authorization","Basic  YXBpOmtleS04c3RvbXM1eGwtaHRuZGFoMmZsNGNycG9vaTN0bnllMg==")},data:f,success:function(a){return console.log(a)}})},a.apply(this,arguments)},gmail:function(a,b,c,d,e){var f,g,h,i;return null==d&&(d=""),null==e&&(e=""),f="",i=function(a,b){var c;return f=base64EncArr(strToUTF8Arr(a)).replace(/\//g,"_").replace(/\+/g,"-"),c=gapi.client.gmail.users.messages.send({userId:"me",raw:f}),c.execute(b)},h=function(a,b){var c;return a?void console.log(a):(c=foundry._current_user.email,i(b,function(){var a,b,c,d,e,f,i;if(console.log(arguments),400===arguments[0].code&&"Invalid cc header"===arguments[0].message){for(console.log("sent failure for multiple cc, try to send email one by one"),c=!0,b=g.cc,g.cc=null,window.composeMail(g,h),d=b.split(","),i=[],e=0,f=d.length;f>e;e++)a=d[e],g.to=a,i.push(window.composeMail(g,h));return i}}))},g={from:"'"+foundry._current_user.name+"'<"+foundry._current_user.email+">",to:b,cc:d,bcc:e,subject:a,html:c},window.composeMail?window.composeMail(g,h):window.mailTasks.push(g,h)},validate:function(a,b){return console.log("validation"),Nimbus.Share.add_share_user_real(email,function(a){var c;c=a.name?!0:!1,Nimbus.Share.remove_share_user_real(a.id,function(){return b(c)})})},spinner:function(a){var b,c,d,e;switch(b={text:a.text},a.type){case"loading":c={lines:13,length:11,width:5,radius:17,corners:1,rotate:0,color:"#FFF",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:"auto"},e=document.createElement("div"),document.body.appendChild(e),d=new Spinner(c).spin(e),b.spinner=d;break;case"sucess":b.icon="img/check.png";break;case"error":b.icon="img/cross.png"}return iosOverlay(b)},rss:function(a,b){var c,d,e,f,g,h;g=e="http://192.241.167.76:9292/",d=null,c=function(a){var b;return b=a.indexOf("https://"),a=-1===b?g+a.replace("http://",""):e+a.replace("https://","")},f=function(a){var b,e,f,g;return b=a.rss,f=a.url,e=a.callback,g=a.title,$.ajax({url:c(f),dataType:"xml",success:function(a){var c,f,h,i,j,k;for(h=$(a).find("item"),0===h.length&&(h=$(a).find("entry")),i=null,c=!0,j=0,k=h.length;k>j;j++){if(f=h[j],-1!==$(f).find("link").text().indexOf(b)){i=f,c=!1;break}if(g&&-1!==g.indexOf($(f).find("title").text())){i=f,c=!1;break}}return c&&(i={title:g}),e?d(i,c):void 0},error:function(a,c){var f,h,i,j,k,l,m;for(console.log(a,c),f=null,"parsererror"===c&&(f=$(a.responseText)),j=$(f).find("item"),0===j.length&&(j=$(f).find("entry")),k=null,h=!0,l=0,m=j.length;m>l;l++){if(i=j[l],-1!==$(i).find("link").text().indexOf(b)){k=i,h=!1;break}if(g&&-1!==g.indexOf($(i).find("title").text())){k=i,h=!1;break}}return h&&(k={title:g}),e?d(k,h):void 0}})},(h=function(a,b){var e;return e=c(a),d=b,$.ajax({url:e,async:!1,dataType:"html",success:function(b){var c,e,g,h;return h=/<title>([\s\S]*)<\/title>/.exec(b),e=/application\/rss\+xml.*href=['"](.*)['"]/.exec(b),e&&e.length>=2?(c=e[1],-1!==c.indexOf("feedburner.com")&&(c+="?format=xml"),g={url:c,rss:a,title:h[1]||"",callback:!0},f(g)):(console.log("error when get this site"),b={title:h[1]||""},d(b,!0))},error:function(a){return console.log(a),d(null,!0)}})})(a,b)}}}]).directive("enCalendar",["$parse",function(){var a;return a=function(a,b,c){var d;d={},c.enClick&&(d.action=function(c){var d;return d=c.target.id.replace("_day",""),$(b).find(".current_date").removeClass("current_date"),$("#"+d).addClass("current_date"),a.show_date.call(a,c),a.$apply()}),$(b).zabuto_calendar(d),a.$watch("selected_date",function(a){return a&&""!==a?void 0:$(b).find(".current_date").removeClass("current_date")})},{link:a}}]).directive("bindHtmlUnsafe",["$compile",function(){return function(a,b,c){var d,e;return d=function(a){return a&&(a=a.replace(/\n/g,"<br>")),b.html("").append(a)},e=c.bindHtmlUnsafe,a.$watch(e,function(a){return d(a)})}}]).directive("confirm",["$compile",function(a){return{link:function(b,c,d){return c.bind("click",function(){var c,e,f,g;g=d.onConfirm,f=d.onCancel?d.onCancel:"",e='<div class="wrapper dismiss_containter"><form>',e+='<div class="m-t-lg text-right"><button style="margin-right:5px" en-dismiss ng-click="'+g+'" class="btn btn-success">Yes</button>',e+='<button class="btn btn-danger bootbox-close-button" en-dismiss ng-click="'+f+'">No</button></div>',e+="</form></div>",c=a(e)(b),bootbox.dialog({title:"Are you sure you want to do this?",className:"nimbus_confirm_modal",message:c})})}}}]).directive("enDismiss",function(){return function(a,b){return b.bind("click",function(){return bootbox.hideAll()})}}).directive("subexternal",function(){return{link:function(a,b){return b.delegate("a","click",function(a){var b;if(this.href&&0!==this.href.indexOf("#"))return a.preventDefault(),b=this.href,window.open(b,"_blank")})}}}).directive("enDate",function(){return function(a,b){return $(b).datetimepicker()}}).directive("enEditInPlace",["$parse","$compile",function(a){return{restrict:"A",require:"?ngModel",link:function(b,c,d){var e,f;e=$("<div contentEditable='true' class='temp tasks-list-desc editable-cell' style='top:0px;text-decoration:none'></div>"),f=function(f){var g,h;return h=a(d.ngModel)(b),g=a(d.enableEdit)(b),f.stopPropagation(),g?void 0:(c.after(e.html(h)).hide(),e.focus(),e.on("blur",function(){return c.show().next(".temp").remove()}),e.on("keydown",function(a){return 13===a.keyCode?(b.$apply(function(){return c.controller("ngModel").$setViewValue(e.text())}),c.show().next(".temp").remove()):void 0}))},c.on("click",f)}}}]).directive("enZoom",[function(){return function(a,b,c){var d;return d=c.enZoom,b.on("click",function(){var a,b;return a='<div class="image-zoomed todo-image-zoomed">',a+="<img src='"+d+"' />",a+='<div class="backdrop"></div>',a+="</div>",b=$(a),b.on("click",function(){return $(this).fadeOut(function(){return $(this).remove()})}),$("body").append(b.fadeIn())})}}]).directive("imgZoom",function(){return{link:function(a,b){var c;return b.delegate("img","mouseenter",function(a){var b,c;return c=a.target.src,b="<div class='mask'></div><a class='zoom-action-button' data-src='"+c+"'><i class='icon icon-zoom-in'></i></a>",$(a.target).wrap('<p class="image-zoom-container"></p>'),$(a.target).parent().append(b)}),b.delegate("img","mouseleave",function(a){return $(a.target).children("a,div.mask").remove(),$(a.target).siblings("a,div.mask").remove(),$(a.target).unwrap()}),b.delegate(".zoom-action-button","click",function(a){var b;return b=$(a.target).data("src"),c(b)}),c=function(a){var b,c;return b='<div class="image-zoomed todo-image-zoomed">',b+="<img src='"+a+"' />",b+='<div class="backdrop"></div>',b+="</div>",c=$(b),c.on("click",function(){return $(this).fadeOut(function(){return $(this).remove()})}),$("body").append(c.fadeIn())},console.log("in link stage")}}}).directive("subZoom",function(){return function(a,b){var c;return b.delegate("img","click",function(a){var b;return b=a.target.src,c(b)}),c=function(a){var b,c;return b='<div class="image-zoomed todo-image-zoomed">',b+="<img src='"+a+"' />",b+='<div class="backdrop"></div>',b+="</div>",c=$(b),c.on("click",function(){return $(this).fadeOut(function(){return $(this).remove()})}),$("body").append(c.fadeIn())}}}).directive("rssFeed",function(){return function(){}}),angular.module("foundry-ui").directive("enFile",["$parse",function(a){return{restrict:"A",link:function(b,c,d){c.on("change",function(c){var e;return d.enModel&&(e=a(d.enModel).assign)(b,c.target.files[0]),b.$apply()}),c.on("click",function(a){return a.stopPropagation()})}}}])}.call(this),angular.module("foundry-ui").filter("utc_date",function(){return function(a){var b;return b=new Date(a),b=b.toDateString()}});